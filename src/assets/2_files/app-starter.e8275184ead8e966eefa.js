webpackJsonp([84],{1013:function(e,t,n){(function(r){var i,o,a=function(e,t){return function(){return e.apply(t,arguments)}},s=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},l={}.hasOwnProperty;window.global=window,i=[n(1117),n(245),n(4428),n(4480),n(4448),n(4449),n(4446),n(4438),n(4434),n(4467),n(1158),n(4455),n(1920),n(4436),n(4444),n(1713),n(1711),n(4451),n(1204),n(1151),n(4445),n(164),n(1133),n(3550),n(3555),n(1120),n(4463),n(1118),n(1244),n(4415),n(246),n(4440),n(1119),n(4437),n(1168),n(4454),n(1918),n(4439),n(4450),n(4452),n(401),n(14),n(4442),n(3562),n(4431),n(1921),n(1716),n(1156),n(4427),n(1935),n(4453),n(1923),n(4432),n(4443),n(4461),n(4441),n(414),n(1907),n(3523),n(3554),n(3552),n(3526),n(3527),n(3528),n(3529),n(3530),n(3531),n(3535),n(3532),n(3533),n(3534),n(3536),n(3524),n(3589),n(3570),n(1187),n(3573),n(3572),n(3575),n(3583),n(3579),n(3581),n(3582),n(3587),n(3576),n(3588),n(4419),n(4420),n(4421),n(4423),n(4424),n(4425),n(4426),n(2160),n(2161),n(1166),n(3586),n(1912),n(3551),n(3549),n(3548),n(4447),n(4416)],void 0!==(o=function(e,t,i,o,p,u,d,c,f,h,m,g,y,b,v,w,k,T,I,C,x,S,j,O,P,_,D,A,E,M,L,U,F,N,R,$,B,H,Y,W,q,z,V,K,G,J,Q,Z,X,ee,te,ne,re,ie,oe,ae){return function(){function I(n,r){this.InitUserTracker=a(this.InitUserTracker,this),this.SetRavenUser=a(this.SetRavenUser,this),this.GetLoadingStrings=a(this.GetLoadingStrings,this),this.isElectron=a(this.isElectron,this),this.showLoginModal=a(this.showLoginModal,this),this.getImporterStatus=a(this.getImporterStatus,this),this.SetPageTitle=a(this.SetPageTitle,this),this.UpdatePageTitle=a(this.UpdatePageTitle,this),this.GetPageTitle=a(this.GetPageTitle,this),this.OnImageThumbLoadFail=a(this.OnImageThumbLoadFail,this),this.select2FormatProjectStatusIcons=a(this.select2FormatProjectStatusIcons,this),this.select2FormatMilestoneStatusIcons=a(this.select2FormatMilestoneStatusIcons,this),this.select2FormatPriorityIcons=a(this.select2FormatPriorityIcons,this),this.trackPage=a(this.trackPage,this),this.initPendo=a(this.initPendo,this),this.initMouseTracking=a(this.initMouseTracking,this),this.OnHashChange=a(this.OnHashChange,this),this.initKeyboardShortcuts=a(this.initKeyboardShortcuts,this);var l,k,I,C,O,P,_,D,A,E,M;if(console.assert(void 0===window.app),window.app=this,this.thirdPartyScriptsInitialized=!1,this.utility=new m,this.branding=j.fromJS(initialData["v/1/settings/branding.json"].branding),this.initialPriceplanFeatures=j.fromJS(null!=(C=initialData["account.json"].account)&&null!=(O=C.priceplanData)?O.features:void 0),window.Lightbox=this.Lightbox=new V,S.punches.enableAll(),window._koc=function(e){switch(e){case"c":return S.contextFor($0).$component;case"d":return S.contextFor($0).$data;default:return S.contextFor($0).$component}},null!=window.XMLHttpRequestSend&&(XMLHttpRequest.prototype.send=window.XMLHttpRequestSend),window.moment=z,Z.setOptions({credits:{enabled:!1},chart:{style:{fontFamily:L.FONTFAMILY}}}),this.hybrid={},this.hybrid.router=r,this.hybrid.store=n,this.hybrid.meta=S.observable({}),this.hybrid.apiDispatch=ne.apiDispatcher(n),this.integrationBetaFeatures=["googleCalendar"],!window.devMode&&"https:"!==window.location.protocol&&(-1!==window.location.href.indexOf("teamwork.com")||-1!==window.location.href.indexOf("teamworkpm.net")))return void app.GoToExt("https:"+window.location.href.substring(window.location.protocol.length));window.onerror=function(e,t,n,r,i){return!(!e.match(/Cannot read property 'localization' of/)&&!e.match(/app.loggedInUser is null/))||(!!e.match(/Cannot read property 'languageCode' of/)||!("undefined"==typeof app||null===app||null!==app.loggedInUser&&null!==app.account||!e.match(/Cannot read property \'.*\' of null/))&&(app.showLoginModal(),!0))},window.devMode||q.config("https://0f76ee7612b14d149cd1a0507720d1cc@app.getsentry.com/76895",{fetchContext:!0,linesOfContext:4,release:window.appVersionId,serverName:this.utility.GetCookie("PROJLB"),ignoreUrls:[L.EMBEDDED_CHAT.JS_BUNDLE_NAME_PATTERN,/pweb-utils\.([^\.]+\.)?dev\.(bustores|bubbleup)\.com/i],shouldSendCallback:function(e){return function(e){var t,n,r;return!app.isMSIE11&&!("Edge"===(null!=(t=window.browserInfo)?t.vendor:void 0)&&"SecurityError"===(null!=(n=e.exception)&&null!=(r=n.values)?r[0].value.toString().trim():void 0))}}()}).install(),this.extendMoment(),this.extendKnockout(),this.bodyScrollOffset=S.observable(0),this.ko=S,this.ko.mapping=j,this.consts=L,this.cache=new i,this.dataLoaderRequests={},window.ko=S,this.api=B,this.isLanguagePackLoadedOrEnglish=S.observable(!1),this.isLanguagePackLoading=S.observable(!1),this.languagePackPromise=null,this.isLanguagePackLoadedOrEnglish.subscribe(function(e){return function(t){return e.isLanguagePackLoading(!1)}}(this)),k=Object.keys(initialData).find(function(e){return"me.json"===e.substring(0,7)}),I=null!=(P=k&&(null!=(_=initialData[k])&&null!=(D=_.person)&&null!=(A=D.localization)?A.languageCode:void 0))?P:"EN",I=I.toUpperCase(),"EN"!==I&&(this.languagePackPromise=this.GetLanguagePack(!1,I)),this.timers=S.observableArray([]),this.consts.TRUSTED=this.consts.TRUSTED_EXTERNAL.concat(this.consts.TRUSTED_INTERNAL),this.testOverduePayment=S.observable(!1),this.testExpiryMessaging=S.observable(!1),this.testCancellationChat=S.observable(!1),this.shouldShowUnauthorisedSessionError=S.observable(!1),this.shouldShowUnauthorisedSessionError.subscribe(function(e){return function(e){e&&app.redirectToLogin()}}()),this.notAuthorisedErrorWhileOnLoadingScreenCode=S.observable(401),this.isQuickAddOpen=S.observable(!1),this.quickAddProject=S.observable(null),this.isLazyLoadDone=S.observable(!1),this.isLoggedIn=S.observable(!1),this.isLoggedIn.subscribe(function(e){return function(t){t||e.notifications.Disconnect()}}(this)),this.newVersionsIgnored=S.observableArray([]),this.latestAvailableVersion=S.observable(window.appVersionId),this.promptBrowserReload=S.observable(!1),this.newVersionAvailable=S.pureComputed(function(e){return function(){var t;if(e.utility.GetBoolean(e.promptBrowserReload()))return e.latestAvailableVersion()!==window.appVersionId&&(t=e.latestAvailableVersion(),!(s.call(e.newVersionsIgnored(),t)>=0))}}(this)),this.outageErrorMessage=S.observable(""),this.outageErrorMessagesIgnored=S.observableArray([]),this.hasOutageErrorMessage=S.pureComputed(function(e){return function(){var t;return""!==e.outageErrorMessage()&&(t=e.outageErrorMessage(),!(s.call(e.outageErrorMessagesIgnored(),t)>=0))}}(this)),this.isTrialExpired=S.observable(!1),this.isPaymentOverDue=S.observable(!1),this.shouldShowCardExpiryMessage=S.observable(!1),this.scaInterventionNeeded=S.observable(!1),this.hostedInvoiceUrl=S.observable(!1),this.showPlanTrialBanner=S.observable(!1),this.showPaymentBanner=S.observable(!1),this.shouldShowCardExpiryMessage.subscribe(function(e){return function(t){if(t)return e.showPaymentBanner(!1)}}(this)),this.isTrialExpired.subscribe(function(e){return function(t){if(t)return e.showPaymentBanner(!0)}}(this)),this.isPaymentOverDue.subscribe(function(e){return function(t){if(t)return e.showPaymentBanner(!0)}}(this)),this.showBacklog=S.observable(!1),this.isShowingFullScreenMode=S.observable(!1),this.isShowingQuickJump=S.observable(!1),this.isScrollUpDisabled=S.observable(!1),this.isBoardsView=S.pureComputed(function(e){return function(){return null!=("function"==typeof e.currentRoute?e.currentRoute().page:void 0)&&("projects"===e.currentRoute().page&&"portfolio"===e.currentRoute().projectsPageTab&&null!=e.currentRoute().itemId||("person"===e.currentRoute().page&&"boards"===e.currentRoute().personPageTab&&null!=e.currentRoute().boardId||null!=("function"==typeof e.currentRoute?e.currentRoute().projectTab:void 0)&&("tasks"===e.currentRoute().projectTab&&e.currentRoute().request_.indexOf("/board")>-1)))}}(this)),this.shouldShowHeader=S.pureComputed(function(e){return function(){return!1!==app.currentRoute().hasHeader}}()),this.shouldShowPrimaryNav=S.pureComputed(function(e){return function(){return-1===window.location.href.indexOf("hideheadernavigation")}}()),this.enforceProject=S.observable(-1!==window.location.href.indexOf("enforceproject")),this.enforceProjectId=S.observable(-1),this.currentFilter=S.observable(null),this.isFiltersTippedVisible=S.observable(!1),this.isAddEditReport=S.observable(!1),l=ne.stateAsObservable(this.hybrid.store,function(e){return e.filter.currentFilterKey},""),this.savedFiltersKey=S.pureComputed(function(e){return function(){var e,t;if(t=app.currentRoute(),e=t.page,l())return l();switch(e){case"home":switch(t.homePageTab){case"activity":return"homeActivity";case"dashboards":return"homeDashboard";case"comments":return"homeComments";case"events":return"homeEvents";case"messages":return"homeMessages";case"projects":return"homeProjectsList";case"today":return"homeTodayTasks"}break;case"projects":switch(t.projectsPageTab){case"templates":return"projectsTemplates";case"portfolio":return"projectsPortfolio";case"chart":return"projectsChart";default:return"projectsList"}break;case"calendar":return"calendar";case"everything":switch(t.everythingPageTab){case"tasks":return"allActiveTasks";case"completedTasks":return"allCompletedTasks";case"workload":switch(t.workloadPageTab){case"planner":return"plannerWorkload";default:return"allWorkload"}break;default:return"all"+app.utility.Capitalize(t.everythingPageTab)}break;case"reporting":switch(t.reportingPageTab){case"tasks":return"allActiveTasks";case"completedTasks":return"allCompletedTasks";case"workload":switch(t.workloadPageTab){case"planner":return"plannerWorkload";default:return"allWorkload"}break;default:return"all"+app.utility.Capitalize(t.reportingPageTab)}break;case"project":return app.isBoardsView()?"projectTasksBoard":"tasklists"===t.projectTab.toLowerCase()?"projectTasks":"project"+app.utility.Capitalize(t.projectTab);case"person":if(app.isBoardsView())return"userTasksBoard";switch(t.personPageTab){case"completed":return"personCompletedTasks";case"details":case"integrations":case"time":case"activity":case"boards":return"";case"projects":return"personProjectsList";default:return"person"+app.utility.Capitalize(t.personPageTab)}break;case"company":switch(t.companyPageTab){case"projects":return"companyProjectsList";default:return""}break;case"task-templates":return"taskTemplates";default:return""}}}()),this.currentFiltersComponent=S.pureComputed(function(){var e,t,n,r;if(r=app.currentRoute(),e=r.page,n=null!=(t=r.request_)?t:"",app.hybrid.meta().filters)return app.hybrid.meta().filters;if(n.includes("/create"))return"";if(null!=r.itemId&&!n.includes("tasklists/")&&!n.includes("portfolio/"))return"";if(null!=r.projectMilestonesTab&&!isNaN(parseInt(r.projectMilestonesTab,10)))return"";if(null!=r.dashboardPageTab&&!app.featureFlip.check("newDashboard")())return"";switch(e){case"home":switch(r.homePageTab){case"activity":return"section-activity-filter";case"dashboards":return"section-dashboards-filter";case"comments":return"section-comments-filter";case"events":return"section-events-filter";case"messages":return"section-messages-filter";case"projects":return"section-projects-list-filter";default:return""}break;case"dashboard":switch(r.dashboardPageTab){case"activity":return"section-activity-filter";case"dashboards":return"section-dashboards-filter";case"comments":return"section-comments-filter";case"events":return"section-events-filter";case"messages":return"section-messages-filter";case"projects":return"section-projects-list-filter";default:return""}break;case"projects":switch(r.projectsPageTab){case"portfolio":return"section-projects-portfolio-filter";case"chart":return"section-projects-chart-filter";default:return"section-projects-list-filter"}break;case"calendar":return"section-calendar-filter";case"everything":return"completedTasks"===r.everythingPageTab?"section-tasks-filter":"section-"+r.everythingPageTab+"-filter";case"reporting":return"completedTasks"===r.reportingPageTab?"section-tasks-filter":"section-"+r.reportingPageTab+"-filter";case"project":return app.isBoardsView()?"section-tasks-filter":"tasklists"===r.projectTab.toLowerCase()?"section-tasks-filter":"section-"+r.projectTab+"-filter";case"person":if(app.isBoardsView())return"section-tasks-filter";switch(r.personPageTab){case"completed":return"section-tasks-filter";case"projects":return"section-projects-list-filter";default:return"section-"+r.personPageTab+"-filter"}break;case"company":switch(r.companyPageTab){case"projects":return"section-projects-list-filter";default:return""}break;case"task-templates":return"section-tasks-filter";default:return""}}),this.projectId=S.observable(0),this.filterSidebarVisible=S.pureComputed(function(e){return function(){var t;return null!=(null!=(t=e.loggedInUser)?t.preferences:void 0)&&(null!=e.currentRoute&&(""!==e.currentFiltersComponent()&&(e.loggedInUser.preferences.filterSidebarVisible()&&(null!=e.currentRoute().hasFilter||null!=e.hybrid.meta.filters))))}}(this)),this.cardMoreOptionsLabel=S.pureComputed(function(e){return function(){var t;return null==(null!=(t=e.loggedInUser)?t.preferences:void 0)?"":e.loggedInUser.preferences.taskCardShowMoreOptions()?app.tl("Show Fewer Options"):app.tl("Show More Options")}}(this)),this.shared=new o,this.projectInfo=new p,this.pulse=new u,this.onBoarding=new d,this.featureFlip=new c,this.draggableTasks=new f,this.projectInfo.init(),this.setupTranslations(),this.loadingStrings=S.computed(function(e){return function(){return e.isLanguagePackLoadedOrEnglish()?e.GetLoadingStrings():[]}}(this)),this.tasks=g,this.flash=new y,this.modal=new v(this),this.isEmbeddedChatEnabled=S.observable(!1),this.isEmbeddedChatConversationListVisible=S.observable(!1),this.isEmbeddedChatConversationVisible=S.observable(!1),this.CheckoutHelper=G,this.reactions=new T(this),this.SurveyConfigHelper=te,this.FullstoryHelper=ae,this.customFieldsHelper=new re,this.LiveChatHelper=new ie,this.notifications=new x(this),this.keybindings=new w,this.activeProjects=S.observableArray(),this.essentialDataIsLoaded=S.observable(!1),this.essentialDataIsLoading=!1,this.isLoading=S.observable(!1),this.router=h,this.hasher=h.hasher,this.currentRoute=h.currentRoute,this.users=S.observableArray(),this.uiMessage=S.observable(null),this._template=this.utility.GetQueryStringParamByName("_template")||"normal",this.alerts=S.observableArray([]),this.viewPortWidth=S.observable(document.body.clientWidth),this.viewPortHeight=S.observable(document.body.clientHeight),this.currentScrollTop=S.observable(t(window).scrollTop()),this.tags=new $,this.hasFixedSecondaryNav=S.computed(function(e){return function(){var t;return null!=e.currentFilter()&&(t=e.currentScrollTop(),e.currentFilter().active()?t>e.consts.UIDIMENSIONS.SUBNAVPOSITIONFILTERED:t>e.consts.UIDIMENSIONS.SUBNAVPOSITION)}}(this)),this.localizationPreferences=S.pureComputed(function(e){return function(){var t;return null!=e.isLoggedIn()&&null!=(null!=(t=app.loggedInUser)?t.localization:void 0)?{ellipsis:app.loggedInUser.localization.ellipsis}:{ellipsis:"\u2026"}}}(this)),this.isShowingLoginModal=S.observable(!1),this.status=S.observable(""),this.bodyDroppable=S.observable(!0),this.isOnboardingFlowVisible=S.observable(!1),this.pageTitleOptions={originalPageTitle:null!=(E=document.title)?E:"",previousPage:"",previousSubPage:"",isPageTitle:!1,isSubPageTitle:!1,isRefresh:!1},this.scroller=new W(this),this.quickView=Y,this.theme=S.observable({id:parseInt(initialData["v/1/settings/branding.json"].branding.theme.id,10),color:initialData["v/1/settings/branding.json"].branding.theme.color.replace("#","")}),this.themeCSS=S.pureComputed(function(e){return function(){var t,n,r,i,o,a;return n="#"+e.theme().color,a=parseInt(n.substr(1,2),16),o=parseInt(n.substr(3,2),16),t=parseInt(n.substr(5,2),16),i="rgb("+Math.floor(.75*a)+","+Math.floor(.75*o)+","+Math.floor(.75*t)+")",r="body, .app-header, .w-side-nav__block, .w-notification__count:after {background-color:"+n+";}",r+=".w-data-grid th, .w-time-grid th, table.timeGrid th, table.dataGrid th{background-color:"+i+" !important;}",a>200&&o>200&&t>200&&(r+="#navPTW, .app-header__logo, .w-header-titles__account-name, .w-header-titles__project-name, .w-header-titles__company-owner, .w-side-nav__item a, .w-header-nav__item { color: #333 !important; }"),r}}(this)),this.themeClass=S.pureComputed(function(e){return function(){var t;return t="color-mode--dark",e.utility.ValidateHex(e.theme().color)&&app.utility.IsColorLight(e.theme().color)&&(t="color-mode--light"),1===e.theme().id&&(t+=" app-header--default-theme"),t}}(this)),this.customCSS=S.observable(app.cache.get("customCSS","").replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,"")),this.isImporting=S.observable(!1),this.getImporterStatus(),this.onboardingLoaded=!1,this.onboardingModalVisible=S.observable(!1),this.sidebarManuallyClosed=S.observable(this.cache.get("sidebarManuallyClosed")),this.canCloseSidebar=S.pureComputed(function(e){return function(){return e.viewPortWidth()<990}}(this)),this.sidebarClosed=S.pureComputed(function(e){return function(){var t;return t=e.sidebarManuallyClosed(),null!==t?t:e.canCloseSidebar()}}(this)),this.OnClickSidebarToggle=function(e){return function(){var t,n;n=e.sidebarManuallyClosed(),null===n&&(n=e.sidebarClosed()),t=!n,e.sidebarManuallyClosed(t),t!==e.canCloseSidebar()?e.cache.set("sidebarManuallyClosed",t):e.cache.remove("sidebarManuallyClosed"),e.sidebarClosed()||app.ko.postbox.publish("recalculate-sidebar",!0)}}(this),this.OnClickSidebar=function(e){return function(){return e.sidebarClosed()&&e.OnClickSidebarToggle(),!0}}(this),this.fileDropEnabled=S.observable(!this.isMobile),this.fileDropReady=S.observable(!1),this.isDocumentEditorEnabled=S.pureComputed(function(e){return function(){return!e.isMobile&&!(null==e.account.documentEditorEnabled||!e.account.documentEditorEnabled())}}(this)),this.strings=F,this.trackerHelper=N,void 0===this.projects&&(this.projects=S.observableArray()),this.pageComponentToShow=S.pureComputed(function(e){return function(){return null==e.currentRoute().page?"":"home"===e.currentRoute().page?"page-home":"dashboard"===e.currentRoute().page?e.featureFlip.check("newDashboard")()?"page-home":"page-dashboard":"page-"+e.currentRoute().page}}(this)),this.bodyId=S.pureComputed(function(e){return function(){var t;return t=e.currentRoute(),t.isLoggedInPage&&!e.essentialDataIsLoaded()&&"embed"!==t.page?"preloading":null!=t.companyPageTab&&"projects"===t.companyPageTab?"projects":null!=t.personPageTab&&"projects"===t.personPageTab?"projects":null!=t.bodyId?t.bodyId:t.page}}(this)),this.sidebarComponentToShow=S.pureComputed(function(e){return function(){return e.currentRoute().isLoggedInPage&&!e.essentialDataIsLoaded()||null==e.loggedInUser?"":"sidebar-"+e.currentRoute().page}}(this)),this.cachedProjects={},this.cachedProjectStats={},this.cachedProjectIntegrations={},this.isMSIE11="IE"===window.browserInfo.vendor&&11===window.browserInfo.majorVersion,this.isMobile=function(e){return!(!/android.+mobile|avantgo|bada\/|blackberry|blazer|ipad|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1}(navigator.userAgent||navigator.vendor||window.opera),this.isMac=-1!==navigator.appVersion.indexOf("Mac"),this.isIOS=navigator.userAgent.match(/(iPad|iPhone|iPod)/g),M=navigator.userAgent.toLowerCase(),this.isOpera=!!M.match(/opera|opr\//),this.isSafari=-1!==M.indexOf("safari/")&&-1===M.indexOf("chrom"),this.isWindowsSafari=this.isSafari&&-1!==M.indexOf("windows"),this.isLiveChatAvailable=S.observable(!1),this.initSafeConsole(),this.initSameLinkRefresher(),this.filterConfig=new U,this.error=new b(this),this.api.on("error",this.error.Ajax),e.all([this.GetLoggedInUser()]).catch(function(e){return function(t){if(!app.essentialDataIsLoaded()&&401===t.status)return e.shouldShowUnauthorisedSessionError(!0),e.notAuthorisedErrorWhileOnLoadingScreenCode(401)}}(this)).finally(function(e){return function(){var t;return null!=app.languagePackPromise?app.languagePackPromise.then(function(t){return e.Init()}):!app.isLoggedIn()||"EN"===(null!=(t=app.loggedInUser)?t.localization.languageCode():void 0)||app.isLanguagePackLoadedOrEnglish()||e.isLanguagePackLoading()?e.Init():e.GetLanguagePack().then(function(){return e.Init()})}}(this)),this.loadedTemplates=S.observable(0),window.hasLocalStorageSupport||this.isOpera||setTimeout(function(){return app.flash.Info(app.tl("It seems local storage is not available or is disabled on your browser. You can still use [_s], but your experience may differ slightly as a result.","Teamwork Projects"),{timer:1e4})},500),this.taskPriorityOptions=[{id:"any",text:app.tl("Any priority"),color:"#B1B1B1"},{id:"high",text:app.tl("High priority"),color:"#c60808"},{id:"medium",text:app.tl("Medium priority"),color:"#d6b73b"},{id:"low",text:app.tl("Low priority"),color:"#63ad63"},{id:"none",text:app.tl("No priority"),color:"#B1B1B1"}],this.projectStatusOptions=[{id:"all",text:app.tl("All projects"),color:"#8cc1f8"},{id:"active",text:app.tl("Active"),color:"#d6b73b"},{id:"current",text:app.tl("Current"),color:"#8cc1f8"},{id:"late",text:app.tl("Late"),color:"#c60808"},{id:"upcoming",text:app.tl("Upcoming"),color:"#d6b73b"},{id:"completed",text:app.tl("Completed"),color:"#63ad63"},{id:"archived",text:app.tl("Archived"),color:"#d6b73b"}],this.milestoneStatusOptions=[{id:"all",text:app.tl("All milestones"),color:"#B1B1B1"},{id:"incomplete",text:app.tl("Incomplete"),color:"#8cc1f8"},{id:"upcoming",text:app.tl("Upcoming"),color:"#d6b73b"},{id:"late",text:app.tl("Late"),color:"#c60808"},{id:"completed",text:app.tl("Completed"),color:"#63ad63"}],this.commentStatusOptions=[{id:"all",text:app.tl("Read and unread"),color:"#c60808"},{id:"read",text:app.tl("Read"),color:"#B1B1B1"},{id:"unread",text:app.tl("Unread"),color:"#d6b73b"}],this.InitStatsMonitoring(),this.InitWindowMessaging()}return I.prototype.Init=function(e){var n,i;this.shouldShowUnauthorisedSessionError()||this.router.init(),S.options.deferUpdates=!0,this.isLoggedIn()&&"#login"===document.location.hash.replace("#/","#")&&(document.location.hash="dashboard"),this.onUpdateRoute(this.currentRoute(),!0),this.initKeyboardShortcuts(),this.updateHTMLClass(),(null!=(n=window.launchControl)&&null!=(i=n.cdnFail)?i.length:void 0)>0&&this.SendSentryError("CDN fails"),"function"==typeof this.cache.flushExpired&&this.cache.flushExpired(),t(window).resize(function(e){return function(){var n,r;n=t("body"),r=n.width(),e.viewPortWidth(r),e.viewPortHeight(n.height()),app.ko.postbox.publish("allTWEvents",{actionType:app.consts.ACTIONTYPE.UPDATED,eventTime:new Date,itemType:"lightbox",subType:"resizeLightbox",itemId:-1}),e.updateHTMLClass()}}(this)),this.loadLazyLibsAndCSS(),this.isChrome=/chrom(e|ium)/.test(navigator.userAgent.toLowerCase()),t(window).dblclick(function(e){return function(t){var n,r,i,o,a,s,l,p,u;n=t.clientX,r=t.clientY,i=6,p=e.viewPortHeight()/i,l=200,s=200,o=e.viewPortWidth()-s,a=e.viewPortHeight()-l,(null==document.activeElement||!document.activeElement.hasAttribute("contenteditable")&&"TEXTAREA"!==document.activeElement.nodeName&&"INPUT"!==document.activeElement.nodeName)&&(document.body.scrollTop<p&&n>o&&n<e.viewPortWidth()&&r>a&&r<e.viewPortHeight()&&(document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&(u=window.getSelection(),u.removeAllRanges()),window.scrollTo(0,document.body.scrollHeight)),document.body.scrollTop>p&&n>o&&n<e.viewPortWidth()&&r>0&&r<l&&(document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&(u=window.getSelection(),u.removeAllRanges()),window.scrollTo(0,0)))}}(this)),K(),app.isScrollUpDisabled.subscribe(function(e){return e?r("#scrollUp").addClass("hidden"):r("#scrollUp").removeClass("hidden")}),setTimeout(function(e){return function(){return window.initialData={}}}(),5e3)},I.prototype.InitStatsMonitoring=function(){return S.postbox.subscribe("allTWEvents",function(e){return function(t){var n;if("column"===t.itemType&&null!=t.projectId)return"column"!==t.itemType||(n=t.actionType)!==e.consts.ACTIONTYPE.ADDED&&n!==e.consts.ACTIONTYPE.DELETED?void 0:e.projectInfo.clearStats(t.projectId,{get:'{"columns":"count"}'})}}(this))},I.prototype.InitWindowMessaging=function(){return window.addEventListener("message",function(e){var t;(t=e.origin||e.originalEvent.origin)===window.location.origin&&"tw-desk-esc"===e.data&&E.trigger("esc")})},I.prototype.setupTranslations=function(){var e,t;e=function(e){var t,n,r,i;if(null==e)return"";for(r=(e.match(/\[_s\]/g)||[]).length,t=n=0,i=r-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n)e=e.replace("[_s]","[_s"+t+"]");return e},t=function(e){return function(t,n){var r,i,o,a,s,l,p,u,d;if(null!=app.loggedInUser?a=app.loggedInUser.localization.languageCode():(void 0===e.lastLanguageCodeUsed&&(e.lastLanguageCodeUsed=app.cache.get("last-language-code-used")),a=e.lastLanguageCodeUsed?e.lastLanguageCodeUsed:"EN"),"EN"===a)return t;if(d=t.substr(0,50).trim(),null!=(null!=(s=e.languagePack)&&null!=(l=s.translations)?l[d]:void 0))return e.languagePack.translations[d];if(null!=(null!=(p=e.languagePack)?p.translations:void 0)&&(e.languagePack.translations[d]=t),e.stringsToLookup=e.stringsToLookup||{},e.stringsToLookup[t]=t,n){try{throw o=0,null!=app.account&&(o=S.unwrap(app.account.id)),new Error("Translation XHR - installationID:"+o+" - site:"+document.location.href)}catch(e){i=e,u={name:"New/missing TL",lang:a,string:t,url:document.location.href,stack:i.stack}}r={ref:t,lang:a,app:"projects",logAppUsage:!0,saveStackTrace:u,appVersionId:window.appVersionId,authCode:856,type:"data"},app.api.put("translations.json",r)}return e.stringsToLookup[t]}}(this),this.tl=function(e){return function(t){return e._tl(t,arguments,!1)}}(this),this._tl=function(n){return function(n,i,o){var a,s,l,p;if(window.devMode&&["mars","listopad","leden","mayo","abril","junio","novembre","octobre","noviembre","julio","juin","janvier","avril","enero","agosto","duben","diciembre","2 days time","projectoverview","no undefined projects","englishtasksuniqueid","oktober"].indexOf(n.toLowerCase())>-1)return console.info("[[[VERY BAD STRING]]]",n),"[[[VERY BAD STRING]]]";if("Ver: tareas e hitos"===n?a="HERE HERE HERE!!":"string"!=typeof n?a="Translation inputs must be strings":".."===n.slice(-2)?a=".. not allowed at end of translation string":":"===n.slice(-1)?a="no colons allowed at end of translation string":"("===n.slice(0,1)||")"===n.slice(-1)?a="brackets around string not allowed":"-"===n.slice(0,1)?a="- not allowed at start of translation string":null!==n.match(/\s\d+/)?a="No numbers allowed in strings":-1!==n.indexOf("\u2063")?a="double translation detected!":null!==n.match(/[^\x00-\x7F\u2014]+/)?a="Non-English characters found":n.length<=1?a="string too short":r.trim(n)!==n?a="string must not need trimming":n.search(/Tasklist/gi)>-1?a="'tasklist' is not a valid word, replace with 'task list'":" by"===n.slice(-3)&&"Get more referrals by"!==n&&(a="Change 'by' at end of string to 'By'"),null!=a&&window.devMode)return console.trace(),console.error("tl - "+a+'-> "'+n+'"'),"BAD-STRING!!!";for(i.length>1&&(n=e(n)),null!=a?p=n:"string"!=typeof(p=t(n,o))&&(p=n),s=1,l=i.length;s<=l;)p=p.replace("[_s"+(s-1)+"]",S.unwrap(i[s])),s++;return window.devMode&&app.isChrome&&(p+="\u2063"),p}}(),this.serverTranslate=function(e){return function(t){return e._tl(t,arguments,!0)}}(this),this.markdownMessage=S.pureComputed(function(e){return function(){return e.essentialDataIsLoaded()?"<p style='font-size:13px'>"+e.tl("Markdown allows you to do basic formatting in your plain text")+":<br/><br/>*"+e.tl("I have emphasis")+"* = <i>"+e.tl("I have emphasis")+"</i><br/>**"+e.tl("I have strong emphasis")+"** = <strong>"+e.tl("I have strong emphasis")+"</strong><br/><br/>"+e.tl("You can wrap code with ``` to prevent text from being processed")+"<br/><br/><a href='https://support.teamwork.com/projects/advanced/using-markdown' target=_blank class=blue>"+e.tl("Learn more about [_s]","Markdown")+app.localizationPreferences().ellipsis+"</a></p>":""}}(this))},I.prototype.initSameLinkRefresher=function(){t("body").on("click","a",function(){var e,t;return e=r(this).attr("href"),"#"!==(null!=e?e.charAt(0):void 0)||app.hasher.hybrid||e===window.location.hash&&(t="/"!==e.charAt(1)?e.replace("#","#/"):e.replace("#/","#"),app.pageTitleOptions.isRefresh=!0,app.hasher.changed.active=!1,app.hasher.setHash(t),app.hasher.changed.active=!0),!0})},I.prototype.updateHTMLClass=function(){var e;e=t("body").width(),r("html").toggleClass("lt-800",e<800),r("html").toggleClass("lt-1024",e<1024),r("html").toggleClass("lt-1280",e<1280)},I.prototype.initKeyboardShortcuts=function(){var e,t,n,r,i,o;if("embed"!==app.router.currentRoute().page||null!=(r=app.currentRoute()["?queryString"])&&!0===r.enableKeyBindings){i=this.keybindings.get();for(n in i)l.call(i,n)&&(e=i[n],"function"==typeof e?E.bind(n,e):null!=e.func&&null!=e.event&&E.bind(n,e.func,e.event));o=this.keybindings.getGlobal();for(n in o)l.call(o,n)&&(t=o[n],E.bindGlobal(n,t));this.shiftKeyDown=!1,E.bind("shift",function(e){return function(){e.shiftKeyDown=!0}}(this),"keydown"),E.bind("shift",function(e){return function(){e.shiftKeyDown=!1}}(this),"keyup"),this.commandKeyDown=!1,E.bind("command",function(e){return function(){e.commandKeyDown=!0}}(this),"keydown"),E.bind("command",function(e){return function(){e.commandKeyDown=!1}}(this),"keyup"),this.ctrlKeyDown=!1,E.bind("ctrl",function(e){return function(){e.ctrlKeyDown=!0}}(this),"keydown"),E.bind("ctrl",function(e){return function(){e.ctrlKeyDown=!1}}(this),"keyup")}},I.prototype.loadEssentialData=function(t){e.all([this.isLanguagePackLoadedOrEnglish()||this.isLanguagePackLoading()?void 0:this.GetLanguagePack(),this.UpdateAccountInfo()]).then(function(e){return function(n){var r;return e.loggedInUser.OnLanguagePackLoaded(),e.account.enterprisePlanSessionTimeoutAllowed&&e.account.enterprisePlanSessionTimeoutAllowed()&&e.account.sessionTimeoutEnabled()&&(e.inactivityMonitor=new k),e.heartBeatInterval=setInterval(e.HeartBeat,27e5),e.SetRavenUser(),e.InitUserTracker(),e.essentialDataIsLoading=!1,e.notifications.Connect(),t&&t(),e.UpdatePageTitle(),r=function(){var t,n;return e.InitScrollUp(),e.essentialDataIsLoaded(!0),(null!=(t=e.account.integrations.harvest)&&"function"==typeof t.enabled?t.enabled():void 0)&&e.InitHarvestLibs(),window.devMode||(n=setInterval(function(){if(e.loggedInUser.statsLoaded())return!app.account.isPaid()||app.account.isFreeAccount()||app.account.isInFreeTrial()||e.initChurnZero(),e.initPendo(),clearInterval(n)},1e3)),app.FullstoryHelper.initFullstory(),e.LiveChatHelper.init(),e.loggedInUser.preferences.useDesktopNotifications()&&null!=window.Notification&&Notification&&"granted"!==Notification.permission&&Notification.requestPermission(),e.s3UploadManager=new J(e),e.s3Upload=Q,e.fileDropEnabled()&&e.s3UploadManager.removeAndCancelAll(),void 0===e.fileDrop&&(e.fileDrop=new H(e),e.fileDropReady(!0)),setTimeout(e.showSubscriptionForm,3e3),app.SurveyConfigHelper.init()},e.isLazyLoadDone()?r():e.isLazyLoadDone.subscribe(function(){return r()})}}(this))},I.prototype.showSubscriptionForm=function(){var e,t;if(this.hasSeenBlogSubscribePrompt=app.loggedInUser.preferences.hasSeenBlogSubscribePrompt,this.hasSubscribedMarketo=0!==app.loggedInUser.marketoId(),"welcome"!==app.currentRoute().page&&!(("function"==typeof app.modals?app.modals():void 0)&&app.modals().length)&&!(("function"==typeof(e=app.flash).alerts?e.alerts():void 0)&&app.flash.alerts().length>0)&&!0!==this.hasSeenBlogSubscribePrompt()&&!0!==this.hasSubscribedMarketo&&!app.account.strictBranding()&&app.account.allowTeamworkProjectsBrand()&&app.loggedInUser.isAccount()&&!(null!=app.account.trialDaysRemaining&&app.account.trialDaysRemaining()>0))return r("#scrollUp").addClass("hidden"),t=function(){return hasSeenBlogSubscribePrompt(!0),r("#scrollUp").removeClass("hidden")},app.flash.Special(null,null,{showCloseButton:!0,showButton:!1,cssClass:"w-toaster--blog-subscribe-prompt",tapToDismiss:!1,timer:0,onCloseCallback:t,customTemplate:"widget-blog-subscribe-prompt"})},I.prototype.showNPSSurvey=function(){var e,t,n,r;if(app.loggedInUser.siteOwner()&&!(z().diff(z(app.loggedInUser.createdAt()),"days")<60||("function"==typeof app.modals?app.modals():void 0)&&app.modals().length||"home"!==(n=app.currentRoute().page)&&"dashboard"!==n||("function"==typeof(e=app.flash).alerts?e.alerts():void 0)&&app.flash.alerts().length>0))return r=function(){var e;return e={email:app.loggedInUser.emailAddress(),lastSentTime:Math.round(new Date/1e3)},app.api.post("nps/person.json",e,{emitError:!1})},t=function(){return app.api.post("nps/person.json",{email:app.loggedInUser.emailAddress()},{emitError:!1})},t().then(function(e){return function(e){var t;t=e.response.user.id,parseInt(t,10)>0&&app.api.get("nps/person.json",{email:app.loggedInUser.emailAddress()},{emitError:!1}).then(function(e){var n,i,o,a,s;if(!(e.response.npsDiscard||""===e.response.user||(a=z.unix(e.response.user.lastRespondedAt),o=z.unix(e.response.user.lastSentAt),i=z(),s=90,z.isMoment(o)&&i.diff(o,"days")<s||z.isMoment(a)&&i.diff(a,"days")<s||"1"===app.utility.GetCookie("npsSurveyShown"))))return n=new Date,n.setDate(n.getDate()+s),document.cookie="npsSurveyShown=1;path=/;expires="+n.toGMTString(),app.flash.Special(null,null,{showCloseButton:!0,showButton:!1,cssClass:"w-toaster--nps",tapToDismiss:!1,timer:0,onCloseCallback:r,customTemplate:"widget-nps-survey",customTemplateParams:{delightedUserId:t}})})}}())},I.prototype.loadLazyLibsAndCSS=function(){this.isLazyLoadDone()||n.e(93).then(function(){var e=[n(1921),n(1716),n(1359),n(14),n(1186),n(3567),n(3580),n(3577),n(3578),n(3590),n(3591),n(3568),n(3592),n(3565),n(3522),n(3569),n(3557),n(3593),n(3558),n(3521),n(1906),n(3566),n(3585),n(3571),n(3584),n(4422)];(function(e){return function(t,n,r,i,o){var a,s;return window.Tipped=o,a=app.utility.GetCookie("outageInProgress24032016"),"1"===a&&app.modal.Show("outage"),r.use(i),e.initTipped(),null!=(s=e.hasher)&&s.changed.add(e.OnHashChange.bind(e)),e.initMouseTracking(),e.isLazyLoadDone(!0)}})(this).apply(null,e)}.bind(this)).catch(n.oe)},I.prototype.OnHashChange=function(){return app.isFiltersTippedVisible(!1),Tipped.hideAll()},I.prototype.initSafeConsole=function(){void 0===window.console&&(window.console={assert:function(e,t){if(t=t||"",!e&&console.error)return console.error("Assertion failed: "+t)},log:function(){},warn:function(){},error:function(){},debug:function(){},dir:function(){},info:function(){},clear:function(){}})},I.prototype.initTipped=function(){app.isMobile?this.taskTippedOptsInline="skin:'light', hideOthers:true, showOn:'click', hideOn: false, hideOnClickOutside:true":this.taskTippedOptsInline="skin:'light', hideOthers:true, hideOn: false, showDelay: 800, hideAfter: 300",this.taskMultiTippedOptsInline="isTippedParent: true, skin:'light', hideOthers:true, hideOn: false, showDelay: 800, hideAfter: 300",this.twTippedTemplates={stickyTip:{skin:"light",showOn:"click",hideOnClickOutside:!0,hideOn:{element:"click",tooltip:"mouseleave"},hideOthers:!0,showDelay:350},fadeInOut:{skin:"light"},flashTip:{skin:"light",hideOnClickOutside:!0,hideOn:{element:"mouseleave",tooltip:"mouseleave"},hideOthers:!0},twSticky:{showDelay:1e3,showOn:"mouseenter",hideAfter:300,hideOthers:!0,hideOn:!1,target:"mouse",fixed:!0},peopleDetails:{showOn:"mouseenter",hideOn:"false",hideOthers:!0,hideAfter:1,position:{target:"top",tooltip:"bottomleft"}},toString:function(e){return null==e||null==this[e]?"":S.toJSON(this[e]).slice(1).slice(0,-1)},_s:function(e){return this.toString(e)}},r.extend(Tipped.Behaviors,this.twTippedTemplates),t.extend(Tipped.Skins,{dark:{radius:!1}}),Tipped.delegate(".tipped"),Tipped.delegate(".tipped-hide",{behavior:"hide"}),Tipped.delegate(".tipped-click",{showOn:"click"})},I.prototype.InitScrollUp=function(){var e,n,i,o,a,s;if("maxprojects"!==app.account.priceplanData.type().toLowerCase())return!1;i=!1,n=null,e=null,s=0,a=!1,o=0,r.scrollUp&&r.scrollUp({bottom:"26px",animation:"none",scrollDistance:150,scrollSpeed:300,scrollImg:!1,scrollText:""}),r(document).scroll(function(l){return function(){if(!i)return i=!0,requestAnimationFrame(function(p){i=!1,p-o>=400&&(l.bodyScrollOffset(document.body.scrollTop),o=p),null==n&&(n=r("#scrollUp")),null==e&&(e=r("#fileDropHolder")),a||(a=!0,Tipped.hide(".closeOnScroll"),e.addClass("hidden")),l.currentScrollTop(t(window).scrollTop()),clearTimeout(s),s=setTimeout(function(){return a=!1,l.bodyScrollOffset(document.body.scrollTop),e.removeClass("hidden")},500)})}}(this))},I.prototype.initMouseTracking=function(){var e;return this.currentMousePos={x:-1,y:-1},this.elemUnderMouse=null,e=function(){var e;if(e=t("#copyClipboard"),e.length&&e.is(":focus"))return e.blur()},t(document).mousemove(function(t){return function(n){return t.currentMousePos.x=n.pageX,t.currentMousePos.y=n.pageY,t.elemUnderMouse=n.target,e()}}(this))},I.prototype.InitHarvestLibs=function(){var e,n,i;window._harvestPlatformConfig={applicationName:app.account.name(),permalink:app.account.URL()+"tasks/%ITEM_ID%",skipStyling:!0,skipJquery:!0},i=document.createElement("script"),i.src="//platform.harvestapp.com/assets/platform.js?x=2",i.async=!0,n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(i,n),window.harvest={addTimerHandlers:function(e){var n;if(n=t("#harvest-messaging"),n.length)return t(e).each(function(e,r){var i;if(i=t(r),i.hasClass("harvest-timer"))return app.NextTick(function(){var e;return e={type:"harvest-event:timers:add",element:i},n.trigger(e)})})}},e='<div data-tipped="'+app.tl("Start/Stop [_s] Timer","Harvest")+'" data-tipped-options="showDelay:750" class="w-harvest-timer harvest-timer styled tipped" data-bind="attr:{\'id\':\'harvestTimer_\'+task.id(),\'data-project\':task.harvestProjectData(), \'data-item\':task.harvestItemData()},onShow:OnShowHarvestTimer,onHide:OnHideHarvestTimer"> <span class="harvest-timer-icon"></span> </div>',r("#widget-task-harvest-timer").length||r("body").append('<script type="text/html" id="widget-task-harvest-timer">'+e+"<\/script>")},I.prototype.initThirdPartyScripts=function(){if(!this.thirdPartyScriptsInitialized)return this.thirdPartyScriptsInitialized=!0,this.initFbTracker()},I.prototype.initProfitWell=function(){var e,t,n,i;window.devMode||null!=(null!=(t=this.account)?t.isTWInternal:void 0)&&this.account.isTWInternal()&&null!=(null!=(n=this.loggedInUser)?n.emailAddress:void 0)&&null!=(null!=(i=this.loggedInUser)?i.siteOwner:void 0)&&this.loggedInUser.siteOwner()&&(e="(function (i, s, o, g, r, a, m) { i['ProfitWellObject'] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m); })(window, document, 'script', 'https://dna8twue3dlxq.cloudfront.net/js/profitwell.js', 'profitwell'); profitwell('auth_token', '4c6edde27da8f58bfba6b8a15be33d4f'); profitwell('user_email', '"+this.loggedInUser.emailAddress()+"');",r("body").append("<script>"+e+"<\/script>"))},I.prototype.initPendo=function(){var e,t,n,r,i,o,a,s,l,p,u,d,c,f,h,m;if(this.isLoggedIn())return e="971852c3-745c-4f38-6402-71cb5c1fafb4",function(t){return function(t,n,r,i,o){var a,s,l,p,u;for(o=t[i]=t[i]||{},o._q=[],a=["initialize","identify","updateOptions","pageLoad"],s=0,l=a.length;s<l;)!function(e){o[e]=o[e]||function(){return o._q[e===a[0]?"unshift":"push"]([e].concat([].slice.call(arguments,0)))}}(a[s]),++s;p=n.createElement(r),p.async=!0,p.src="https://cdn.eu.pendo.io/agent/static/"+e+"/pendo.js",u=n.getElementsByTagName(r)[0],u.parentNode.insertBefore(p,u)}}()(window,document,"script","pendo"),m=app.account.awsRegion()+"-"+this.loggedInUser.id(),r=this.account.id()+":projects:"+app.account.awsRegion(),f=app.account.name()+": Projects",l=~~app.account.pricePlanId(),s=app.account.pricePlan(),i="function"==typeof(t=app.account).installationDateFirstPayment?t.installationDateFirstPayment():void 0,c=~~app.account.shardNo(),h=null!=(p=app.loggedInUser.localization)&&"function"==typeof p.timezone?p.timezone():void 0,a="perUser"===app.account.priceplanType()?~~app.account.paidForUsers():~~(null!=(u=app.loggedInUser.stats)&&null!=(d=u.users)&&"function"==typeof d.count?d.count():void 0),o=!!("function"==typeof(n=app.account.SSO).enabled?n.enabled():void 0),pendo.initialize({visitor:{id:m,email:app.utility.SafeHTML(app.loggedInUser.emailAddress()),full_name:app.utility.SafeHTML(app.loggedInUser.firstName())+" "+app.utility.SafeHTML(app.loggedInUser.lastName()),site_owner:!!~~app.loggedInUser.siteOwner(),site_admin:!!~~app.loggedInUser.administrator(),site_baseUrl:app.utility.SafeHTML(app.account.URL()),collaborator:!!~~app.loggedInUser.isCollaborator(),add_projects:!!~~app.loggedInUser.permissions.canAddProjects(),manage_people_and_companies:!!~~app.loggedInUser.permissions.canManagePeople(),manage_portfolios:!!~~app.loggedInUser.permissions.canManagePortfolio(),timezone:app.utility.SafeHTML(h),manage_task_templates:!!~~app.loggedInUser.permissions.canAccessTemplates(),is_trial:app.account.isInFreeTrial(),is_paying:~~app.account.isPaid()&&!~~app.account.isFreeAccount()},account:{id:r,name:app.utility.SafeHTML(f),is_paying:~~app.account.isPaid()&&!~~app.account.isFreeAccount(),is_trial:app.account.isInFreeTrial(),plan_id:l,subscription_plan:app.utility.SafeHTML(s),license_count:a,start_date:app.utility.SafeHTML(app.account.datesignedup()),industry:app.utility.SafeHTML(app.account.industryCategoryName()),site_baseUrl:app.utility.SafeHTML(app.account.URL()),sso_enabled:o,server_region:app.utility.SafeHTML(app.account.awsRegion()),shard_no:app.utility.SafeHTML(c),first_payment_date:app.utility.SafeHTML(i)}})},I.prototype.initChurnZero=function(){var e,t,n,i,o,a,s,l,p,u,d,c,f,h,m,g,y,b,v,w,k,T,I,C,x,S;this.isLoggedIn()&&(x=window.devMode||588849===app.account.id(),a=this.account.id()+":projects",S=this.loggedInUser.id(),T=app.account.name()+": Projects",window.devMode&&(a+=":dev",T+=" (Dev)"),m=~~this.account.pricePlanId(),h=this.account.pricePlan(),s="function"==typeof(t=this.account).installationDateFirstPayment?t.installationDateFirstPayment():void 0,k=~~this.account.shardNo(),I=null!=(g=this.loggedInUser.localization)&&"function"==typeof g.timezone?g.timezone():void 0,p=this.isEmbeddedChatEnabled(),c=this.loggedInUser.localization.languageCode(),o=null!=(y=this.loggedInUser.notifications)?y.receiveDailyReports():void 0,l=(null!=(b=this.account.integrations.clockInOut)?b.enabled():void 0)&&app.featureFlip.check("clockInOut")(),f="perUser"===this.account.priceplanType()?~~this.account.paidForUsers():~~(null!=(v=this.loggedInUser.stats)&&null!=(w=v.users)&&"function"==typeof w.count?w.count():void 0),u=!!("function"==typeof(n=this.account.SSO).enabled?n.enabled():void 0),C="","US"===this.account.awsRegion()?C="https://tw-admin.teamwork.com/index.cfm?action=findinstallation&mode=edit&id="+this.account.id():"EU"===this.account.awsRegion()&&(C="https://tw-admin.eu.teamwork.com/index.cfm?action=findinstallation&mode=edit&id="+this.account.id()),i=["ChurnZero.push(['setContact', '"+a+"', '"+S+"'])"],i.push("ChurnZero.push(\n    [\n        'setAttribute',\n        'account',\n        {\n            'Name': '"+this.utility.SafeHTML(T)+"',\n            'planID': "+m+",\n            'SubscriptionPlan': '"+this.utility.SafeHTML(h)+"',\n            'LicenseCount': "+f+",\n            'StartDate': '"+this.utility.SafeHTML(s)+"',\n            'Industry': '"+this.utility.SafeHTML(this.account.industryCategoryName())+"',\n            'SiteBaseUrl': '"+this.utility.SafeHTML(this.account.URL())+"',\n            'SsoEnabled': "+u+",\n            'ServerRegion': '"+this.utility.SafeHTML(this.account.awsRegion())+"',\n            'TwadminUrl': '"+C+"',\n            'ShardNo': '"+this.utility.SafeHTML(k)+"',\n            'firstPaymentDate': '"+this.utility.SafeHTML(s)+"',\n            'ProjectsAccount': "+!!this.account.projectsEnabled()+",\n            'DeskAccount': "+!!this.account.deskEnabled()+",\n            'SpacesAccount': "+!!this.account.spacesEnabled()+",\n            'CrmAccount': "+!!this.account.CRMEnabled()+",\n            'ChatAccount': "+!!this.account.chatEnabled()+",\n            'ClockinClockout': "+l+",\n            'SignupDate': '"+this.utility.SafeHTML(this.account.datesignedup())+"'\n\n        }\n    ]\n)"),i.push("ChurnZero.push(\n    [\n        'setAttribute',\n        'contact',\n        {\n            'FirstName': '"+this.utility.SafeHTML(this.loggedInUser.firstName())+"',\n            'LastName': '"+this.utility.SafeHTML(this.loggedInUser.lastName())+"',\n            'Email': '"+this.utility.SafeHTML(this.loggedInUser.emailAddress())+"',\n            'SiteOwner': "+!!~~this.loggedInUser.siteOwner()+",\n            'SiteAdmin': "+!!~~this.loggedInUser.administrator()+",\n            'SiteBaseUrl': '"+this.utility.SafeHTML(this.account.URL())+"',\n            'Collaborator': "+!!~~this.loggedInUser.isCollaborator()+",\n            'AddProjects': "+!!~~this.loggedInUser.permissions.canAddProjects()+",\n            'ManagePeopleAndCompanies': "+!!~~this.loggedInUser.permissions.canManagePeople()+",\n            'ManagePortfolios': "+!!~~this.loggedInUser.permissions.canManagePortfolio()+",\n            'Timezone': '"+this.utility.SafeHTML(I)+"',\n            'ManageTaskTemplates': "+!!~~this.loggedInUser.permissions.canAccessTemplates()+",\n            'EnbeddedChat': "+p+",\n            'LanguagePreference': '"+this.utility.SafeHTML(c)+"',\n            'DailyReportEmail': "+o+"\n        }\n    ]\n)"),x?(console.log("ChurnZero '"+a+"', "+S,i),e="3zVz_Tqc9aqbSkaHZvcquFzTleKi_H3uddPbZ49ZG0w"):e="BN9OqhvqcpU737tEKKeqooeOesCT9cI90fYlIVmdJCI",d="var ChurnZero = ChurnZero || [];(function() {var cz = document.createElement('script'); cz.type = 'text/javascript';cz.async = true;cz.src = 'https://eu1analytics.churnzero.net/churnzero.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(cz, s); })();",d+="ChurnZero.push(['setAppKey', '"+e+"']);",r("body").append("<script>"+d+i.join(";")+"<\/script>"))},I.prototype.initFbTracker=function(){var e;if(null==window.fbq)return e="!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod? n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n; n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0; t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window, document,'script','https://connect.facebook.net/en_US/fbevents.js'); fbq('init', '1280613005283998');",r("body").append("<script>"+e+"<\/script>")},I.prototype.InitOnShow=function(e,t){var n;null==t&&(t=!0),this.loadedTemplates(this.loadedTemplates()+1),null==e.readyToShow&&(e.readyToShow=S.observable(t)),e.templateLoaded=app.ko.observable(!1),n=e.templateLoaded.subscribe(function(t){return function(r){if(r)return t.loadedTemplates(t.loadedTemplates()-1),e.OnShow&&e.OnShow(),n.dispose(),n=void 0}}(this))},I.prototype.trackPage=function(e){var t,n;if(null!=app.userTracker)try{return n=function(){switch(e.page){case"everything":return e.everythingPageTab;case"reporting":return e.reportingPageTab;case"project":return e.projectTab;case"dashboard":return e.dashboardPageTab;case"projects":return e.projectsPageTab;case"company":return e.companyPageTab;case"people":return e.peoplePageTab;case"person":return e.personPageTab;case"statuses":return e.statusesPageTab;case"settings":return e.settingsPageTab;case"referral":return e.referralPageTab;default:return e.page}}(),app.trackerHelper.trackPageView({url:e.request_,page:app.utility.Capitalize(e.page),section:app.utility.Capitalize(n)})}catch(e){return t=e,console.error(t)}},I.prototype.onUpdateRoute=function(e,n){var r,i;if(null==n&&(n=!1),app.isShowingFullScreenMode()&&!(null!=e?e.canViewFullScreen:void 0)&&app.isShowingFullScreenMode(!1),t.scrollTo(0),(e.isLoggedInPage||n)&&null==app.loggedInUser&&(this.Lightbox.cancel(),t.isEmptyObject(app.currentRoute())&&(app.currentRoute().request_=app.hasher.getHash()),app.redirectToLogin()),app.projectId(null!=(r=null!=(i=app.currentRoute().project)?i.id():void 0)?r:0),null!=app.currentFilter()&&app.projectId()>0&&app.currentFilter().isProjectSpecific()&&app.projectId()!==app.currentFilter().projectId()&&app.currentFilter().Clear(),app.UpdatePageTitle(),null!=app.loggedInUser&&app.currentRoute().isLoggedInPage&&!this.essentialDataIsLoaded()&&!this.essentialDataIsLoading)return this.essentialDataIsLoading=!0,void this.loadEssentialData();n||app.SurveyConfigHelper.checkForSurvey(),this.currentRoute().userPageStatus="viewing"},I.prototype.MissingEssentialData=function(){if(null!==this.cache.get("MissingEssentialData-tryingReload"))return this.cache.set("MissingEssentialData-tryingReload",null),app.GoTo("dashboard"),void app.flash.Error("We couldn't load the page you requested &mdash; you might be denied access or it might have been deleted.");this.cache.set("MissingEssentialData-tryingReload",!0,1e3),location.reload()},I.prototype.IgnoreVersionPrompt=function(){return this.newVersionsIgnored.push(this.latestAvailableVersion())},I.prototype.IgnoreOutageErrorMessage=function(){return this.outageErrorMessagesIgnored.push(this.outageErrorMessage())},I.prototype.Logout=function(e){var t,n,i,o,a,s;if(s=null!=(o=e.showInactivityModal)&&o,n=null!=(a=e.notifySessionExpired)&&a,i={alreadyLoggedOut:!1},r.extend(i,e),window.Tipped&&Tipped.hideAll(),t=function(e){return function(){var t;(s||n)&&console.info("User logged out via inactivity monitor."),t=null!=app.loggedInUser?app.loggedInUser.firstName():null,null==app.loggedInUser||s||(n?app.flash.Info(app.tl("Your session has expired due to inactivity, please log in to continue.")):null!=t?app.flash.Success(app.tl("Righto [_s], you are now signed out, have a great day, and wonderful life in general.",t)):app.flash.Success(app.tl("You are now signed out, have a great day, and wonderful life in general."))),app.loggedInUser=null,app.isLoggedIn(!1),app.cachedProjects={},z.tz.setDefault(null),e.SetMomentLocale("en"),null!=e.heartBeatInterval&&clearInterval(e.heartBeatInterval),s?e.isShowingLoginModal()||app.showLoginModal():window.location=app.branding.BaseHref()+"launchpad/logout/projects"}}(this),i.alreadyLoggedOut)return void t();app.api.put("./v/1/logout.json").then(function(e){return function(e){return t()}}())},I.prototype.HeartBeat=function(){return app.api.put("./me/heartbeat.json",{},{emitError:!1}).catch(function(e){return console.log("Session already expired")})},I.prototype.select2PersonTemplateResult=function(e){var n,i;return e.element&&e.id?(n=t(e.element),i=null!=n.data("user-img")?'<span style="position: relative; padding-left: 25px;">\n    <img style="width: 18px; height: 18px; border-radius: 100%; position: absolute; left: 2px; top: -2px;" src="'+n.data("user-img")+'"  onError="this.onerror=null;this.src=\'//cdn.teamwork.com/images/noPhoto2.png\';">\n    '+app.utility.SafeHTML(e.text)+"\n</span>":"<span>"+app.utility.SafeHTML(e.text)+"</span>",r(i)):e.text},I.prototype.select2TagTemplateResult=function(e){var n,i;return e.element&&e.id?(n=t(e.element),i=null!=n.data("color")?'<span style="position: relative; padding-left: 20px;">\n    <span style="width: 12px; height: 12px; border-radius: 50%; position: absolute; left: 2px; top: 1px; background-color: '+n.data("color")+';"></span>\n    '+app.utility.SafeHTML(e.text)+"\n</span>":"<span>"+app.utility.SafeHTML(e.text)+"</span>",r(i)):e.text},I.prototype.select2TagTemplateSelection=function(e){var n,i;return e.element&&e.id?(n=t(e.element),i=null!=n.data("color")?'<span style="position: relative; padding-left: 15px;">\n    <span style="width: 10px; height: 10px; border-radius: 50%; position: absolute; left: 2px; top: 2px; background-color: '+n.data("color")+';"></span>\n    '+app.utility.SafeHTML(e.text)+"\n</span>":"<span>"+app.utility.SafeHTML(e.text)+"</span>",r(i)):e.text},I.prototype.select2CategoryTemplateResult=function(e){var n,i;return e.element?(n=t(e.element),i=r("<span></span>"),i.addClass(n[0].className),i.text(e.text),i):e.text},I.prototype.select2CategoryColorTemplateResult=function(e){var n,i;return e.element?(n=t(e.element),i=r("<span></span>"),i.addClass(n[0].className),i.text(e.text),i):e.text},I.prototype.select2FormatPriorityIcons=function(e){var n,r,i,o;return o={id:"0",text:app.tl("No Priority"),color:"#B1B1B1"},"0"!==e.id&&t.extend(o,e),i=null!=e.id&&"none"===e.id?"fa-minus-circle":"fa-exclamation-circle",n=t("<i style='margin-right: 5px; color:"+o.color+"' class='fa "+i+" fa-lg font-size--medium'></i>"),r=t("<span></span>").text(o.text),t("<div></div>").append(n).append(r)},I.prototype.select2FormatMilestoneStatusIcons=function(e){var n,r,i;return i={id:"0",text:app.tl("All Milestones"),color:"#B1B1B1"},"0"!==e.id&&t.extend(i,e),n=t("<i style='margin-right: 5px; width: 10px; height: 10px; border-radius: 50%; display: inline-block; background:"+i.color+"'></i>"),r=t("<span></span>").text(i.text),t("<div></div>").append(n).append(r)},I.prototype.select2FormatProjectStatusIcons=function(e){var n,r,i;return i={id:"0",text:app.tl("All Projects"),color:"#B1B1B1"},"0"!==e.id&&t.extend(i,e),n=t("<i style='margin-right: 5px; width: 10px; height: 10px; border-radius: 50%; display: inline-block; background:"+i.color+"'></i>"),r=t("<span></span>").text(i.text),t("<div></div>").append(n).append(r)},I.prototype.select2ColumnTemplateResult=function(e){var t,n,i,o,a,s;return null==e.id||""===e.id.toString()?e.text:(t="",null!=e.element&&null!=(null!=(i=e.element.dataset)?i.properties:void 0)?(n=S.utils.parseJson(e.element.dataset.properties),t=null==n.color?"":"transparent"===(o=n.color)||""===o?'<span><i class="fa fa-fw fa-circle-thin"></i></span>':"<span><i class='fa fa-fw fa-circle' style='color: "+n.color+"'></i></span>"):t="0"===e.id?'<span><i class="fa fa-fw fa-times-circle"></i></span>':null==e.color?"":"transparent"===(a=e.color)||""===a?'<span><i class="fa fa-fw fa-circle-thin"></i></span>':"<span><i class='fa fa-fw fa-circle' style='color: "+e.color+"'></i></span>",s=app.utility.SafeHTML(e.text),r("<span>"+t+" "+s+"</span>"))},I.prototype.select2CustomFieldTemplateResult=function(e){var t,n,i;return null==e.color||""===e.id.toString()?e.text:(t="",t="transparent"===(n=e.color)||""===n?'<span><i class="fa fa-fw fa-circle-thin"></i></span>':"<span><i class='fa fa-fw fa-circle' style='color: "+e.color+"'></i></span>",i=app.utility.SafeHTML(e.text),r("<span>"+t+" "+i+"</span>"))},I.prototype.UpdateTodaysAgos=function(){if(0===r("span.jsAgo").length)return void(null!=this.pe&&(this.pe.stop(),this.pe=null));r("span.jsAgo").each(function(e){var t,n,i,o;n=this,t=void 0,i=r(n).attr("isoDate"),null!==i?t=z(i):(o=r(n).attr("pdate"),null!==o?t=z(z(o).format("YYYY-MM-DD HH:mm:ss -00:00"),"YYYY-MM-DD HH:mm:ssZ"):(r(n).attr("pdate",n.innerHTML),t=z(z(n.innerHTML).format("YYYY-MM-DD HH:mm:ss -00:00"),"YYYY-MM-DD HH:mm:ssZ"))),n.innerHTML=app.utility.GetPastRelativeTime(t)}),null===this.pe&&(this.pe=new PeriodicalExecuter(this.updateTodaysAgos,10))},I.prototype.GetIcon=function(e,t){return null==t&&(t=""),app.utility.GetAttachmentIcon(e,t)},I.prototype.OnImageThumbLoadFail=function(e,n,i){var o;switch(null==e&&(e=null),o=i.target,null===o.getAttribute("realSrc")&&(o.setAttribute("realSrc",o.src),r(o).addClass("notFound")),e){case"person":case"userAvatar":case"user":o.src="//cdn.teamwork.com/images/noPhoto2.png";break;case"company":o.src="./tko/public/assets/svg/company-regular.svg";break;case"companyLogo":o.src="//cdn.teamwork.com/images/no_clogo2.png";break;case"projectLogo":o.src="//cdn.teamwork.com/images/noProjectLogo.png";break;case"teamLogo":case"team":o.src="./tko/public/assets/svg/team-regular.svg";break;case"favicon":o.src="//cdn.teamwork.com/favicon.ico";break;case"attachmentIcon":o.src="//cdn.teamwork.com/images/filetypes/default.png";break;default:o.src="//cdn.teamwork.com/images/newui/file-icons/large/raster.png"}t(o).parents(".fileThumb").addClass("failed")},I.prototype.GetPageTitle=function(){return this.pageTitle||""},I.prototype.UpdatePageTitle=function(e){var t,n,r,i,o,a,s,l,p;return null==e&&(e=""),""!==e?(document.title=e,void(this.pageTitle=e)):(l="",a=this.currentRoute(),null==a.page||null==app.account?(document.title="Teamwork Projects",void(this.pageTitle="Teamwork Projects")):(i=a.page,null!=app.loggedInUser&&null!=app.loggedInUser.localization?(r=app.loggedInUser.localization.languageCode(),n="EN"===r):n=!0,t=function(e){return null==e?"":"string"!=typeof e?"":""+e[0].toUpperCase()+e.substr(1)},l=function(){var e;switch(i){case"dashboard":return n?app.tl("Dashboard"):app.tl("Home");case"project":return void 0===a.projectTab||""===a.projectTab?s="":(s=function(){switch(a.projectTab){case"overview":return app.tl("Overview");case"tasklists":return app.tl("Task Lists");case"tasks":return app.tl("Tasks");case"milestones":return app.tl("Milestones");case"messages":return app.tl("Messages");case"files":return app.tl("Files");case"time":return app.tl("Time");case"notebooks":return app.tl("Notebooks");case"risks":return app.tl("Risk Register");case"links":return app.tl("Links");case"billing":return app.tl("Billing");case"people":switch(a.projectPeopleTab){case"roles":return app.tl("Project Roles");default:return app.tl("People")}break;case"risks":return app.tl("Risk Register");default:return p=t(a.projectTab),window.devMode&&console.log("ref93: We need to translate "+p+"' when tab is '"+a.projectTab+"'"),p}}(),a.project.name()+" - "+s);case"gantt":return null!=(null!=(e=a.project)?e.name:void 0)?a.project.name()+" - 'Gantt'":"Gantt";case"projects":if(void 0===a.projectsPageTab||""===a.projectsPageTab)return"";switch(a.projectsPageTab){case"portfolio":return app.tl("Projects Portfolio");case"chart":return app.tl("Projects Chart");default:return t(a.projectsPageTab)+" + Projects"}break;case"everything":if(void 0===a.everythingPageTab||""===a.everythingPageTab)return"";switch(a.everythingPageTab){case"tasks":return app.tl("All Active Tasks");case"completedTasks":return app.tl("All Completed Tasks");case"workload":return app.tl("Workload");case"milestones":return app.tl("All Milestones");case"messages":return app.tl("All Messages");case"comments":return app.tl("All Comments");case"notebooks":return app.tl("All Notebooks");case"files":return app.tl("All Files");case"links":return app.tl("All Links");case"time":return app.tl("All Time");default:return"All "+app.utility.Capitalize(a.everythingPageTab)}break;case"reporting":if(void 0===a.reportingPageTab||""===a.reportingPageTab)return"";switch(a.reportingPageTab){case"tasks":return app.tl("All Active Tasks");case"completedTasks":return app.tl("All Completed Tasks");case"workload":return app.tl("Workload");case"milestones":return app.tl("All Milestones");case"messages":return app.tl("All Messages");case"comments":return app.tl("All Comments");case"notebooks":return app.tl("All Notebooks");case"files":return app.tl("All Files");case"links":return app.tl("All Links");case"time":return app.tl("All Time");default:return"All "+app.utility.Capitalize(a.reportingPageTab)}break;case"statuses":return void 0===a.statusesPageTab||""===a.statusesPageTab?"":app.tl("Status [_s]",""+t(a.statusesPageTab));case"people":switch(a.peoplePageTab){case"companies":return app.tl("Companies");case"people":return app.tl("People");case"loginHistory":return app.tl("Login History");default:return t(a.peoplePageTab)}break;case"settings":return s=void 0===a.settingsPageTab||""===a.settingsPageTab?"":function(){switch(a.settingsPageTab){case"colortheme":return app.tl("Color Theme");case"customfields":return app.tl("Custom Fields");case"sso":return"SSO";default:return app.serverTranslate(t(a.settingsPageTab))}}(),app.tl("Settings")+" - "+s;case"cancel-account":return app.tl("Cancel Account");case"task-templates":return app.tl("Task Templates");case"basecamp-next":return"Import from Basecamp Next";case"basecamp-classic":return"Import from Basecamp Classic";case"asana":return"Import from Asana";default:return t(i)}}(),o=app.utility.GetCookie("PROJLB"),o.indexOf("beta")>-1&&(l="\ud83d\udd25 "+o.toUpperCase()+" - "+l),o.indexOf("canary")>-1&&(l="\ud83d\udc23 - "+l),this.pageTitle=l,document.title=l+" - "+app.account.name()))},I.prototype.SetPageTitle=function(e,t,n){return null==t&&(t=!1),null==n&&(n=!1),window.devMode&&console.error("Warning: SetPageTitle has been deprecated"),!1},I.prototype.GetLoggedInUser=function(t){var n,i,o,a,s;return n={getInitialPage:!1},r.extend(n,t),i=function(e){return function(t){return e.filterConfig=new U,a(t.response.person)}}(this),a=function(e){return function(t){var n,r,i,o,a;if(parseInt(t.id,10)<=0)return void e.Logout({alreadyLoggedOut:!0});if(null!=window.defaultFilters){o=null!=(i=t.sharedUserFilter)?i:{};for(r in o)l.call(o,r)&&(a=o[r],window.defaultFilters[r]=a);t.defaultFilters=window.defaultFilters,window.defaultFilters=void 0;try{delete window.defaultFilters}catch(e){n=e,console.error(n)}}null!=e.loggedInUser?e.loggedInUser.Update(t):(e.loggedInUser=new D(t),ne.storeSync(e.hybrid.store,function(e){return e.user},e.loggedInUser,["hasFeatureUpdates","featureUpdatesCount","isClockedIn"])),z.tz.setDefault(e.loggedInUser.localization.timezoneJavaRefCode()),e.SetMomentLocale(e.loggedInUser.localization.languageCode()),e.isLoggedIn(!0)}}(this),null!=this._runningMejson&&this._runningMejson?e.resolve(null):(this._runningMejson=!0,o=app.utility.GetQueryStringParamByName("sf","hash"),null===o&&(o=""),""!==o&&(o="&sharedFilter="+o),s="me.json?fullprofile=1&getPreferences=1&cleanPreferences=1&getAccounts=1&includeAuth=1&includeClockIn=1&includeTeamIds=true"+o,n.getInitialPage&&(s+="&getInitialPage=1"),this.hybrid.apiDispatch("user/reload").then(function(e){return function(t){var n;if("EN"!==(null!=(n=t.response.person.localization)?n.languageCode.toUpperCase():void 0))if(app.isLanguagePackLoading()){if(null!=app.languagePackPromise)return app.languagePackPromise.then(function(e){i(t)})}else if(!app.isLanguagePackLoadedOrEnglish())return e.GetLanguagePack(!1,t.response.person.localization.languageCode.toUpperCase()).then(function(){return i(t)});a(t.response.person)}}(this)).catch(function(e){return function(t){return console.error("me.json > error:",t),420===t.status?void e.status("cancelled"):(z.tz.setDefault(null),e.SetMomentLocale("en"),e.isLoggedIn(!1),e.essentialDataIsLoaded()||401!==t.status?e.isShowingLoginModal()||null==("function"==typeof e.currentRoute?e.currentRoute().page:void 0)||"login"===e.currentRoute().page?null==q||window.devMode?void 0:q.captureMessage("(v"+window.appVersionId+") Me.json => Old Login Shown",{extra:{err:t,url:s}}):app.showLoginModal():t)}}(this)).finally(function(e){return function(){return e._runningMejson=!1}}(this)))},I.prototype.SetMomentLocale=function(e){/^[0-9]+$/.test(z().locale(e).format("d"))?z.locale(e):z.locale("en")},I.prototype.getImporterStatus=function(){return app.api.get(app.prefixApi("importer/stats.json","API_PREFIX_V3","API_PREFIX_CF"),null,{emitError:!1}).then(function(e){return function(t){return e.isImporting(t.response.isImporting||t.response.importers.isImporting)}}(this)).catch(function(e){return function(t){return e.isImporting(!1)}}(this))},I.prototype.UpdateAccountInfo=function(e){return null==e&&(e=!1),app.hybrid.apiDispatch("account/reload").then(function(e){return function(t){var n,r,i,o,a,p,u,d,c,f,h,m,g,y,b,v,w,k,T;n=t.response.account,n.id=parseInt(n.id,10),n.accountHolderId=parseInt(n.accountHolderId,10),n.companyid=parseInt(n.companyid,10),n.pricePlanId=parseInt(n.pricePlanId,10),n.billingAmount=Number(n.billingAmount),n.priceplanMaxUsers=Number(n.priceplanMaxUsers),n.paidForUsers=Number(n.paidForUsers),n.paidUntilDateTime=z(n.paidUntilDateTime,"YYYY-MM-DDTHH:mm:ssZ").toDate(),n.trialExpiryDate=z(n.trialExpiryDate,"YYYY-MM-DDTHH:mm:ssZ").toDate(),n.lifetimeValue=null!=n.lifetimeValue?Number(n.lifetimeValue):0,null==n.betaFeaturesEnabled&&(n.betaFeaturesEnabled=!1),null==n.betaFeatures&&(n.betaFeatures={}),null==n.defaultUserType&&(n.defaultUserType="account"),g=n.betaFeatures;for(f in g)l.call(g,f)&&(T=g[f],T=parseInt(T,10),n.betaFeatures[f]={enabled:T>0,access:0===T?1:T});for(r=["clockInOut","myBoards","newDashboard","teams","googleCalendar","slack","reporting","newgantt"],c=0,h=r.length;c<h;c++)i=r[c],null==n.betaFeatures[i]&&(n.betaFeatures[i]={enabled:!1,access:1});return n.isEnterprise=(y=n.pricePlanId)===e.consts.PRICEPLANS.ENTERPRISECUSTOM||y===e.consts.PRICEPLANS.PERUSER_ENTERPRISE||y===e.consts.PRICEPLANS.PERUSER_CORPORATE||n.pricePlan.toLowerCase().includes("enterprise"),n.isEnterprise||window.devMode?n.enterprisePlanSessionTimeoutAllowed=!0:n.enterprisePlanSessionTimeoutAllowed=!1,null==n.sessionTimeoutEnabled&&(n.sessionTimeoutEnabled=!1),null!=n.sessionTimeoutMinutes?(n.sessionTimeoutEnabled=!0,n.sessionTimeoutMinutes=parseInt(n.sessionTimeoutMinutes,10)):n.sessionTimeoutMinutes=0,null!=n.shardNo&&(n.shardNo=parseInt(n.shardNo,10)),p="BLOCK"===app.utility.GetCookie("TRUSTED"),n.isTWInternal=(b=n.id,s.call(e.consts.TRUSTED_INTERNAL,b)>=0&&!p),n.isTrusted=(v=n.id,s.call(e.consts.TRUSTED,v)>=0),n.isFreeAccount=[6,18].indexOf(parseInt(n.pricePlanId,10))>-1,n.forceNewDashboard=!0,n.betaFeatures.newgantt.enabled&&"gantt"===e.currentRoute().page&&e.GoTo("projects/"+e.projectId()+"/tasks/gantt"),n.betaFeatures.newgantt.enabled||"tasks/gantt"!==e.currentRoute().request_.slice(-11)||e.GoTo("projects/"+e.projectId()+"/gantt"),e.consts.API_SELECTOR="API_PREFIX_V2",null==n.integrations&&(n.integrations={}),null==(o=n.integrations).googleSignIn&&(o.googleSignIn={enabled:!1}),m=n.preferences,null!=e.accountResponse?(j.fromJS(t.response,e.accountResponse),j.fromJS(t.response,{ignore:["preferences"]},e.accountResponse)):(e.accountResponse=j.fromJS(t.response,{ignore:["preferences"]},null),e.account=e.accountResponse.account),e.account.preferences=new X(m),e.account.isInFreeTrial=S.pureComputed(function(){var t;return t=0,null!=e.account.trialDaysRemaining&&(t=~~e.account.trialDaysRemaining()),!~~e.account.isPaid()&&"trial"===e.account.paymentStatus()&&t>0}),null!=(null!=(w=e.account.priceplanTrialData)?w.endDate:void 0)&&(d=z(S.unwrap(e.account.priceplanTrialData.endDate)),d.isValid()&&(e.account.priceplanTrialData.remainingDays=S.observable(d.diff(z(),"days")),e.loggedInUser.administrator()&&(k=e.account.priceplanTrialData.remainingDays(),s.call([-1,0,1,2,3,4,5,6,7],k)>=0)&&e.showPlanTrialBanner(!0))),("function"==typeof(a=e.account).trialDaysRemaining?a.trialDaysRemaining():void 0)>0&&(e.inlineHelp=S.observable({}),app.api.get("/me/trialprogress.json").then(function(t){var n;return e.inlineHelp(new oe(S.observableArray(null!=t&&null!=(n=t.response)?n.created:void 0)))})),u=Object.keys(n.betaFeatures).map(function(t){return ne.singleSync(e.hybrid.store,function(e){return e.state.account},function(e){return!!e.account.betaFeatures[t]},function(e){return function(n){return n.account.betaFeatures[t]=e?1:0}},e.account.betaFeatures[t].enabled)}),e.account.disposeStoreSync=function(){return u.each(function(e){return e()})},null!=e.initialPriceplanFeatures&&(e.initialPriceplanFeatures=void 0,delete e.initialPriceplanFeatures),e.customCSS(n.customCSS)}}(this)).catch(function(t){return function(n){if(t.account=null,401!==n.status||!e)return app.flash.Error(app.tl("Something went wrong, please try again"))}}(this))},I.prototype.GetLanguagePack=function(e,t){var n,i,o;return null==e&&(e=!1),null==t&&(t=""),this.languagePack?null:(app.isLanguagePackLoading(!0),e?null==(n=this.cache.get("last-language-code-used"))&&(n="EN"):n=""!==t?t:app.loggedInUser.localization.languageCode(),n=n.toUpperCase(),"EN"===n||n===(null!=(i=this.languagePack)&&null!=(o=i.language)?o.code:void 0)?(this.isLanguagePackLoadedOrEnglish(!0),null!=this.cache&&this.cache.set("last-language-code-used",n),r("body").addClass(n),app.isLanguagePackLoading(!1),this.hybrid.store.dispatch("i18n/defaultLang"),null):this.hybrid.apiDispatch("i18n/initLang",n,{noCamelize:!0}).then(function(e){return function(t){return e.languagePack=t.response}}(this)).catch(function(e){return function(e,t,n){if(null==e.responseJSON)return app.flash.Error("Oh no!","Sorry, it seems we've had a problem loading translations. Please refresh the page. If this error persists, please contact us at support@teamwork.com"),console.error("langpack failed to load: invalid json")}}()).finally(function(e){return function(){e.isLanguagePackLoadedOrEnglish(!0),null!=e.cache&&e.cache.set("last-language-code-used",n),r("body").addClass(n),app.isLanguagePackLoading(!1)}}(this)))},I.prototype.GetAvailableUsers=function(e,t){var n;return n=null!=e.for&&"all-tasks"===e.for?app.api.get("tasks/people.json?type=accounts&groupByCompany=1"):app.api.get("availablePeople.json",e),null!=t&&S.isObservable(t)&&n.then(function(n){return function(n){var r;return r=null!=(null!=e?e.groupByCompany:void 0)&&e.groupByCompany?"companies":"people",t(n.response[r])}}()),n},I.prototype.GetMentionableUsers=function(e,t){var n,r,i,o,a,s;return r="",r="add"===e.mode?"message"===e.type?app.prefixApi("projects/"+e.projectId+"/people.json?type=users&includeObservers="+app.loggedInUser.inOwnerCompany(),"API_PREFIX_V2","API_PREFIX_V2"):"file"===e.type&&e.id>0?"files/"+e.parentItem.versionId()+"/people.json?includeObservers="+app.loggedInUser.inOwnerCompany():"comment"===e.type?"file"===(i=e.parentType)||"files"===i?"files/"+e.parentItem.versionId()+"/comments/people.json?type=users&includeObservers="+app.loggedInUser.inOwnerCompany():"fileversion"===(o=e.parentType)||"fileversions"===o?"files/"+e.parentItem.id()+"/comments/people.json?type=users&includeObservers="+app.loggedInUser.inOwnerCompany():e.parentType+"s/"+e.parentItem.id()+"/comments/people.json?type=users&includeObservers="+app.loggedInUser.inOwnerCompany():"projects/"+e.projectId+"/"+e.type+"s/availablepeople.json?type=users&includeObservers="+app.loggedInUser.inOwnerCompany():"comment"===e.type?"comments/"+e.id+"/people.json?type=users&includeObservers="+app.loggedInUser.inOwnerCompany():"message"===e.type?"projects/"+e.projectId+"/"+e.type+"s/availablepeople.json?type=users&includeObservers="+app.loggedInUser.inOwnerCompany():"file"===(a=e.type)||"files"===a?"files/"+e.parentItem.versionId()+"/people.json?type=users&includeObservers="+app.loggedInUser.inOwnerCompany():"fileversion"===(s=e.type)||"fileversions"===s?"files/"+e.parentItem.id()+"/people.json?type=users&includeObservers="+app.loggedInUser.inOwnerCompany():e.type+"s/"+e.id+"/people.json?type=users&includeObservers="+app.loggedInUser.inOwnerCompany(),n=app.api.get(r),null!=t&&S.isObservable(t)&&n.then(function(e){return function(e){var n,r,i,o,a;for(o=[],a=e.response.people,r=0,i=a.length;r<i;r++)n=a[r],n.name=n.firstName+" "+n.lastName,n.shortName=""+n.firstName.toLowerCase()+(""!==n.lastName?n.lastName[0].toLowerCase():""),o.push(n);return t(o)}}()),n},I.prototype.redirectToLogin=function(e){return document.location.href="/launchpad/login/projects?continue="+encodeURIComponent(document.location.href),!1},I.prototype.showLoginModal=function(){return window.desktopInterop&&window.desktopInterop.setSessionState("expired"),app.isShowingLoginModal(!0),this.modal.Show("logIn")},I.prototype.isElectron=function(){return!!window.desktopInterop},I.prototype.GoTo=function(e,t){var n;console.assert(-1===e.indexOf("http"),"Don't use GoTo for full URLs"),n={format:!0,onNotFound:null,silent:!1},r.extend(n,t),n.format&&(e=e.toLowerCase()),this.router.onNextItemNotFound=n.onNotFound,n.silent?(this.hasher.changed.active=!1,this.hybrid.router.absNavigate(e),this.hasher.changed.active=!0):this.hasher.setHash(e)},I.prototype.SetHash=function(e){this.hasher.changed.active=!1,this.hasher.setHash(e),this.hasher.changed.active=!0},I.prototype.GoToExt=function(e){window.location.href=e},I.prototype.PageReload=function(){window.location.reload()},I.prototype.RefreshMainPage=function(){app.pageComponentToShow.valueHasMutated(),app.sidebarComponentToShow.valueHasMutated()},I.prototype.FindUserById=function(e){return e=S.unwrap(e),S.utils.arrayFirst(this.users(),function(t){return function(t){return t.id()===e}}())},I.prototype.FindProjectById=function(e){return null!=this.cachedProjects[e]?this.cachedProjects[e]:null},I.prototype.ensureValidRoute=function(e,t){var n,r,i,o,a;if(console.assert(null!=t&&"object"==typeof t.vm&&"object"==typeof t.validOpts),a=t.vm,null!=t.onlyIfSame)if(null==t.onlyIfSameInitialVal)t.onlyIfSameInitialVal=app.currentRoute()[t.onlyIfSame];else if(app.currentRoute()[t.onlyIfSame]!==t.onlyIfSameInitialVal)return;if(null==t.onlyIfSame&&console.log("Dev note: Missing 'onlyIfSame'",e,t),null==a.validRouteSubscription&&(a.validRouteSubscriptionsList={},o=function(n){return this.vm=n,function(r){var i;app.currentRoute(),i=n.validRouteSubscriptionsList;for(e in i)t=i[e],app.ensureValidRoute(e,t)}},a.validRouteSubscription=app.currentRoute.subscribe(o(a))),null==a.validRouteSubscriptionsList[e]&&(a.validRouteSubscriptionsList[e]=t),r=app.currentRoute(),void 0!==(i=r[e])&&t.validOpts.indexOf(i)>=0)return void(null!=t.rememberIn&&this.cache.set(t.rememberIn,i));null!=t.rememberIn&&(n=this.cache.get(t.rememberIn)),-1===t.validOpts.indexOf(n)&&(n=t.validOpts[0]),r[e]=n,null!=t.rememberIn&&this.cache.set(t.rememberIn,n)},I.prototype.removeValidRouteSubscriptions=function(e){if(null!=e.validRouteSubscription)return e.validRouteSubscription.dispose()},I.prototype.SaveLoggedInUser=function(e){this.cache.set("loggedInUser",j.toJS(this.loggedInUser))},I.prototype.ResetProjectsCache=function(){return app.cachedProjects={}},I.prototype.GetProjectPermission=function(e,t){return!0},I.prototype.UpdateProjectAndPermissions=function(e){return app.projectInfo.update(S.unwrap(e))},I.prototype.GetProjectAndPermissions=function(t){var n;return t=S.unwrap(t),null!=this.cachedProjects[t]?e.resolve(this.cachedProjects[t]):app.utility.FindIndexByKeyValue(this.projects(),"id",t)>-1?e.resolve(this.projects()[app.utility.FindIndexByKeyValue(this.projects(),"id",t)]):(n=app.prefixApi("projects/"+t+".json?getPermissions=true&getNotificationSettings=true&getActivePages=true&getDateInfo=true&formatMarkdown=false","API_PREFIX_V2","API_PREFIX_V2"),app.api.get(n))},I.prototype.GetProjectStats=function(e,t,n){return null==t&&(t="0"),null==n&&(n=null),e=S.unwrap(e),app.api.get("projects/"+e+"/stats.json?responsible-party-ids="+t).then(function(e){return function(e){var t,r,i;r=e.response.stats;for(t in r)for(i in r[t])r[t][i]=parseInt(r[t][i],10);if(null!=n&&S.isObservable(n))return n(r)}}())},I.prototype.ParseDateTimeText=function(e){if(e=t.trim(e),10!==e.length)return null;try{return z(e,app.loggedInUser.localization.dateFormat())}catch(e){return null}return null},I.prototype.AddCSSLink=function(e,t){var n,i,o,a,s,l;if(s={combine:1,addFlush:0,media:"screen"},r.extend(s,t),l=[],null==window.loadedCSS&&(window.loadedCSS={}),e.split(",").forEach(function(e){void 0===window.loadedCSS[e]&&(window.loadedCSS[e]=1,l.push(e))}),0!==l.length)for(s.combine&&(l[0]="toolkit/d.cfm?css="+l,l.length=1),n=document.getElementsByTagName("head")[0],i=0;i<l.length;)o=l[i],a=document.createElement("link"),a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href",o),a.setAttribute("media",s.media),n.appendChild(a),i++},I.prototype.extendMoment=function(){return z.fn.userFormat=function(e){var t,n;return null==e&&(e="date"),t=null!=app.loggedInUser?app.loggedInUser.localization.dateFormat():"YYYY-MM-DD",n=null!=app.loggedInUser?app.loggedInUser.localization.timeFormat():"HH:mm","date"===e?this.format(t):"time"===e?this.format(n):"date-time"===e?this.format(t+" "+n):void 0},z.fn.nthWeekDayOfMonth=function(){return 0|Math.ceil(this.date()/7)}},I.prototype.extendKnockout=function(){S.subscribable.fn.subscribeOnce=function(e,t,n){var r;return r=this.subscribe(function(){return r.dispose(),e.apply(this,arguments)},t,n)}},I.prototype.FocusFirstInput=function(e,n){var i;i={select:!1},r.extend(i,n),setTimeout(function(n){return function(){var n;return n=t("string"==typeof e?"#"+e:e).find("input:text,input:password,textarea,input:checkbox,submit,input:button,button[type=submit],input[type=submit],input[type=search],input[type=email]").filter(":visible :first"),i.select?n.select():n.focus()}}(),500)},I.prototype.GetLoadingStrings=function(){var e;return e=[this.tl("Initiating Flux Capacitor"),this.tl("Sharpening Pencils"),this.tl("Entering Matrix"),this.tl("Analyzing Life"),this.tl("Counting Sheep"),this.tl("[_s]K ought to be enough for anybody",640),this.tl("Pay no attention to the man behind the curtain"),this.tl("At least you're not on hold"),this.tl("Moving satellite into position"),this.tl("The bits are flowing slowly today"),this.tl("[_s] bottles of beer on the wall","1,000,000"),this.tl("Searching for Answer to Life, the Universe, and Everything"),this.tl("Waiting for Godot"),this.tl("Prepare for awesomeness!"),this.tl("Your time is important to us. Please hold."),this.tl("Defending Liberty")],this.utility.shuffle(e),e.length=5,e.unshift(this.tl("Loading Your Projects")),e},I.prototype.TestThrow=function(){return this.noSuchMethod()},I.prototype.NextTick=function(e){return setTimeout(e)},I.prototype.SetRavenUser=function(){var e;if(!window.devMode)return null!=this.loggedInUser?(e={id:this.loggedInUser.id(),email:this.loggedInUser.emailAddress(),companyId:this.loggedInUser.companyId(),appVersionId:window.appVersionId},null!=this.account&&(e.installationId=this.account.id(),e.installation=this.account.URL(),e.region=this.account.awsRegion()),q.setUserContext(e)):q.setUserContext()},I.prototype.SendSentryError=function(e){if(null!=q&&!window.devMode)return q.captureMessage("(v"+window.appVersionId+") "+e,{extra:{failedLookups:window.launchControl.cdnFail}})},I.prototype.InitUserTracker=function(){var e;if(app.featureFlip.check("userTracker"))return e={product:"Projects",region:this.account.awsRegion().toUpperCase(),environment:window.devMode?"Development":"Production",release:window.appVersionId,shardNo:this.account.shardNo(),installation:{ID:this.account.id(),name:this.account.name(),URL:this.account.URL(),createdDate:new Date(this.account.createdAt()).getTime()},user:{ID:this.loggedInUser.id(),firstName:this.loggedInUser.firstName(),lastName:this.loggedInUser.lastName(),email:this.loggedInUser.emailAddress(),createdDate:new Date(this.loggedInUser.createdAt()).getTime()},productData:{pricePlanId:this.account.pricePlanId()},eventSendInterval:1e4},this.userTracker=new ee(e),this.userTracker.sendProfileUpdate()},I.prototype.initKOProfiling=function(){!function(){var e,t,n,i,o,a,s,l;a=[],n=Date.now(),t=500,s=app.utility.debounce(function(){var e,i,o,s;a.length&&(a.sort(function(e,t){return t.totalDuration-e.totalDuration}),a.forEach(function(e){e.entries.sort(function(e,t){return t.duration-e.duration})}),s=a.reduce(function(e,t){return(null!=e?e.totalDuration:void 0)>t.totalDuration?e:t},a[0]),o=a.reduce(function(e,t){return e+t.totalDuration},0),i=[{min:0,max:50,style:"background-color: green; color: white;"},{min:51,max:150,style:"background-color: orange; color: white;"},{min:151,max:Infinity,style:"background-color: red; color: white;"}],e=function(e){return i.find(function(t){return e>=t.min&&e<=t.max}).style},console.log("%cKnockout Binding Report","background-color: yellow; font-size: 2em;"),console.log("Report Date:",(new Date).toISOString(),"(+"+(Date.now()-t-n)+"ms)"),console.log("%cTotal: "+o+"ms",e(o)),console.log("%cTop: "+s.handler+" ("+s.totalDuration+"ms)",e(s.totalDuration)),console.table(a),window.lastKOProfileReport=r.extend({},a),a=[],n=Date.now())},t),l=function(e,t){return function(n,r,i,o,l){var p,u,d,c;return c=(new Date).getTime(),d=t(n,r,i,o,l),p=(new Date).getTime()-c,u=a.find(function(t){return t.handler===e}),u||(u={handler:e,totalDuration:0,entries:[]},a.push(u)),u.totalDuration+=p,u.entries.push({element:n,binding:n.attributes&&n.attributes["data-bind"]||n.nodeValue||"",duration:p}),s(),d}},o=S.bindingHandlers;for(i in o)e=o[i],e.init&&(e.init=l(i+".init",e.init)),e.update&&(e.update=l(i+".update",e.update))}(),console.log("Knockout profiling on")},I.prototype.analyseLastKOProfileReport=function(){var e,t,n,r,i,o,a,s,l,p,u;if(window.lastKOProfileReport&&0!==window.lastKOProfileReport.length){for(n={},e=[],a=0;window.lastKOProfileReport[a]&&a<10;){for(u=window.lastKOProfileReport[a],p=u.entries,i=0,o=p.length;i<o;i++)s=p[i],t=s.binding,n[t]?(l=n[t],l.totalDuration+=s.duration,l.timesCalled+=1):(l={binding:t,totalDuration:s.duration,timesCalled:1},n[t]=l,e.push(l));a++}e.sort(function(e,t){return e.totalDuration>t.totalDuration?-1:1}),e=e.splice(0,10);for(r in e)s=e[r],s.average=(s.totalDuration/s.timesCalled).toFixed(2),s.totalDuration;console.log("The worse performers are:"),console.table(e)}},I.prototype.showOnboardingModal=function(){},I.prototype.disableBetaFeatures=function(){var e;(e=this.consts.TRUSTED.indexOf(app.account.id()))>-1&&this.consts.TRUSTED.splice(e,1)},I.prototype.prefixApi=function(e,t,n){var r,i,o,a;if(null==t&&(t=""),null==n&&(n=""),"string"==typeof e||e instanceof String||console.error("app.prefixApi: url passed must be a string, given: "+typeof e),"string"==typeof t||t instanceof String||console.error("app.prefixApi: overrideSelector passed must be a string, given: "+typeof t),"string"==typeof n||n instanceof String||console.error("app.prefixApi: defaultSelector passed must be a string, given: "+typeof n),null!=this.account&&this.account.isTWInternal()?i=""!==t?t:this.consts.API_SELECTOR:(""===n&&(n=this.consts.API_SELECTOR),i=n),null==(r=this.consts[i]))throw o="constants.API_SELECTOR",""!==t&&(o="overrideSelector"),new Error("app.prefixApi: "+o+" is invalid: "+i+". Must match a variable name of an api prefix in constants file.");return a=r+"/"+e,"/"===e[0]&&"/"===r[r.length-1]&&(a=a.replace("///","/")),"/"!==e[0]&&"/"!==r[r.length-1]||(a=a.replace("//","/")),"/"!==a[0]&&(a="/"+a),a},I}()}.apply(t,i))&&(e.exports=o)}).call(t,n(245))},1245:function(e,t,n){var r,i,o=[].slice;r=[n(164)],void 0!==(i=function(e){return{defineBinding:function(t,n){e.bindingHandlers[t]={init:function(t){var r,i,a,s;return r=new n,null!=r.dispose&&e.utils.domNodeDisposal.addDisposeCallback(t,(i=r.dispose).bind.apply(i,[r].concat(o.call(arguments)))),s=r.init.apply(r,arguments),r.update&&e.computed({read:(a=r.update).bind.apply(a,[r].concat(o.call(arguments))),disposeWhenNodeIsRemoved:t}),s}}}}}.apply(t,r))&&(e.exports=i)},1359:function(e,t,n){(function(t,n){var r,r;!function(t){e.exports=t()}(function(){var e;return function e(t,n,i){function o(s,l){if(!n[s]){if(!t[s]){var p="function"==typeof r&&r;if(!l&&p)return r(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return o(n||e)},d,d.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";function r(e,t,n){function r(){g.sleeping=!0}function s(){return l()}function l(e){var n=t.getBoundingClientRect(),r=document.body.scrollTop||document.documentElement.scrollTop;return y?(e=y.read(),{x:(e.absolute?0:n.left)+e.x,y:(e.absolute?0:n.top)+r+e.y+20}):{x:n.left,y:n.top+r}}function p(e){u(e)}function u(n){if(h)throw new Error("Bullseye can't refresh after being destroyed. Create another instance instead.");if(y&&!n)return g.sleeping=!1,void y.refresh();var r=l(n);y||t===e||(r.y+=t.offsetHeight),e.style.left=r.x+"px",e.style.top=r.y+"px"}function d(){y&&y.destroy(),i.remove(window,"resize",m),h=!0}var c=n,f=t&&t.tagName;f||2!==arguments.length||(c=t),f||(t=e),c||(c={});var h=!1,m=o(u,30),g={update:!1!==c.autoupdateToCaret&&p},y=c.caret&&a(t,g);return u(),!1!==c.tracking&&i.add(window,"resize",m),{read:s,refresh:u,destroy:d,sleep:r}}var i=e("crossvent"),o=e("./throttle"),a=e("./tailormade");t.exports=r},{"./tailormade":11,"./throttle":12,crossvent:18}],2:[function(e,n,r){(function(t){"use strict";var r,i=t.document,o=e("./getSelectionRaw"),a=e("./getSelectionNullOp"),s=e("./getSelectionSynthetic");r=e("./isHost").method(t,"getSelection")?o:"object"==typeof i.selection&&i.selection?s:a,n.exports=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getSelectionNullOp":3,"./getSelectionRaw":4,"./getSelectionSynthetic":5,"./isHost":6}],3:[function(e,t,n){"use strict";function r(){}function i(){return{removeAllRanges:r,addRange:r}}t.exports=i},{}],4:[function(e,n,r){(function(e){"use strict";function t(){return e.getSelection()}n.exports=t}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,n,r){(function(t){"use strict";function r(e){var t=this,n=e.createRange();this._selection=e,this._ranges=[],"Control"===e.type?c(t):u(n)?d(t,n):s(t)}function i(e,t){for(var n,r=v.createControlRange(),i=0,o=t.length;o>i;++i){n=p(t[i]);try{r.add(n)}catch(e){throw new Error("setRanges(): Element could not be added to control selection")}}r.select(),c(e)}function o(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,i=n.length;i>r;++r)h(t,n[r])||e.addRange(n[r]);e.rangeCount||s(e)}function a(e,t){var n="start";e.anchorNode=t[n+"Container"],e.anchorOffset=t[n+"Offset"],e.focusNode=t.endContainer,e.focusOffset=t.endOffset}function s(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function l(e){if(!e.length||1!==e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!m(e[0],e[t]))return!1;return!0}function p(e){var t=e.getNodes();if(!l(t))throw new Error("getSingleElementFromRange(): range did not consist of a single element");return t[0]}function u(e){return e&&void 0!==e.text}function d(e,t){e._ranges=[t],a(e,t,!1),e.rangeCount=1,e.isCollapsed=t.collapsed}function c(e){if(e._ranges.length=0,"None"===e._selection.type)s(e);else{var t=e._selection.createRange();if(u(t))d(e,t);else{e.rangeCount=t.length;for(var n,r=0;r<e.rangeCount;++r)n=b.createRange(),n.selectNode(t.item(r)),e._ranges.push(n);e.isCollapsed=1===e.rangeCount&&e._ranges[0].collapsed,a(e,e._ranges[e.rangeCount-1],!1)}}}function f(e,t){for(var n=e._selection.createRange(),r=p(t),i=v.createControlRange(),o=0,a=n.length;a>o;++o)i.add(n.item(o));try{i.add(r)}catch(e){throw new Error("addRange(): Element could not be added to control selection")}i.select(),c(e)}function h(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}function m(e,t){for(var n=t;n.parentNode;){if(n.parentNode===e)return!0;n=n.parentNode}return!1}function g(){return new r(t.document.selection)}var y=e("./rangeToTextRange"),b=t.document,v=b.body,w=r.prototype;w.removeAllRanges=function(){var e;try{this._selection.empty(),"None"!==this._selection.type&&(e=v.createTextRange(),e.select(),this._selection.empty())}catch(e){}s(this)},w.addRange=function(e){"Control"===this._selection.type?f(this,e):(y(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,a(this,e,!1))},w.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?i(this,e):t&&this.addRange(e[0])},w.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new Error("getRangeAt(): index out of bounds");return this._ranges[e].cloneRange()},w.removeRange=function(e){if("Control"!==this._selection.type)return void o(this,e);for(var t,n=this._selection.createRange(),r=p(e),i=v.createControlRange(),a=!1,s=0,l=n.length;l>s;++s)t=n.item(s),t!==r||a?i.add(n.item(s)):a=!0;i.select(),c(this)},w.eachRange=function(e,t){var n=0,r=this._ranges.length;for(n=0;r>n;++n)if(e(this.getRangeAt(n)))return t},w.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},w.setSingleRange=function(e){this.removeAllRanges(),this.addRange(e)},n.exports=g}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./rangeToTextRange":7}],6:[function(e,t,n){"use strict";function r(e,t){var n=typeof e[t];return"function"===n||!("object"!==n||!e[t])||"unknown"===n}function i(e,t){return void 0!==e[t]}function o(e){return function(t,n){for(var r=n.length;r--;)if(!e(t,n[r]))return!1;return!0}}t.exports={method:r,methods:o(r),property:i,properties:o(i)}},{}],7:[function(e,n,r){(function(e){"use strict";function t(e){if(e.collapsed)return i({node:e.startContainer,offset:e.startOffset},!0);var t=i({node:e.startContainer,offset:e.startOffset},!0),n=i({node:e.endContainer,offset:e.endOffset},!1),r=a.createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r}function r(e){var t=e.nodeType;return 3===t||4===t||8===t}function i(e,t){var n,i,s,l,p=e.offset,u=a.createTextRange(),d=r(e.node);return d?(n=e.node,i=n.parentNode):(l=e.node.childNodes,n=p<l.length?l[p]:null,i=e.node),s=o.createElement("span"),s.innerHTML="&#feff;",n?i.insertBefore(s,n):i.appendChild(s),u.moveToElementText(s),u.collapse(!t),i.removeChild(s),d&&u[t?"moveStart":"moveEnd"]("character",p),u}var o=e.document,a=o.body;n.exports=t}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){"use strict";var r=e("./getSelection"),i=e("./setSelection");t.exports={get:r,set:i}},{"./getSelection":2,"./setSelection":9}],9:[function(e,n,r){(function(t){"use strict";function r(e){a.createRange?function(){var t=i(),n=a.createRange();e.startContainer&&(e.endContainer?n.setEnd(e.endContainer,e.endOffset):n.setEnd(e.startContainer,e.startOffset),n.setStart(e.startContainer,e.startOffset),t.removeAllRanges(),t.addRange(n))}():function(){o(e).select()}()}var i=e("./getSelection"),o=e("./rangeToTextRange"),a=t.document;n.exports=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getSelection":2,"./rangeToTextRange":7}],10:[function(e,t,n){"use strict";function r(e){return{start:e.selectionStart,end:e.selectionEnd}}function i(e){function t(t,r){return n!==e&&(n?n.focus():e.blur()),{start:t,end:r}}var n=document.activeElement;n!==e&&e.focus();var r=document.selection.createRange(),i=r.getBookmark(),s=e.value,l=o(s),p=r.parentElement();if(null===p||!a(p))return t(0,0);r.text=l+r.text+l;var u=e.value;return e.value=s,r.moveToBookmark(i),r.select(),t(u.indexOf(l),u.lastIndexOf(l)-l.length)}function o(e){var t;do{t="@@marker."+Math.random()*new Date}while(-1!==e.indexOf(t));return t}function a(e){return"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName}function s(e,t){e.selectionStart=p(e,t.start),e.selectionEnd=p(e,t.end)}function l(e,t){var n=e.createTextRange();"end"===t.start&&"end"===t.end?(n.collapse(!1),n.select()):(n.collapse(!0),n.moveEnd("character",p(e,t.end)),n.moveStart("character",p(e,t.start)),n.select())}function p(e,t){return"end"===t?e.value.length:t||0}function u(e,t){return 2===arguments.length&&c(e,t),d(e)}var d=r,c=s;document.selection&&document.selection.createRange&&(d=i,c=l),t.exports=u},{}],11:[function(e,n,r){(function(t){"use strict";function r(e,t){function n(){}function r(){return(k?f:h)()}function a(){return I.sleeping?void 0:(I.update||n)(r())}function f(){var t=i(e),n=y(),r=m(n,t.start);return d.body.removeChild(n.mirror),r}function h(){var e=l();if(e.rangeCount){var t=e.getRangeAt(0);if("P"===t.startContainer.nodeName&&0===t.startOffset)return{x:t.startContainer.offsetLeft,y:t.startContainer.offsetTop,absolute:!0};if(t.getClientRects){var n=t.getClientRects();if(n.length>0)return{x:n[0].left,y:n[0].top,absolute:!0}}}return{x:0,y:0}}function m(t,n){var r=d.createElement("span"),i=t.mirror,o=t.computed;return b(i,g(e).substring(0,n)),"INPUT"===e.tagName&&(i.textContent=i.textContent.replace(/\s/g,"\xa0")),b(r,g(e).substring(n)||"."),i.appendChild(r),{x:r.offsetLeft+parseInt(o.borderLeftWidth),y:r.offsetTop+parseInt(o.borderTopWidth)}}function g(e){return k?e.value:e.innerHTML}function y(){function t(e){i[e]=n[e]}var n=u.getComputedStyle?getComputedStyle(e):e.currentStyle,r=d.createElement("div"),i=r.style;return d.body.appendChild(r),"INPUT"!==e.tagName&&(i.wordWrap="break-word"),i.whiteSpace="pre-wrap",i.position="absolute",i.visibility="hidden",p.forEach(t),c?(i.width=parseInt(n.width)-2+"px",e.scrollHeight>parseInt(n.height)&&(i.overflowY="scroll")):i.overflow="hidden",{mirror:r,computed:n}}function b(e,t){k?e.textContent=t:e.innerHTML=t}function v(t){var n=t?"remove":"add";o[n](e,"keydown",T),o[n](e,"keyup",T),o[n](e,"input",T),o[n](e,"paste",T),o[n](e,"change",T)}function w(){v(!0)}var k="INPUT"===e.tagName||"TEXTAREA"===e.tagName,T=s(a,30),I=t||{};return v(),{read:r,refresh:T,destroy:w}}var i=e("sell"),o=e("crossvent"),a=e("seleccion"),s=e("./throttle"),l=a.get,p=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],u=t,d=document,c=null!==u.mozInnerScreenX&&void 0!==u.mozInnerScreenX;n.exports=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./throttle":12,crossvent:18,seleccion:8,sell:10}],12:[function(e,t,n){"use strict";function r(e,t){var n,r=-1/0;return function(){function i(){clearTimeout(n),n=null;var o=r+t,a=Date.now();a>o?(r=a,e()):n=setTimeout(i,o-a)}n||i()}}t.exports=r},{}],13:[function(e,t,n){"use strict";var r=e("ticky");t.exports=function(e,t,n){e&&r(function(){e.apply(n||null,t||[])})}},{ticky:16}],14:[function(e,t,n){"use strict";var r=e("atoa"),i=e("./debounce");t.exports=function(e,t){var n=t||{},o={};return void 0===e&&(e={}),e.on=function(t,n){return o[t]?o[t].push(n):o[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var r=arguments.length;if(1===r)delete o[t];else if(0===r)o={};else{var i=o[t];if(!i)return e;i.splice(i.indexOf(n),1)}return e},e.emit=function(){var t=r(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var a=(o[t]||[]).slice(0);return function(){var o=r(arguments),s=this||e;if("error"===t&&!1!==n.throws&&!a.length)throw 1===o.length?o[0]:o;return a.forEach(function(r){n.async?i(r,o,s):r.apply(s,o),r._once&&e.off(t,r)}),e}},e}},{"./debounce":13,atoa:15}],15:[function(e,t,n){t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],16:[function(e,t,r){var i;i="function"==typeof n?function(e){n(e)}:function(e){setTimeout(e,0)},t.exports=i},{}],17:[function(e,n,r){(function(e){var t=e.CustomEvent;n.exports=function(){try{var e=new t("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?t:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,n,r){(function(t){"use strict";function r(e,t,n,r){return e.addEventListener(t,n,r)}function i(e,t,n){return e.attachEvent("on"+t,p(e,t,n))}function o(e,t,n,r){return e.removeEventListener(t,n,r)}function a(e,t,n){return e.detachEvent("on"+t,u(e,t,n))}function s(e,t,n){var r=-1===f.indexOf(t)?function(){return new c(t,{detail:n})}():function(){var e;return h.createEvent?(e=h.createEvent("Event"),e.initEvent(t,!0,!0)):h.createEventObject&&(e=h.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(r):e.fireEvent("on"+t,r)}function l(e,n,r){return function(n){var i=n||t.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,r.call(e,i)}}function p(e,t,n){var r=u(e,t,n)||l(e,t,n);return y.push({wrapper:r,element:e,type:t,fn:n}),r}function u(e,t,n){var r=d(e,t,n);if(r){var i=y[r].wrapper;return y.splice(r,1),i}}function d(e,t,n){var r,i;for(r=0;r<y.length;r++)if(i=y[r],i.element===e&&i.type===t&&i.fn===n)return r}var c=e("custom-event"),f=e("./eventmap"),h=document,m=r,g=o,y=[];t.addEventListener||(m=i,g=a),n.exports={add:m,remove:g,fabricate:s}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":19,"custom-event":17}],19:[function(e,n,r){(function(e){"use strict";var t=[],r="",i=/^on/;for(r in e)i.test(r)&&t.push(r.slice(2));n.exports=t}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,n,r){!function(t,i){"object"==typeof r&&void 0!==n?n.exports=i():"function"==typeof e&&e.amd?e(i):t.moment=i()}(this,function(){"use strict";function e(){return Dn.apply(null,arguments)}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,r){return Se(e,t,n,r,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(e){return null==e._pf&&(e._pf=p()),e._pf}function d(e){if(null==e._isValid){var t=u(e);e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function c(e){var t=l(NaN);return null!=e?s(u(t),e):u(t).userInvalidated=!0,t}function f(e,t){var n,r,i;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=u(t)),void 0!==t._locale&&(e._locale=t._locale),En.length>0)for(n in En)r=En[n],void 0!==(i=t[r])&&(e[r]=i);return e}function h(t){f(this,t),this._d=new Date(+t._d),!1===Mn&&(Mn=!0,e.updateOffset(this),Mn=!1)}function m(e){return e instanceof h||null!=e&&null!=e._isAMomentObject}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function y(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&g(e[r])!==g(t[r]))&&a++;return a+o}function b(){}function v(e){return e?e.toLowerCase().replace("_","-"):e}function w(e){for(var t,n,r,i,o=0;o<e.length;){for(i=v(e[o]).split("-"),t=i.length,n=v(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=k(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&y(i,n,!0)>=t-1)break;t--}o++}return null}function k(e){var r=null;if(!Ln[e]&&void 0!==n&&n&&n.exports)try{r=An._abbr,t("./locale/"+e),T(r)}catch(e){}return Ln[e]}function T(e,t){var n;return e&&(n=void 0===t?C(e):I(e,t))&&(An=n),An._abbr}function I(e,t){return null!==t?(t.abbr=e,Ln[e]||(Ln[e]=new b),Ln[e].set(t),T(e),Ln[e]):(delete Ln[e],null)}function C(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return An;if(!r(e)){if(t=k(e))return t;e=[e]}return w(e)}function x(e,t){var n=e.toLowerCase();Un[n]=Un[n+"s"]=Un[t]=e}function S(e){return"string"==typeof e?Un[e]||Un[e.toLowerCase()]:void 0}function j(e){var t,n,r={};for(n in e)a(e,n)&&(t=S(n))&&(r[t]=e[n]);return r}function O(t,n){return function(r){return null!=r?(_(this,t,r),e.updateOffset(this,n),this):P(this,t)}}function P(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function _(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function D(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=S(e),"function"==typeof this[e])return this[e](t);return this}function A(e,t,n){for(var r=""+Math.abs(e),i=e>=0;r.length<t;)r="0"+r;return(i?n?"+":"":"-")+r}function E(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&($n[e]=i),t&&($n[t[0]]=function(){return A(i.apply(this,arguments),t[1],t[2])}),n&&($n[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function M(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L(e){var t,n,r=e.match(Fn);for(t=0,n=r.length;n>t;t++)$n[r[t]]?r[t]=$n[r[t]]:r[t]=M(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function U(e,t){return e.isValid()?(t=F(t,e.localeData()),Rn[t]||(Rn[t]=L(t)),Rn[t](e)):e.localeData().invalidDate()}function F(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Nn.lastIndex=0;r>=0&&Nn.test(e);)e=e.replace(Nn,n),Nn.lastIndex=0,r-=1;return e}function N(e,t,n){tr[e]="function"==typeof t?t:function(e){return e&&n?n:t}}function R(e,t){return a(tr,e)?tr[e](t._strict,t._locale):new RegExp($(e))}function $(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)nr[e[n]]=r}function H(e,t){B(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function Y(e,t,n){null!=t&&a(nr,e)&&nr[e](t,n._a,n,e)}function W(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function q(e){return this._months[e.month()]}function z(e){return this._monthsShort[e.month()]}function V(e,t,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function K(e,t){var n;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))?e:(n=Math.min(e.date(),W(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function G(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):P(this,"Month")}function J(){return W(this.year(),this.month())}function Q(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[ir]<0||n[ir]>11?ir:n[or]<1||n[or]>W(n[rr],n[ir])?or:n[ar]<0||n[ar]>24||24===n[ar]&&(0!==n[sr]||0!==n[lr]||0!==n[pr])?ar:n[sr]<0||n[sr]>59?sr:n[lr]<0||n[lr]>59?lr:n[pr]<0||n[pr]>999?pr:-1,u(e)._overflowDayOfYear&&(rr>t||t>or)&&(t=or),u(e).overflow=t),e}function Z(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function X(e,t){var n=!0,r=e+"\n"+(new Error).stack;return s(function(){return n&&(Z(r),n=!1),t.apply(this,arguments)},t)}function ee(e,t){cr[e]||(Z(t),cr[e]=!0)}function te(e){var t,n,r=e._i,i=fr.exec(r);if(i){for(u(e).iso=!0,t=0,n=hr.length;n>t;t++)if(hr[t][1].exec(r)){e._f=hr[t][0]+(i[6]||" ");break}for(t=0,n=mr.length;n>t;t++)if(mr[t][1].exec(r)){e._f+=mr[t][0];break}r.match(Zn)&&(e._f+="Z"),we(e)}else e._isValid=!1}function ne(t){var n=gr.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(te(t),void(!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t))))}function re(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 1970>e&&s.setFullYear(e),s}function ie(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function oe(e){return ae(e)?366:365}function ae(e){return e%4==0&&e%100!=0||e%400==0}function se(){return ae(this.year())}function le(e,t,n){var r,i=n-t,o=n-e.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=je(e).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function pe(e){return le(e,this._week.dow,this._week.doy).week}function ue(){return this._week.dow}function de(){return this._week.doy}function ce(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function fe(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function he(e,t,n,r,i){var o,a,s=ie(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:i,o=i-s+(s>r?7:0)-(i>s?7:0),a=7*(t-1)+(n-i)+o+1,{year:a>0?e:e-1,dayOfYear:a>0?a:oe(e-1)+a}}function me(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ge(e,t,n){return null!=e?e:null!=t?t:n}function ye(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function be(e){var t,n,r,i,o=[];if(!e._d){for(r=ye(e),e._w&&null==e._a[or]&&null==e._a[ir]&&ve(e),e._dayOfYear&&(i=ge(e._a[rr],r[rr]),e._dayOfYear>oe(i)&&(u(e)._overflowDayOfYear=!0),n=ie(i,0,e._dayOfYear),e._a[ir]=n.getUTCMonth(),e._a[or]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ar]&&0===e._a[sr]&&0===e._a[lr]&&0===e._a[pr]&&(e._nextDay=!0,e._a[ar]=0),e._d=(e._useUTC?ie:re).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ar]=24)}}function ve(e){var t,n,r,i,o,a,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=ge(t.GG,e._a[rr],le(je(),1,4).year),r=ge(t.W,1),i=ge(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=ge(t.gg,e._a[rr],le(je(),o,a).year),r=ge(t.w,1),null!=t.d?(i=t.d,o>i&&++r):i=null!=t.e?t.e+o:o),s=he(n,r,i,a,o),e._a[rr]=s.year,e._dayOfYear=s.dayOfYear}function we(t){if(t._f===e.ISO_8601)return void te(t);t._a=[],u(t).empty=!0;var n,r,i,o,a,s=""+t._i,l=s.length,p=0;for(i=F(t._f,t._locale).match(Fn)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(R(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&u(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),p+=r.length),$n[o]?(r?u(t).empty=!1:u(t).unusedTokens.push(o),Y(o,r,t)):t._strict&&!r&&u(t).unusedTokens.push(o);u(t).charsLeftOver=l-p,s.length>0&&u(t).unusedInput.push(s),!0===u(t).bigHour&&t._a[ar]<=12&&t._a[ar]>0&&(u(t).bigHour=void 0),t._a[ar]=ke(t._locale,t._a[ar],t._meridiem),be(t),Q(t)}function ke(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function Te(e){var t,n,r,i,o;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],we(t),d(t)&&(o+=u(t).charsLeftOver,o+=10*u(t).unusedTokens.length,u(t).score=o,(null==r||r>o)&&(r=o,n=t));s(e,n||t)}function Ie(e){if(!e._d){var t=j(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],be(e)}}function Ce(e){var t,n=e._i,o=e._f;return e._locale=e._locale||C(e._l),null===n||void 0===o&&""===n?c({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),m(n)?new h(Q(n)):(r(o)?Te(e):o?we(e):i(n)?e._d=n:xe(e),t=new h(Q(e)),t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t))}function xe(t){var n=t._i;void 0===n?t._d=new Date:i(n)?t._d=new Date(+n):"string"==typeof n?ne(t):r(n)?(t._a=o(n.slice(0),function(e){return parseInt(e,10)}),be(t)):"object"==typeof n?Ie(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function Se(e,t,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Ce(o)}function je(e,t,n,r){return Se(e,t,n,r,!1)}function Oe(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return je();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function Pe(){return Oe("isBefore",[].slice.call(arguments,0))}function _e(){return Oe("isAfter",[].slice.call(arguments,0))}function De(e){var t=j(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,p=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*p+6e4*l+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=C(),this._bubble()}function Ae(e){return e instanceof De}function Ee(e,t){E(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+A(~~(e/60),2)+t+A(~~e%60,2)})}function Me(e){var t=(e||"").match(Zn)||[],n=t[t.length-1]||[],r=(n+"").match(kr)||["-",0,0],i=60*r[1]+g(r[2]);return"+"===r[0]?i:-i}function Le(t,n){var r,o;return n._isUTC?(r=n.clone(),o=(m(t)||i(t)?+t:+je(t))-+r,r._d.setTime(+r._d+o),e.updateOffset(r,!1),r):je(t).local()}function Ue(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Fe(t,n){var r,i=this._offset||0;return null!=t?("string"==typeof t&&(t=Me(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&n&&(r=Ue(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?Xe(this,Ke(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ue(this)}function Ne(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Re(e){return this.utcOffset(0,e)}function $e(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ue(this),"m")),this}function Be(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Me(this._i)),this}function He(e){return e=e?je(e).utcOffset():0,(this.utcOffset()-e)%60==0}function Ye(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function We(){if(this._a){var e=this._isUTC?l(this._a):je(this._a);return this.isValid()&&y(this._a,e.toArray())>0}return!1}function qe(){return!this._isUTC}function ze(){return this._isUTC}function Ve(){return this._isUTC&&0===this._offset}function Ke(e,t){var n,r,i,o=e,s=null;return Ae(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=Tr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:g(s[or])*n,h:g(s[ar])*n,m:g(s[sr])*n,s:g(s[lr])*n,ms:g(s[pr])*n}):(s=Ir.exec(e))?(n="-"===s[1]?-1:1,o={y:Ge(s[2],n),M:Ge(s[3],n),d:Ge(s[4],n),h:Ge(s[5],n),m:Ge(s[6],n),s:Ge(s[7],n),w:Ge(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Qe(je(o.from),je(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new De(o),Ae(e)&&a(e,"_locale")&&(r._locale=e._locale),r}function Ge(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Je(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Qe(e,t){var n;return t=Le(t,e),e.isBefore(t)?n=Je(e,t):(n=Je(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Ze(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(ee(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Ke(n,r),Xe(this,i,e),this}}function Xe(t,n,r,i){var o=n._milliseconds,a=n._days,s=n._months;i=null==i||i,o&&t._d.setTime(+t._d+o*r),a&&_(t,"Date",P(t,"Date")+a*r),s&&K(t,P(t,"Month")+s*r),i&&e.updateOffset(t,a||s)}function et(e){var t=e||je(),n=Le(t,this).startOf("day"),r=this.diff(n,"days",!0),i=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,je(t)))}function tt(){return new h(this)}function nt(e,t){return t=S(void 0!==t?t:"millisecond"),"millisecond"===t?(e=m(e)?e:je(e),+this>+e):(m(e)?+e:+je(e))<+this.clone().startOf(t)}function rt(e,t){var n;return t=S(void 0!==t?t:"millisecond"),"millisecond"===t?+(e=m(e)?e:je(e))>+this:(n=m(e)?+e:+je(e),+this.clone().endOf(t)<n)}function it(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function ot(e,t){var n;return t=S(t||"millisecond"),"millisecond"===t?(e=m(e)?e:je(e),+this==+e):(n=+je(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function at(e){return 0>e?Math.ceil(e):Math.floor(e)}function st(e,t,n){var r,i,o=Le(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=S(t),"year"===t||"month"===t||"quarter"===t?(i=lt(this,o),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?i:at(i)}function lt(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)}function pt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ut(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():U(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):U(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function dt(t){var n=U(this,t||e.defaultFormat);return this.localeData().postformat(n)}function ct(e,t){return this.isValid()?Ke({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ft(e){return this.from(je(),e)}function ht(e,t){return this.isValid()?Ke({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mt(e){return this.to(je(),e)}function gt(e){var t;return void 0===e?this._locale._abbr:(t=C(e),null!=t&&(this._locale=t),this)}function yt(){return this._locale}function bt(e){switch(e=S(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function vt(e){return e=S(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function wt(){return+this._d-6e4*(this._offset||0)}function kt(){return Math.floor(+this/1e3)}function Tt(){return this._offset?new Date(+this):this._d}function It(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ct(){return d(this)}function xt(){return s({},u(this))}function St(){return u(this).overflow}function jt(e,t){E(0,[e,e.length],0,t)}function Ot(e,t,n){return le(je([e,11,31+t-n]),t,n).week}function Pt(e){var t=le(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function _t(e){var t=le(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Dt(){return Ot(this.year(),1,4)}function At(){var e=this.localeData()._week;return Ot(this.year(),e.dow,e.doy)}function Et(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Mt(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e}function Lt(e){return this._weekdays[e.day()]}function Ut(e){return this._weekdaysShort[e.day()]}function Ft(e){return this._weekdaysMin[e.day()]}function Nt(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=je([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Rt(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Mt(e,this.localeData()),this.add(e-t,"d")):t}function $t(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Bt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Ht(e,t){E(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Yt(e,t){return t._meridiemParse}function Wt(e){return"p"===(e+"").toLowerCase().charAt(0)}function qt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function zt(e){E(0,[e,3],0,"millisecond")}function Vt(){return this._isUTC?"UTC":""}function Kt(){return this._isUTC?"Coordinated Universal Time":""}function Gt(e){return je(1e3*e)}function Jt(){return je.apply(null,arguments).parseZone()}function Qt(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function Zt(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t}function Xt(){return this._invalidDate}function en(e){return this._ordinal.replace("%d",e)}function tn(e){return e}function nn(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)}function rn(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function on(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function an(e,t,n,r){var i=C(),o=l().set(r,t);return i[n](o,e)}function sn(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return an(e,t,n,i);var o,a=[];for(o=0;r>o;o++)a[o]=an(e,o,n,i);return a}function ln(e,t){return sn(e,t,"months",12,"month")}function pn(e,t){return sn(e,t,"monthsShort",12,"month")}function un(e,t){return sn(e,t,"weekdays",7,"day")}function dn(e,t){return sn(e,t,"weekdaysShort",7,"day")}function cn(e,t){return sn(e,t,"weekdaysMin",7,"day")}function fn(){var e=this._data;return this._milliseconds=Yr(this._milliseconds),this._days=Yr(this._days),this._months=Yr(this._months),e.milliseconds=Yr(e.milliseconds),e.seconds=Yr(e.seconds),e.minutes=Yr(e.minutes),e.hours=Yr(e.hours),e.months=Yr(e.months),e.years=Yr(e.years),this}function hn(e,t,n,r){var i=Ke(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function mn(e,t){return hn(this,e,t,1)}function gn(e,t){return hn(this,e,t,-1)}function yn(){var e,t,n,r=this._milliseconds,i=this._days,o=this._months,a=this._data,s=0;return a.milliseconds=r%1e3,e=at(r/1e3),a.seconds=e%60,t=at(e/60),a.minutes=t%60,n=at(t/60),a.hours=n%24,i+=at(n/24),s=at(bn(i)),i-=at(vn(s)),o+=at(i/30),i%=30,s+=at(o/12),o%=12,a.days=i,a.months=o,a.years=s,this}function bn(e){return 400*e/146097}function vn(e){return 146097*e/400}function wn(e){var t,n,r=this._milliseconds;if("month"===(e=S(e))||"year"===e)return t=this._days+r/864e5,n=this._months+12*bn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(vn(this._months/12)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function kn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function Tn(e){return function(){return this.as(e)}}function In(e){return e=S(e),this[e+"s"]()}function Cn(e){return function(){return this._data[e]}}function xn(){return at(this.days()/7)}function Sn(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function jn(e,t,n){var r=Ke(e).abs(),i=oi(r.as("s")),o=oi(r.as("m")),a=oi(r.as("h")),s=oi(r.as("d")),l=oi(r.as("M")),p=oi(r.as("y")),u=i<ai.s&&["s",i]||1===o&&["m"]||o<ai.m&&["mm",o]||1===a&&["h"]||a<ai.h&&["hh",a]||1===s&&["d"]||s<ai.d&&["dd",s]||1===l&&["M"]||l<ai.M&&["MM",l]||1===p&&["y"]||["yy",p];return u[2]=t,u[3]=+e>0,u[4]=n,Sn.apply(null,u)}function On(e,t){return void 0!==ai[e]&&(void 0===t?ai[e]:(ai[e]=t,!0))}function Pn(e){var t=this.localeData(),n=jn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function _n(){var e=si(this.years()),t=si(this.months()),n=si(this.days()),r=si(this.hours()),i=si(this.minutes()),o=si(this.seconds()+this.milliseconds()/1e3),a=this.asSeconds();return a?(0>a?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||o?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(o?o+"S":""):"P0D"}var Dn,An,En=e.momentProperties=[],Mn=!1,Ln={},Un={},Fn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Nn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rn={},$n={},Bn=/\d/,Hn=/\d\d/,Yn=/\d{3}/,Wn=/\d{4}/,qn=/[+-]?\d{6}/,zn=/\d\d?/,Vn=/\d{1,3}/,Kn=/\d{1,4}/,Gn=/[+-]?\d{1,6}/,Jn=/\d+/,Qn=/[+-]?\d+/,Zn=/Z|[+-]\d\d:?\d\d/gi,Xn=/[+-]?\d+(\.\d{1,3})?/,er=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,tr={},nr={},rr=0,ir=1,or=2,ar=3,sr=4,lr=5,pr=6;E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),E("MMMM",0,0,function(e){return this.localeData().months(this,e)}),x("month","M"),N("M",zn),N("MM",zn,Hn),N("MMM",er),N("MMMM",er),B(["M","MM"],function(e,t){t[ir]=g(e)-1}),B(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ir]=i:u(n).invalidMonth=e});var ur="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),dr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),cr={};e.suppressDeprecationWarnings=!1;var fr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],mr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],gr=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=X("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),x("year","y"),N("Y",Qn),N("YY",zn,Hn),N("YYYY",Kn,Wn),N("YYYYY",Gn,qn),N("YYYYYY",Gn,qn),B(["YYYY","YYYYY","YYYYYY"],rr),B("YY",function(t,n){n[rr]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var yr=O("FullYear",!1);E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),N("w",zn),N("ww",zn,Hn),N("W",zn),N("WW",zn,Hn),H(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=g(e)});var br={dow:0,doy:6};E("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),N("DDD",Vn),N("DDDD",Yn),B(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),e.ISO_8601=function(){};var vr=X("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=je.apply(null,arguments);return this>e?this:e}),wr=X("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=je.apply(null,arguments);return e>this?this:e});Ee("Z",":"),Ee("ZZ",""),N("Z",Zn),N("ZZ",Zn),B(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Me(e)});var kr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Tr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ir=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ke.fn=De.prototype;var Cr=Ze(1,"add"),xr=Ze(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Sr=X("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100}),jt("gggg","weekYear"),jt("ggggg","weekYear"),jt("GGGG","isoWeekYear"),jt("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),N("G",Qn),N("g",Qn),N("GG",zn,Hn),N("gg",zn,Hn),N("GGGG",Kn,Wn),N("gggg",Kn,Wn),N("GGGGG",Gn,qn),N("ggggg",Gn,qn),H(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=g(e)}),H(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),E("Q",0,0,"quarter"),x("quarter","Q"),N("Q",Bn),B("Q",function(e,t){t[ir]=3*(g(e)-1)}),E("D",["DD",2],"Do","date"),x("date","D"),N("D",zn),N("DD",zn,Hn),N("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),B(["D","DD"],or),B("Do",function(e,t){t[or]=g(e.match(zn)[0],10)});var jr=O("Date",!0);E("d",0,"do","day"),E("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),E("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),E("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),N("d",zn),N("e",zn),N("E",zn),N("dd",er),N("ddd",er),N("dddd",er),H(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:u(n).invalidWeekday=e}),H(["d","e","E"],function(e,t,n,r){t[r]=g(e)});var Or="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_r="Su_Mo_Tu_We_Th_Fr_Sa".split("_");E("H",["HH",2],0,"hour"),E("h",["hh",2],0,function(){return this.hours()%12||12}),Ht("a",!0),Ht("A",!1),x("hour","h"),N("a",Yt),N("A",Yt),N("H",zn),N("h",zn),N("HH",zn,Hn),N("hh",zn,Hn),B(["H","HH"],ar),B(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),B(["h","hh"],function(e,t,n){t[ar]=g(e),u(n).bigHour=!0});var Dr=/[ap]\.?m?\.?/i,Ar=O("Hours",!0);E("m",["mm",2],0,"minute"),x("minute","m"),N("m",zn),N("mm",zn,Hn),B(["m","mm"],sr);var Er=O("Minutes",!1);E("s",["ss",2],0,"second"),x("second","s"),N("s",zn),N("ss",zn,Hn),B(["s","ss"],lr);var Mr=O("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),zt("SSS"),zt("SSSS"),x("millisecond","ms"),N("S",Vn,Bn),N("SS",Vn,Hn),N("SSS",Vn,Yn),N("SSSS",Jn),B(["S","SS","SSS","SSSS"],function(e,t){t[pr]=g(1e3*("0."+e))});var Lr=O("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var Ur=h.prototype;Ur.add=Cr,Ur.calendar=et,Ur.clone=tt,Ur.diff=st,Ur.endOf=vt,Ur.format=dt,Ur.from=ct,Ur.fromNow=ft,Ur.to=ht,Ur.toNow=mt,Ur.get=D,Ur.invalidAt=St,Ur.isAfter=nt,Ur.isBefore=rt,Ur.isBetween=it,Ur.isSame=ot,Ur.isValid=Ct,Ur.lang=Sr,Ur.locale=gt,Ur.localeData=yt,Ur.max=wr,Ur.min=vr,Ur.parsingFlags=xt,Ur.set=D,Ur.startOf=bt,Ur.subtract=xr,Ur.toArray=It,Ur.toDate=Tt,Ur.toISOString=ut,Ur.toJSON=ut,Ur.toString=pt,Ur.unix=kt,Ur.valueOf=wt,Ur.year=yr,Ur.isLeapYear=se,Ur.weekYear=Pt,Ur.isoWeekYear=_t,Ur.quarter=Ur.quarters=Et,Ur.month=G,Ur.daysInMonth=J,Ur.week=Ur.weeks=ce,Ur.isoWeek=Ur.isoWeeks=fe,Ur.weeksInYear=At,Ur.isoWeeksInYear=Dt,Ur.date=jr,Ur.day=Ur.days=Rt,Ur.weekday=$t,Ur.isoWeekday=Bt,Ur.dayOfYear=me,Ur.hour=Ur.hours=Ar,Ur.minute=Ur.minutes=Er,Ur.second=Ur.seconds=Mr,Ur.millisecond=Ur.milliseconds=Lr,Ur.utcOffset=Fe,Ur.utc=Re,Ur.local=$e,Ur.parseZone=Be,Ur.hasAlignedHourOffset=He,Ur.isDST=Ye,Ur.isDSTShifted=We,Ur.isLocal=qe,Ur.isUtcOffset=ze,Ur.isUtc=Ve,Ur.isUTC=Ve,Ur.zoneAbbr=Vt,Ur.zoneName=Kt,Ur.dates=X("dates accessor is deprecated. Use date instead.",jr),Ur.months=X("months accessor is deprecated. Use month instead",G),Ur.years=X("years accessor is deprecated. Use year instead",yr),Ur.zone=X("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ne);var Fr=Ur,Nr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Rr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},$r=/\d{1,2}/,Br={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Hr=b.prototype;Hr._calendar=Nr,Hr.calendar=Qt,Hr._longDateFormat=Rr,Hr.longDateFormat=Zt,Hr._invalidDate="Invalid date",Hr.invalidDate=Xt,Hr._ordinal="%d",Hr.ordinal=en,Hr._ordinalParse=$r,Hr.preparse=tn,Hr.postformat=tn,Hr._relativeTime=Br,Hr.relativeTime=nn,Hr.pastFuture=rn,Hr.set=on,Hr.months=q,Hr._months=ur,Hr.monthsShort=z,Hr._monthsShort=dr,Hr.monthsParse=V,Hr.week=pe,Hr._week=br,Hr.firstDayOfYear=de,Hr.firstDayOfWeek=ue,Hr.weekdays=Lt,Hr._weekdays=Or,Hr.weekdaysMin=Ft,Hr._weekdaysMin=_r,Hr.weekdaysShort=Ut,Hr._weekdaysShort=Pr,Hr.weekdaysParse=Nt,Hr.isPM=Wt,Hr._meridiemParse=Dr,Hr.meridiem=qt,T("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=X("moment.lang is deprecated. Use moment.locale instead.",T),e.langData=X("moment.langData is deprecated. Use moment.localeData instead.",C);var Yr=Math.abs,Wr=Tn("ms"),qr=Tn("s"),zr=Tn("m"),Vr=Tn("h"),Kr=Tn("d"),Gr=Tn("w"),Jr=Tn("M"),Qr=Tn("y"),Zr=Cn("milliseconds"),Xr=Cn("seconds"),ei=Cn("minutes"),ti=Cn("hours"),ni=Cn("days"),ri=Cn("months"),ii=Cn("years"),oi=Math.round,ai={s:45,m:45,h:22,d:26,M:11},si=Math.abs,li=De.prototype;return li.abs=fn,li.add=mn,li.subtract=gn,li.as=wn,li.asMilliseconds=Wr,li.asSeconds=qr,li.asMinutes=zr,li.asHours=Vr,li.asDays=Kr,li.asWeeks=Gr,li.asMonths=Jr,li.asYears=Qr,li.valueOf=kn,li._bubble=yn,li.get=In,li.milliseconds=Zr,li.seconds=Xr,li.minutes=ei,li.hours=ti,li.days=ni,li.weeks=xn,li.months=ri,li.years=ii,li.humanize=Pn,li.toISOString=_n,li.toString=_n,li.toJSON=_n,li.locale=gt,li.localeData=yt,li.toIsoString=X("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_n),li.lang=Sr,E("X",0,0,"unix"),E("x",0,0,"valueOf"),N("x",Qn),N("X",Xn),B("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),B("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.10.3",function(e){Dn=e}(je),e.fn=Fr,e.min=Pe,e.max=_e,e.utc=l,e.unix=Gt,e.months=ln,e.isDate=i,e.locale=T,e.invalid=c,e.duration=Ke,e.isMoment=m,e.weekdays=un,e.parseZone=Jt,e.localeData=C,e.isDuration=Ae,e.monthsShort=pn,e.weekdaysMin=cn,e.defineLocale=I,e.weekdaysShort=dn,e.normalizeUnits=S,e.relativeTimeThreshold=On,e})},{}],21:[function(e,t,n){"use strict";function r(e,t){var n=p[e.id];return n&&n[t.id]}function i(e,t){var n=p[e.id];n||(n=p[e.id]={});var r=a(t);n[t.id]=r,e.on("data",r),e.on("destroyed",o.bind(null,e,t))}function o(e,t){var n=p[e.id];if(n){var r=n[t.id];e.off("data",r),delete n[t.id]}}function a(e){return function(){e.refresh()}}function s(e,t){l(t.associated)||r(e,t)||i(e,t)}var l=e("./isInput"),p={};t.exports={add:s,remove:o}},{"./isInput":31}],22:[function(e,t,n){"use strict";function r(e){function t(){return Ae}function n(n){return de=d(n||e,Ae),he||(he=s({className:de.styles.container})),me=de.weekdayFormat,ge=me.length,be=i,ye=i,ve=i,we=i,ke=c.moment(),de.appendTo.appendChild(he),V(he),je=!1,ce=de.initialValue?de.initialValue:c.moment(),fe=ce.clone(),Ae.back=L,Ae.container=he,Ae.destroyed=!1,Ae.destroy=m.bind(Ae,!1),Ae.emitValues=W,Ae.getDate=le,Ae.getDateString=pe,Ae.getMoment=ue,Ae.hide=_,Ae.next=U,Ae.options=y,Ae.options.reset=b,Ae.refresh=q,Ae.restore=t,Ae.setValue=z,Ae.show=P,g(),r(),Ae}function r(){Ae.emit("ready",u(de))}function m(e){he&&he.parentNode&&he.parentNode.removeChild(he),de&&g(!0);var r=Ae.emitterSnapshot("destroyed");return Ae.back=h,Ae.destroyed=!0,Ae.destroy=t,Ae.emitValues=t,Ae.getDate=h,Ae.getDateString=h,Ae.getMoment=h,Ae.hide=t,Ae.next=h,Ae.options=t,Ae.options.reset=t,Ae.refresh=t,Ae.restore=n,Ae.setValue=t,Ae.show=t,Ae.off(),!0!==e&&r(),Ae}function g(e){var t=e?"remove":"add";de.autoHideOnBlur&&o[t](document.documentElement,"focus",E,!0),de.autoHideOnClick&&o[t](document,"click",M)}function y(e){return 0===arguments.length?u(de):(m(),n(e),Ae)}function b(){return y({appendTo:de.appendTo})}function v(){je||(je=!0,w(),k(),Ae.emit("render"))}function w(){if(de.date){var e;for(Pe=[],Te=s({className:de.styles.date,parent:he}),e=0;e<de.monthsInCalendar;e++)!function(e){var t=s({className:de.styles.month,parent:Te});0===e&&(Ie=s({type:"button",className:de.styles.back,attributes:{type:"button"},parent:t})),e===de.monthsInCalendar-1&&(Ce=s({type:"button",className:de.styles.next,attributes:{type:"button"},parent:t}));var n,r=s({className:de.styles.monthLabel,parent:t}),i=s({type:"table",className:de.styles.dayTable,parent:t}),o=s({type:"thead",className:de.styles.dayHead,parent:i}),a=s({type:"tr",className:de.styles.dayRow,parent:o}),l=s({type:"tbody",className:de.styles.dayBody,parent:i});for(n=0;ge>n;n++)s({type:"th",className:de.styles.dayHeadElem,parent:a,text:me[T(n)]});l.setAttribute(Oe,e),Pe.push({label:r,body:l})}(e);o.add(Ie,"click",L),o.add(Ce,"click",U),o.add(Te,"click",ne)}}function k(){if(de.time&&de.timeInterval){var e=s({className:de.styles.time,parent:he});xe=s({className:de.styles.selectedTime,parent:e,text:ce.format(de.timeFormat)}),o.add(xe,"click",C),Se=s({className:de.styles.timeList,parent:e}),o.add(Se,"click",se);for(var t=c.moment("00:00:00","HH:mm:ss"),n=t.clone().add(1,"days");t.isBefore(n);)s({className:de.styles.timeOption,parent:Se,text:t.format(de.timeFormat)}),t.add(de.timeInterval,"seconds")}}function T(e,t){var n=t?-1:1,r=e+de.weekStart*n;return(r>=ge||0>r)&&(r+=ge*-n),r}function I(){if(de.time&&je){var e,t,n,r,i=Se.children,o=i.length;for(r=0;o>r;r++)n=i[r],t=c.moment(l(n),de.timeFormat),e=ae(ce.clone(),t),n.style.display=J(e,!1,de.timeValidator)?"block":"none"}}function C(e){("boolean"==typeof e?e:"none"===Se.style.display)?x():S()}function x(){Se&&(Se.style.display="block")}function S(){Se&&(Se.style.display="none")}function j(){he.style.display="inline-block",Ae.emit("show")}function O(){"none"!==he.style.display&&(he.style.display="none",Ae.emit("hide"))}function P(){return v(),q(),C(!de.date),j(),Ae}function _(){return S(),setTimeout(O,0),Ae}function D(){return S(),f.contains(he,de.styles.positioned)&&setTimeout(O,0),Ae}function A(e){var t=e.target;if(t===Ae.associated)return!0;for(;t;){if(t===he)return!0;t=t.parentNode}}function E(e){A(e)||D()}function M(e){A(e)||D()}function L(){F("subtract")}function U(){F("add")}function F(e){var t,n="add"===e?-1:1,r=de.monthsInCalendar+n*oe(we);fe[e](r,"months"),t=X(fe.clone()),ce=t||ce,t&&(fe=t.clone()),N(),Ae.emit("add"===e?"next":"back",ce.month())}function N(e){R(),Y(),!0!==e&&W(),I()}function R(){function e(e,t){var n=fe.clone().add(t,"months");l(e.label,n.format(de.monthFormat)),V(e.body)}if(de.date&&je){var t=fe.year(),n=fe.month(),r=fe.date();if(_e||r!==ve||n!==be||t!==ye){var i=B();if(ve=fe.date(),be=fe.month(),ye=fe.year(),i)return void $();Pe.forEach(e),K()}}}function $(){function e(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e[t]);return n}function t(t){return e(t.children)}function n(e){return!f.contains(e,de.styles.dayPrevMonth)&&!f.contains(e,de.styles.dayNextMonth)}var r=fe.date()-1;re(!1),Pe.forEach(function(i){var o;H(i.date,fe)&&(o=e(i.body.children).map(t),o=Array.prototype.concat.apply([],o).filter(n),re(o[r]))})}function B(){function e(e){return!!ye&&H(e.date,fe)}return Pe.some(e)}function H(e,t){return e&&t&&e.year()===t.year()&&e.month()===t.month()}function Y(){de.time&&je&&l(xe,ce.format(de.timeFormat))}function W(){return Ae.emit("data",pe()),Ae.emit("year",ce.year()),Ae.emit("month",ce.month()),Ae.emit("day",ce.day()),Ae.emit("time",ce.format(de.timeFormat)),Ae}function q(){return ye=!1,be=!1,ve=!1,N(!0),Ae}function z(e){var t=p(e,de.inputFormat);return null===t?(_e=!0,void re(null)):(_e=!1,ce=X(t)||ce,fe=ce.clone(),N(!0),Ae)}function V(e,t){for(;e&&e.firstChild;)e.removeChild(e.firstChild);!0===t&&e.parentNode.removeChild(e)}function K(){var e;for(e=0;e<de.monthsInCalendar;e++)G(e)}function G(e){function t(e){var t,r,i;for(t=0;t<e.length;t++)c.children.length===ge&&(c=s({type:"tr",className:de.styles.dayRow,parent:o.body})),r=e.base.clone().add(t,"days"),i=s({type:"td",parent:c,text:r.format(de.dayFormat),className:n(r,e.cell.join(" ").split(" ")).join(" ")}),e.selectable&&r.date()===p&&re(i),r.isSame(ke,"d")&&ie(i)}function n(e,t){return J(e,!0,de.dateValidator)||t.push(m),t}function r(e,t){return e&&t.push(de.styles.dayConcealed),t}var i,o=Pe[e],a=fe.clone().add(e,"months"),l=a.daysInMonth(),p=a.month()!==ce.month()?-1:ce.date(),u=a.clone().date(1),d=T(u.day(),!0),c=s({type:"tr",className:de.styles.dayRow,parent:o.body}),f=r(0!==e,[de.styles.dayBodyElem,de.styles.dayPrevMonth]),h=r(e!==de.monthsInCalendar-1,[de.styles.dayBodyElem,de.styles.dayNextMonth]),m=de.styles.dayDisabled;t({base:u.clone().subtract(d,"days"),length:d,cell:f}),t({base:u.clone(),length:l,cell:[de.styles.dayBodyElem],selectable:!0}),i=u.clone().add(l,"days"),t({base:i,length:ge-c.children.length,cell:h}),Ie.disabled=!Q(u,!0),Ce.disabled=!Z(i,!0),o.date=a.clone()}function J(e,t,n){return!!Q(e,t)&&(!!Z(e,t)&&!1!==(n||Function.prototype).call(Ae,e.toDate()))}function Q(e,t){var n=!!de.min&&(t?de.min.clone().startOf("day"):de.min);return!n||!e.isBefore(n)}function Z(e,t){var n=!!de.max&&(t?de.max.clone().endOf("day"):de.max);return!n||!e.isAfter(n)}function X(e){if(de.min&&e.isBefore(de.min))return X(de.min.clone());if(de.max&&e.isAfter(de.max))return X(de.max.clone());var t=e.clone().subtract(1,"days");return te(t,e,"add")?ee(t):(t=e.clone(),te(t,e,"subtract")?ee(t):void 0)}function ee(e){var t,n=e.clone().subtract(de.timeInterval,"seconds"),r=Math.ceil(De/de.timeInterval);for(t=0;r>t;t++)if(n.add(de.timeInterval,"seconds"),n.date()>e.date()&&n.subtract(1,"days"),!1!==de.timeValidator.call(Ae,n.toDate()))return n}function te(e,t,n){for(var r=!1;!1===r&&(e[n](1,"days"),e.month()===t.month());)r=de.dateValidator.call(Ae,e.toDate());return!1!==r}function ne(e){var t=e.target;if(!f.contains(t,de.styles.dayDisabled)&&f.contains(t,de.styles.dayBodyElem)){var n=parseInt(l(t),10),r=f.contains(t,de.styles.dayPrevMonth),i=f.contains(t,de.styles.dayNextMonth),o=oe(t)-oe(we);ce.add(o,"months"),(r||i)&&ce.add(r?-1:1,"months"),re(t),ce.date(n),ae(ce,X(ce)||ce),fe=ce.clone(),!0===de.autoClose&&D(),N()}}function re(e){we&&f.remove(we,de.styles.selectedDay),null!=e&&(e&&f.add(e,de.styles.selectedDay),we=e)}function ie(e){e&&f.add(e,de.styles.today)}function oe(e){for(var t;e&&e.getAttribute;){if("string"==typeof(t=e.getAttribute(Oe)))return parseInt(t,10);e=e.parentNode}return 0}function ae(e,t){return e.hour(t.hour()).minute(t.minute()).second(t.second()),e}function se(e){var t=e.target;if(f.contains(t,de.styles.timeOption)){var n=c.moment(l(t),de.timeFormat);ae(ce,n),fe=ce.clone(),W(),Y(),!de.date&&!0===de.autoClose||"time"===de.autoClose?D():S()}}function le(){return ce.toDate()}function pe(e){return ce.format(e||de.inputFormat)}function ue(){return ce.clone()}var de,ce,fe,he,me,ge,ye,be,ve,we,ke,Te,Ie,Ce,xe,Se,je=!1,Oe="data-rome-offset",Pe=[],_e=!1,De=86400,Ae=a({associated:e.associated});return n(),setTimeout(r,0),Ae}var i,o=e("crossvent"),a=e("contra/emitter"),s=e("./dom"),l=e("./text"),p=e("./parse"),u=e("./clone"),d=e("./defaults"),c=e("./momentum"),f=e("./classes"),h=e("./noop");t.exports=r},{"./classes":23,"./clone":24,"./defaults":26,"./dom":27,"./momentum":32,"./noop":33,"./parse":34,"./text":46,"contra/emitter":14,crossvent:18}],23:[function(e,t,n){"use strict";function r(e){return e.className.replace(l,"").split(p)}function i(e,t){e.className=t.join(" ")}function o(e,t){var n=a(e,t);n.push(t),i(e,n)}function a(e,t){var n=r(e),o=n.indexOf(t);return-1!==o&&(n.splice(o,1),i(e,n)),n}function s(e,t){return-1!==r(e).indexOf(t)}var l=/^\s+|\s+$/g,p=/\s+/;t.exports={add:o,remove:a,contains:s}},{}],24:[function(e,t,n){"use strict";function r(e){var t,n={};for(var o in e)t=e[o],t?i.isMoment(t)?n[o]=t.clone():t._isStylesConfiguration?n[o]=r(t):n[o]=t:n[o]=t;return n}var i=e("./momentum");t.exports=r},{"./momentum":32}],25:[function(e,t,n){"use strict";function r(e,t){var n,r=i.find(e);return r||(n=s(e)?o(e,t):a(e,t),i.assign(e,n),n)}var i=e("./index"),o=e("./input"),a=e("./inline"),s=e("./isInput");t.exports=r},{"./index":28,"./inline":29,"./input":30,"./isInput":31}],26:[function(e,t,n){"use strict";function r(e,t){var n,r,s=e||{};if(s.autoHideOnClick===r&&(s.autoHideOnClick=!0),s.autoHideOnBlur===r&&(s.autoHideOnBlur=!0),s.autoClose===r&&(s.autoClose=!0),s.appendTo===r&&(s.appendTo=document.body),"parent"===s.appendTo){if(!o(t.associated))throw new Error("Inline calendars must be appended to a parent node explicitly.");s.appendTo=t.associated.parentNode}if(s.invalidate===r&&(s.invalidate=!0),s.required===r&&(s.required=!1),s.date===r&&(s.date=!0),s.time===r&&(s.time=!0),!1===s.date&&!1===s.time)throw new Error("At least one of `date` or `time` must be `true`.");if(s.inputFormat===r&&(s.date&&s.time?s.inputFormat="YYYY-MM-DD HH:mm":s.date?s.inputFormat="YYYY-MM-DD":s.inputFormat="HH:mm"),s.initialValue===r?s.initialValue=null:s.initialValue=i(s.initialValue,s.inputFormat),s.min===r?s.min=null:s.min=i(s.min,s.inputFormat),s.max===r?s.max=null:s.max=i(s.max,s.inputFormat),s.timeInterval===r&&(s.timeInterval=1800),s.min&&s.max)if(s.max.isBefore(s.min)&&(n=s.max,s.max=s.min,s.min=n),!0===s.date){if(s.max.clone().subtract(1,"days").isBefore(s.min))throw new Error("`max` must be at least one day after `min`")}else if(1e3*s.timeInterval-s.min%(1e3*s.timeInterval)>s.max-s.min)throw new Error("`min` to `max` range must allow for at least one time option that matches `timeInterval`");if(s.dateValidator===r&&(s.dateValidator=Function.prototype),s.timeValidator===r&&(s.timeValidator=Function.prototype),s.timeFormat===r&&(s.timeFormat="HH:mm"),s.weekStart===r&&(s.weekStart=a.moment().weekday(0).day()),s.weekdayFormat===r&&(s.weekdayFormat="min"),"long"===s.weekdayFormat)s.weekdayFormat=a.moment.weekdays();else if("short"===s.weekdayFormat)s.weekdayFormat=a.moment.weekdaysShort();else if("min"===s.weekdayFormat)s.weekdayFormat=a.moment.weekdaysMin();else if(!Array.isArray(s.weekdayFormat)||s.weekdayFormat.length<7)throw new Error("`weekdays` must be `min`, `short`, or `long`");s.monthsInCalendar===r&&(s.monthsInCalendar=1),s.monthFormat===r&&(s.monthFormat="MMMM YYYY"),s.dayFormat===r&&(s.dayFormat="DD"),s.styles===r&&(s.styles={}),s.styles._isStylesConfiguration=!0;var l=s.styles;return l.back===r&&(l.back="rd-back"),l.container===r&&(l.container="rd-container"),l.positioned===r&&(l.positioned="rd-container-attachment"),l.date===r&&(l.date="rd-date"),l.dayBody===r&&(l.dayBody="rd-days-body"),l.dayBodyElem===r&&(l.dayBodyElem="rd-day-body"),l.dayPrevMonth===r&&(l.dayPrevMonth="rd-day-prev-month"),l.dayNextMonth===r&&(l.dayNextMonth="rd-day-next-month"),l.dayDisabled===r&&(l.dayDisabled="rd-day-disabled"),l.dayConcealed===r&&(l.dayConcealed="rd-day-concealed"),l.dayHead===r&&(l.dayHead="rd-days-head"),l.dayHeadElem===r&&(l.dayHeadElem="rd-day-head"),l.dayRow===r&&(l.dayRow="rd-days-row"),l.dayTable===r&&(l.dayTable="rd-days"),l.month===r&&(l.month="rd-month"),l.monthLabel===r&&(l.monthLabel="rd-month-label"),l.next===r&&(l.next="rd-next"),l.selectedDay===r&&(l.selectedDay="rd-day-selected"),l.selectedTime===r&&(l.selectedTime="rd-time-selected"),l.time===r&&(l.time="rd-time"),l.timeList===r&&(l.timeList="rd-time-list"),l.timeOption===r&&(l.timeOption="rd-time-option"),l.today===r&&(l.today="rd-day-today"),s}var i=e("./parse"),o=e("./isInput"),a=e("./momentum");t.exports=r},{"./isInput":31,"./momentum":32,"./parse":34}],27:[function(e,t,n){"use strict";function r(e){var t=e||{};t.type||(t.type="div");var n=document.createElement(t.type);return t.className&&(n.className=t.className),t.text&&(n.innerText=n.textContent=t.text),t.attributes&&Object.keys(t.attributes).forEach(function(e){n.setAttribute(e,t.attributes[e])}),t.parent&&t.parent.appendChild(n),n}t.exports=r},{}],28:[function(e,t,n){"use strict";function r(e){if("number"!=typeof e&&e&&e.getAttribute)return r(e.getAttribute(a));var t=s[e];return t!==o?t:null}function i(e,t){e.setAttribute(a,t.id=s.push(t)-1)}var o,a="data-rome-id",s=[];t.exports={find:r,assign:i}},{}],29:[function(e,t,n){"use strict";function r(e,t){var n=t||{};n.appendTo=e,n.associated=e;var r=i(n);return r.show(),r}var i=e("./calendar");t.exports=r},{"./calendar":22}],30:[function(e,t,n){"use strict";function r(e,t){function n(t){w=s(t||w,C),u.add(C.container,w.styles.positioned),i.add(C.container,"mousedown",f),i.add(C.container,"click",c),C.getDate=v(C.getDate),C.getDateString=v(C.getDateString),C.getMoment=v(C.getMoment),w.initialValue&&(e.value=w.initialValue.format(w.inputFormat)),I=o(C.container,e),C.on("data",y),C.on("show",I.refresh),d(),x()}function r(){d(!0),I.destroy(),I=null}function d(t){var o=t?"remove":"add";i[o](e,"click",m),i[o](e,"touchend",m),i[o](e,"focusin",m),i[o](e,"change",x),i[o](e,"keypress",x),i[o](e,"keydown",x),i[o](e,"input",x),w.invalidate&&i[o](e,"blur",h),t?(C.once("ready",n),C.off("destroyed",r)):(C.off("ready",n),C.once("destroyed",r))}function c(){T=!0,e.focus(),T=!1}function f(){function e(){k=!1}k=!0,setTimeout(e,0)}function h(){k||b()||C.emitValues()}function m(){T||C.show()}function g(){var t=e.value.trim();if(!b()){var n=p.moment(t,w.inputFormat,w.strictParse);C.setValue(n)}}function y(t){e.value=t}function b(){return!1===w.required&&""===e.value.trim()}function v(e){return function(){return b()?null:e.apply(this,arguments)}}var w=t||{};w.associated=e;var k,T,I,C=l(w),x=a(g,30);return n(w),C}var i=e("crossvent"),o=e("bullseye"),a=e("./throttle"),s=(e("./clone"),e("./defaults")),l=e("./calendar"),p=e("./momentum"),u=e("./classes");t.exports=r},{"./calendar":22,"./classes":23,"./clone":24,"./defaults":26,"./momentum":32,"./throttle":47,bullseye:1,crossvent:18}],31:[function(e,t,n){"use strict";function r(e){return e&&e.nodeName&&"input"===e.nodeName.toLowerCase()}t.exports=r},{}],32:[function(e,t,n){"use strict";function r(e){return e&&Object.prototype.hasOwnProperty.call(e,"_isAMomentObject")}var i={moment:null,isMoment:r};t.exports=i},{}],33:[function(e,t,n){"use strict";function r(){}t.exports=r},{}],34:[function(e,t,n){"use strict";function r(e,t){return"string"==typeof e?o.moment(e,t):"[object Date]"===Object.prototype.toString.call(e)?o.moment(e):o.isMoment(e)?e.clone():void 0}function i(e,t){var n=r(e,"string"==typeof t?t:null);return n&&n.isValid()?n:null}var o=e("./momentum");t.exports=i},{"./momentum":32}],35:[function(e,t,n){"use strict";Array.prototype.filter||(Array.prototype.filter=function(e,t){var n=[];return this.forEach(function(r,i,o){e.call(t,r,i,o)&&n.push(r)},t),n})},{}],36:[function(e,t,n){"use strict";Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;for(var n=this,r=n.length,i=0;r>i;i++)i in n&&e.call(t,n[i],i,n)})},{}],37:[function(e,t,n){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError;var n=this.length;for(t=+t||0,Math.abs(t)===1/0?t=0:0>t&&0>(t+=n)&&(t=0);n>t;t++)if(this[t]===e)return t;return-1})},{}],38:[function(e,t,n){"use strict";Array.isArray||(Array.isArray=function(e){return""+e!==e&&"[object Array]"===Object.prototype.toString.call(e)})},{}],39:[function(e,t,n){"use strict";Array.prototype.map||(Array.prototype.map=function(e,t){var n,r,i;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=new Array(a),i=0;a>i;)i in o&&(r[i]=e.call(n,o[i],i,o)),i++;return r})},{}],40:[function(e,t,n){"use strict";Array.prototype.some||(Array.prototype.some=function(e,t){var n,r;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=0;o>r;){if(r in i){if(e.call(n,i[r],r,i))return!0}r++}return!1})},{}],41:[function(e,t,n){"use strict";Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){var i=this instanceof r&&e?this:e,o=t.concat(Array.prototype.slice.call(arguments));return n.apply(i,o)};return r.prototype=this.prototype,i.prototype=new r,i})},{}],42:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=o.length;Object.keys||(Object.keys=function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,n,s=[];for(t in e)r.call(e,t)&&s.push(t);if(i)for(n=0;a>n;n++)r.call(e,o[n])&&s.push(o[n]);return s})},{}],43:[function(e,t,n){"use strict";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},{}],44:[function(e,t,n){"use strict";e("./polyfills/function.bind"),e("./polyfills/array.foreach"),e("./polyfills/array.map"),e("./polyfills/array.filter"),e("./polyfills/array.isarray"),e("./polyfills/array.indexof"),e("./polyfills/array.some"),e("./polyfills/string.trim"),e("./polyfills/object.keys");var r=e("./core"),i=e("./index"),o=e("./use");r.use=o.bind(r),r.find=i.find,r.val=e("./validators"),t.exports=r},{"./core":25,"./index":28,"./polyfills/array.filter":35,"./polyfills/array.foreach":36,"./polyfills/array.indexof":37,"./polyfills/array.isarray":38,"./polyfills/array.map":39,"./polyfills/array.some":40,"./polyfills/function.bind":41,"./polyfills/object.keys":42,"./polyfills/string.trim":43,"./use":48,"./validators":49}],45:[function(e,t,n){"use strict";var r=e("moment"),i=e("./rome");i.use(r),t.exports=i},{"./rome":44,moment:20}],46:[function(e,t,n){"use strict";function r(e,t){return 2===arguments.length&&(e.innerText=e.textContent=t),e.innerText||e.textContent}t.exports=r},{}],47:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r=-1/0;return function(){function i(){clearTimeout(n),n=null;var o=r+t,a=+new Date;a>o?(r=a,e.apply(this,arguments)):n=setTimeout(i,o-a)}n||i()}}},{}],48:[function(e,t,n){"use strict";function r(e){this.moment=i.moment=e}var i=e("./momentum");t.exports=r},{"./momentum":32}],49:[function(e,t,n){"use strict";function r(e){return function(t){var n=a(t);return function(r){var i=o.find(t),l=a(r),p=n||i&&i.getMoment();return!p||(i&&s.add(this,i),e(l,p))}}}function i(e,t){return function(n,r){function i(e){var t,n,r=o.find(e);return r?t=n=r.getMoment():Array.isArray(e)?(t=e[0],n=e[1]):t=n=e,r&&s.add(r,this),{start:a(t).startOf("day").toDate(),end:a(n).endOf("day").toDate()}}var l,p=arguments.length;return Array.isArray(n)?l=n:1===p?l=[n]:2===p&&(l=[[n,r]]),function(n){return l.map(i.bind(this))[e](t.bind(this,n))}}}var o=e("./index"),a=e("./parse"),s=e("./association"),l=r(function(e,t){return e>=t}),p=r(function(e,t){return e>t}),u=r(function(e,t){return t>=e}),d=r(function(e,t){return t>e}),c=i("every",function(e,t){return t.start>e||t.end<e}),f=i("some",function(e,t){return t.start<=e&&t.end>=e});t.exports={afterEq:l,after:p,beforeEq:u,before:d,except:c,only:f}},{"./association":21,"./index":28,"./parse":34}]},{},[45])(45)})}).call(t,n(28),n(403).setImmediate)},1711:function(e,t,n){var r,i,o=function(e,t){return function(){return e.apply(t,arguments)}};r=[n(164),n(1117)],void 0!==(i=function(e,t){return function(){function n(){this.CheckLastSessionStatus=o(this.CheckLastSessionStatus,this),this.ExpireSession=o(this.ExpireSession,this),this.ShowWarning=o(this.ShowWarning,this),this.ResetTimer=o(this.ResetTimer,this),this.SetupEventListeners=o(this.SetupEventListeners,this),this.OnStorageEvent=o(this.OnStorageEvent,this),this.OnBlur=o(this.OnBlur,this),this.OnFocus=o(this.OnFocus,this),null!=app.loggedInUser&&app.account.sessionTimeoutMinutes()>0&&(document.referrer.includes("login")&&app.cache.set("sessionTimeout","blurred-"+(new Date).getTime()),this.warningDuration=3e4,this.subscriptions=[],this.subscriptions.push(this.sessionTimeout=e.pureComputed(function(e){return function(){return window.clearTimeout(app.inactivityTimer),6e4*app.account.sessionTimeoutMinutes()}}())),this.subscriptions.push(this.warningTimeout=e.pureComputed(function(e){return function(){return window.clearTimeout(app.warningTimer),e.sessionTimeout()-e.warningDuration}}(this))),this.SetupEventListeners(),this.alertVisible=!1,this.notifyVisible=!1,this.prevCachedStatus=void 0,app.isCurrentTab=!1,this.sessionValid=this.CheckLastSessionStatus(),this.sessionValid&&(app.cache.set("sessionTimeout","blurred-"+(new Date).getTime()),this.ResetTimer()))}return n.prototype.OnFocus=function(){return this.CheckLastSessionStatus(),app.isCurrentTab=!0,t.resolve(this.sessionValid).then(function(e){return function(){app.cache.set("sessionTimeout","blurred-"+(new Date).getTime()),e.ResetTimer()}}(this))},n.prototype.OnBlur=function(){app.isCurrentTab=!1,this.isLastActiveTab=!0,this.ResetTimer()},n.prototype.OnStorageEvent=function(e){var n,r,i;if(n=app.cache.get("sessionTimeout"),null!=e.newValue&&null!=n&&(r=!document.hidden||null==document.hidden&&app.isCurrentTab,e.newValue===n)){if(e.newValue===this.prevCachedStatus)return;if(this.prevCachedStatus=n,n.includes("expired")){if(null==app.loggedInUser||!app.isLoggedIn()||r)return;return void(null!=app.loggedInUser.impersonating?app.Logout({showInactivityModal:!1,notifySessionExpired:!0}):app.Logout({showInactivityModal:!0}))}if(n.includes("refresh")){if(r)return;i=app.isLoggedIn(),t.resolve(i).then(function(){window.location.reload()})}if(n.includes("edited"))return void app.UpdateAccountInfo();if(n.includes("blurred"))return this.isLastActiveTab=!1,void this.ResetTimer()}},n.prototype.SetupEventListeners=function(){return window.addEventListener("blur",this.OnBlur),window.addEventListener("focus",this.OnFocus),window.addEventListener("storage",this.OnStorageEvent),window.addEventListener("beforeunload",function(e){return function(){return app.cache.set("sessionTimeout",(new Date).getTime())}}()),["mousemove","click","keypress"].forEach(function(e){return function(t){window.addEventListener(t,e.ResetTimer)}}(this))},n.prototype.ResetTimer=function(){var e;if(window.clearTimeout(app.inactivityTimer),window.clearTimeout(app.warningTimer),e=!document.hidden||null==document.hidden&&app.isCurrentTab,null!=app.loggedInUser&&app.isLoggedIn()&&(e||this.isLastActiveTab)){if(this.alertVisible){if(this.warningAlert.Remove(),this.notifyVisible)try{this.sessionTimeoutNotification.close(),app.notifications.visibleNotifications.remove(this.sessionTimeoutNotification)}catch(e){return!0}this.alertVisible=!1,this.notifyVisible=!1}app.account.sessionTimeoutMinutes()>0&&(app.inactivityTimer=window.setTimeout(this.ExpireSession,this.sessionTimeout()),app.warningTimer=window.setTimeout(this.ShowWarning,this.warningTimeout()))}},n.prototype.ShowWarning=function(){var e,t,n;if(this.alertVisible=!0,n=app.tl("You're about to be logged out due to inactivity \u2014 to stay logged in, perform any action within [_s] seconds.",this.warningDuration/1e3),this.warningAlert=app.flash.Info(n,{timer:this.warningDuration}),!app.isCurrentTab||app.utility.IsFirefox())return"Notification"in window&&"granted"===Notification.permission?(this.notifyVisible=!0,t=app.tl("Session Expiration"),e=app.account.logo(),""===e&&(e="//cdn-pjs.teamwork.com/tko/public/assets/brand/favicons/ms-icon-144x144.png"),this.sessionTimeoutNotification=new Notification(t,{icon:e,tag:"tw-"+app.account.id()+"-"+app.loggedInUser.id()+"-sessionTimeout",body:n}),this.sessionTimeoutNotification.onclick=function(e){return function(t){return window.focus(),e.ResetTimer(),setTimeout(function(){return t.target.close(),app.notifications.visibleNotifications.remove(e.sessionTimeoutNotification)},250)}}(this),app.notifications.visibleNotifications.push(this.sessionTimeoutNotification),void setTimeout(function(e){return function(){try{return e.sessionTimeoutNotification.close(),app.notifications.visibleNotifications.remove(e.sessionTimeoutNotification)}catch(e){return!0}}}(this),this.warningDuration)):void 0},n.prototype.ExpireSession=function(e){var t;null==e&&(e=!0),null!=app.loggedInUser.impersonating&&(e=!1,app.api.put("people/impersonate/revert.json")),t=!e,app.cache.set("sessionTimeout","expired-"+(new Date).getTime()),app.Logout({showInactivityModal:e,notifySessionExpired:t})},n.prototype.CheckLastSessionStatus=function(){var e,t,n;if(null!=app.loggedInUser&&app.isLoggedIn()){if(n=!0,app.account.sessionTimeoutEnabled()&&null!=app.cache.get("sessionTimeout"))if("number"==typeof(e=app.cache.get("sessionTimeout"))){if(t=(new Date).getTime(),t-e>this.sessionTimeout())return n=!1,this.ExpireSession(n),n}else app.cache.set("sessionTimeout","blurred-"+(new Date).getTime());return n}},n.prototype.dispose=function(){null!=this.subscriptions&&this.subscriptions.forEach(function(e){return e.dispose()})},n}()}.apply(t,r))&&(e.exports=i)},1713:function(e,t,n){(function(r,i){var o,a,s=function(e,t){return function(){return e.apply(t,arguments)}},l=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};o=[n(1118),n(1225)],void 0!==(a=function(e,t){return function(){function n(e){null==e&&(e={}),this.getGlobal=s(this.getGlobal,this),this.get=s(this.get,this),this.copyElements=s(this.copyElements,this),this.updateTaskUser=s(this.updateTaskUser,this),this.clickHiddenSpanIfAvailable=s(this.clickHiddenSpanIfAvailable,this),this.getKoObjectTasksAsPlainText=s(this.getKoObjectTasksAsPlainText,this),this.getKoTasklistAsPlainText=s(this.getKoTasklistAsPlainText,this),this.getKoObjectUnderCursor=s(this.getKoObjectUnderCursor,this),this.goToProjectTab=s(this.goToProjectTab,this)}return n.prototype.goToProjectTab=function(e){var t,n,i;if(!app.modals().length&&null!=app.currentRoute().projectId&&(i=e-1,n=null!=(t=r(".w-page-tabs__list li").eq(i).find("a").attr("href"))?t.replace("/#/",""):void 0))return app.GoTo(n)},n.prototype.getKoObjectUnderCursor=function(e){var t,n,i,o,a,s,l,p,u,d,c,f,h,m,g,y,b,v,w,k;if(i=app.elemUnderMouse,p=null,null==i)return null;switch(e){case"task":t=r(i).closest(".task-row"),t.length&&(w=ko.contextFor(t[0]),"Task"===(null!=w&&null!=(d=w.$data)?d.componentName:void 0)?p=w.$data:"Task"===(null!=w&&null!=(c=w.$parent)?c.componentName:void 0)?p=w.$parent:"SectionProjectTask"===(null!=w&&null!=(f=w.$parent)?f.componentName:void 0)&&(p=null!=w?w.$parent.task:void 0));break;case"taskCard":t=r(i).closest(".task-card"),t.length&&(w=ko.contextFor(t[0]),"TaskCard"!==(null!=w&&null!=(h=w.$data)?h.componentName:void 0)||null==w.$data.taskId||isNaN(parseInt(w.$data.taskId,10))?"WidgetTaskCard"!==(null!=w&&null!=(m=w.$data)?m.componentName:void 0)||null==(null!=(g=w.$data.task)?g.taskId:void 0)||isNaN(parseInt(w.$data.task.taskId(),10))||(p=w.$data.task):p=w.$data);break;case"tasklist":t=r(i).closest(".tasklist-item"),t.length&&(n=t.find(".task-groupHold"),null!=n[0]?u=ko.contextFor(n[0]).$parents[1]:t.find(".taskListDrag").length?u=ko.contextFor(t[0]).$data:(n=t.find(".tlBlankSlate"),null!=n[0]&&(u=ko.contextFor(n[0]).$component)),null!=u&&null!=u.componentName&&"SectionTasksList"===u.componentName&&(p=u),null!=u&&null!=u.componentName&&"SectionTaskList"===u.componentName&&(p=u));break;case"tasklistHeader":if(t=r(i).closest(".tasklistHeader"),t.length)return k=ko.contextFor(t[0]).$data,u={taskListId:k.taskListId(),projectId:k.projectId()};break;case"milestone":if(t=r(i).closest(".milestone"),t.length){if(null==ko.contextFor(t[0]))return!1;u=ko.contextFor(t[0]).$parent,null!=u.componentName&&"Milestone"===u.componentName?p=u:null!=u.componentName&&"SectionMilestoneDetails"===u.componentName&&(p=u.milestone())}break;case"file":t=r(i).closest(".w-file-row"),t.length?(o=ko.contextFor(t[0]).$data,null!=o.componentName&&"File"===o.componentName&&(p=o)):(t=r(i).closest(".w-file-card"),t.length&&(o=ko.contextFor(t[0]).$data,null!=o.componentName&&"File"===o.componentName&&(p=o)));break;case"link":t=r(i).closest(".w-link-body__link-item"),t.length&&(a=ko.dataFor(t[0]),null!=a.componentName&&"Link"===a.componentName&&(p=a));break;case"notebook":t=r(i).closest(".w-notebook-item"),t.length&&(l=ko.dataFor(t[0]),null!=l.componentName&&"Notebook"===l.componentName&&(p=l));break;case"message":t=r(i).closest(".w-message-row"),t.length?(s=ko.dataFor(t[0]),null!=s.componentName&&"Message"===s.componentName&&(p=s)):(t=r(i).closest(".w-message"),t.length&&(s=ko.dataFor(t[0]),null!=s.componentName&&"Message"===s.componentName&&(p=s)));break;case"tag":t=r(i).closest(".w-tags__tag"),t.length&&(v=ko.dataFor(t[0]),b=ko.contextFor(t[0]),"WidgetTagsList"===(null!=(y=b.$parent)?y.componentName:void 0)&&null!=v&&(p=v))}return ko.unwrap(p)},n.prototype.getKoTasklistAsPlainText=function(e,t){return this.getKoObjectTasksAsPlainText(t,e,0)},n.prototype.getKoObjectTasksAsPlainText=function(e,t,n){var r,i,o,a,s,l;for(o="",r=++n;r-=1;)o+="\t";for(i=a=0,s=t.length;a<s;i=++a)l=t[i],l.name().length&&(e+=o+"- "+("completed"===l.status()?"[Completed] ":"")+l.name()+"\n",("function"==typeof l.subTasks?l.subTasks():void 0)&&l.subTasks().length&&(e=this.getKoObjectTasksAsPlainText(e,l.subTasks(),r)));return e},n.prototype.clickHiddenSpanIfAvailable=function(){var e,t;e=r(app.elemUnderMouse).closest(".hiddenProjectDropdownSelectorHolder"),e.length&&(t="hiddenSpanProjectMenu"+ko.contextFor(e[0]).$data.id(),r("#"+t).click())},n.prototype.updateTaskUser=function(e,t,n,r){var i,o,a,s,l,p;if(null==r&&(r=!1),n=n.toString(),o=function(e){return Array.isArray(e)?e:"string"==typeof e?e.split(","):e},s=e.responsiblePartyIds(),a=ko.observableArray(o(s).map(String)),"add"===t){if(app.utility.IsUserInSelection(a))return;a.push(n),"0"===a()[0]&&a.shift()}else if("set"===t)a.removeAll(),a.push(n);else{if(-1===a.indexOf(n))return;a.remove(n),0===a().length&&a([0])}return l=r?e.taskId():e.id(),p="tasks/"+l+".json",i={"todo-item":{"responsible-party-id":a().toString()}},app.api.put(p,i).then(function(t){return function(t){var n,i,o,s,l,p,u,d,c;if(n=null!=(p=t.response.affectedTaskIds)?p:"",o=null!=(u=t.response.linkedCardId)?u:0,s=null!=(d=t.response.linkedColumnId)?d:0,l=null!=(c=t.response.linkedColumnName)?c:"",r&&e.responsiblePartyIds(a().toString()),"OK"===t.response.STATUS)return a().length&&"0"!==a()[0].toString()||e.assignedTo([]),i={eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:e.id(),taskListId:e.taskListId(),subType:"responsible",extraInfo:{data:{affectedTaskIds:n,cardId:o,columnId:s,columnName:l}}},e.parentTaskId()>0&&(i.parentTaskId=e.parentTaskId()),app.ko.postbox.publish("allTWEvents",i)}}())},n.prototype.copyElements=function(){var e,t,n,i,o,a,s,l,p,u;if((-1===navigator.userAgent.toLowerCase().indexOf("safari/")||-1!==navigator.userAgent.indexOf("Chrome"))&&!window.getSelection().toString())if(Tipped.hideAll(),0===r("#copyClipboard").length?(u=document.createElement("textarea"),u.id="copyClipboard",r(u).attr("noChangeTracking",""),u.style.height="1px",u.style.width="1px",u.style.position="fixed",u.style.bottom="0px",u.style.left="0px",u.style.zIndex="-1",document.body.appendChild(u)):u=r("#copyClipboard"),o=this.getKoObjectUnderCursor("task"),s=this.getKoObjectUnderCursor("tasklist"),null!=o){for(p=o.name()+"\n",e=0,n=o.name().length-1;0<=n?e<=n:e>=n;0<=n?++e:--e)p+="-";("function"==typeof o.description?o.description().length:void 0)&&(p+="\n"+o.description()+"\n\n"),p+="\n"+app.account.URL()+"tasks/"+o.id()+"\n\n",p=p.trim(),r(u).val(p).select(),app.flash.Success(app.tl("Task details copied to clipboard."))}else if(null!=s){for(a=s.taskData.list(),l=s.taskList,p=l.name()+"\n",t=0,i=l.name().length-1;0<=i?t<=i:t>=i;0<=i?++t:--t)p+="-";l.description().length&&(p+="\n"+l.description()+"\n\n"),p+="\n"+app.account.URL()+"tasklists/"+l.id()+"\n\n",p=this.getKoTasklistAsPlainText(a,p),p=p.trim(),r(u).val(p).select(),app.flash.Success(app.tl("Task list copied as plain text to clipboard."))}},n.prototype.get=function(){return{"?":function(e){return function(){app.quickView.isOpen()||1===Lightbox.isOpen()||(Tipped.hideAll(),app.quickView.show("keyboard-shortcuts"))}}(),"-":function(e){return function(){var t,n;if(Tipped.hideAll(),!app.modals().length&&(null==app.loggedInUser||"account"===app.loggedInUser.userType()))return t=e.getKoObjectUnderCursor("task"),null!=t&&t.canEdit()&&e.updateTaskUser(t,"remove",app.loggedInUser.id()),n=e.getKoObjectUnderCursor("taskCard"),null!=n&&n.canEdit()?e.updateTaskUser(n,"remove",app.loggedInUser.id(),!0):void 0}}(this),"+":function(e){return function(){var t,n;if(Tipped.hideAll(),!app.modals().length){if(t=e.getKoObjectUnderCursor("task"),n=e.getKoObjectUnderCursor("taskCard"),null!=t&&t.canEdit()){if(null!=app.loggedInUser&&"account"!==app.loggedInUser.userType())return;return e.updateTaskUser(t,"add",app.loggedInUser.id())}if(null!=n&&n.canEdit()){if(null!=app.loggedInUser&&"account"!==app.loggedInUser.userType())return;return e.updateTaskUser(n,"add",app.loggedInUser.id(),!0)}return app.account.shortcutsAvailable()?(app.isQuickAddOpen(!1),app.modal.Show("addOrEditShortcut",{})):void 0}}}(this),"=":function(e){return function(){var t,n;if(Tipped.hideAll(),!app.modals().length){if(t=e.getKoObjectUnderCursor("task"),n=e.getKoObjectUnderCursor("taskCard"),null!=t&&t.canEdit()){if(null!=app.loggedInUser&&"account"!==app.loggedInUser.userType())return;return e.updateTaskUser(t,"add",app.loggedInUser.id())}if(null!=n&&n.canEdit()){if(null!=app.loggedInUser&&"account"!==app.loggedInUser.userType())return;return e.updateTaskUser(n,"add",app.loggedInUser.id(),!0)}return app.account.shortcutsAvailable()?(app.isQuickAddOpen(!1),app.modal.Show("addOrEditShortcut",{})):void 0}}}(this),1:function(e){return function(t,n){return e.goToProjectTab(n)}}(this),2:function(e){return function(t,n){return e.goToProjectTab(n)}}(this),3:function(e){return function(t,n){return e.goToProjectTab(n)}}(this),4:function(e){return function(t,n){return e.goToProjectTab(n)}}(this),5:function(e){return function(t,n){return e.goToProjectTab(n)}}(this),6:function(e){return function(t,n){return e.goToProjectTab(n)}}(this),7:function(e){return function(t,n){return e.goToProjectTab(n)}}(this),8:function(e){return function(t,n){return e.goToProjectTab(n)}}(this),9:function(e){return function(t,n){return e.goToProjectTab(n)}}(this),a:function(e){return function(){var t,n;if(Tipped.hideAll(),!app.modals().length&&(null==app.loggedInUser||"account"===app.loggedInUser.userType()))return t=e.getKoObjectUnderCursor("task"),null!=t&&e.updateTaskUser(t,"set",0),n=e.getKoObjectUnderCursor("taskCard"),null!=n?e.updateTaskUser(n,"set",0,!0):void 0}}(this),b:function(e){return function(){var e;if(null!=app.currentRoute().projectTab&&!app.modals().length)return"tasks"!==(e=app.currentRoute().projectTab)&&"tasklists"!==e||app.isBoardsView()?void 0:app.GoTo("projects/"+app.currentRoute().projectId+"/tasks/board")}}(),c:function(e){return function(){var t,n,r;if((null==app.loggedInUser||"account"===app.loggedInUser.userType())&&!app.modals().length)return n=e.getKoObjectUnderCursor("task"),r=e.getKoObjectUnderCursor("taskCard"),t=e.getKoObjectUnderCursor("milestone"),null!=n&&0!==n.id()?n.OnClickComplete():null!=r?r.OnClickComplete():t&&t.canComplete()?t.completed()?t.markAsIncomplete():t.markAsComplete():void 0}}(this),d:{func:function(e){return function(){var t,n,r;if(!app.modals().length&&(null==app.loggedInUser||"account"===app.loggedInUser.userType()))return n=e.getKoObjectUnderCursor("task"),r=e.getKoObjectUnderCursor("taskCard"),t=e.getKoObjectUnderCursor("milestone"),null!=n&&n.canEdit()&&!n.isEditMode()?n.Duplicate():null!=r&&r.canEdit()&&!r.isEditMode()?r.Duplicate():null!=t&&t.canEdit()?app.modal.Show("duplicateMilestone",{milestone:t}):void 0}}(this),event:"keyup"},e:function(e){return function(){var n,r;if(!app.modals().length&&(null==app.loggedInUser||"account"===app.loggedInUser.userType()))return app.isQuickAddOpen()?(app.isQuickAddOpen(!1),app.modal.Show("addOrEditEvent"),app.trackerHelper.trackQuickAdd("Event",!0)):(n=e.getKoObjectUnderCursor("task"),r=e.getKoObjectUnderCursor("taskCard"),null!=n&&n.canEdit()?(t("Task action","Open form keyboard"),n.OnClickEdit(),!1):null!=r&&r.canEdit()?(r.OnClickEdit(),!1):void 0)}}(this),f:function(t){return function(){var n,r,o;if(!app.modals().length)return null!=(n=t.getKoObjectUnderCursor("tag"))?(ko.postbox.publish("filter-addTag",n),!1):(r=t.getKoObjectUnderCursor("task"),null==r?(i(".app-header").hasClass("app-header--search-opened")||app.hybrid.store.commit("quickSearch/toggleSearchOpen"),app.utility.FocusInput("#searchForm input[type='text']"),!1):(Tipped.hideAll(),null==app.currentRoute().projectId?(o=ko.unwrap(r.projectId),app.GetProjectAndPermissions(o).then(function(n){var i;if(i=null!=n.componentName&&"Project"===n.componentName?n:new e(n.response.project),t.projectPermissions=i.permissions,t.projectPermissions.canAddFiles()&&r.canEdit()&&app.modal.Show("attachFilesToTask",{task:r}),null==app.cachedProjects[o])return app.cachedProjects[o]=i})):(t.projectPermissions=app.currentRoute().project.permissions,t.projectPermissions.canAddFiles()&&r.canEdit()?app.modal.Show("attachFilesToTask",{task:r}):void 0)))}}(this),g:function(e){return function(){app.currentRoute().project.isTemplate()||app.modals().length||null!=app.currentRoute().project&&app.GoTo("#projects/"+app.currentRoute().projectId+"/gantt")}}(),h:function(e){return function(){if(!app.loggedInUser.siteOwner()&&app.account.strictBranding())return!1;if(!app.modals().length)return app.modal.Show("supportCenter",{stack:!0})}}(),j:function(e){return function(){var t,n;if(Tipped.hideAll(),!app.modals().length&&(null==app.loggedInUser||"account"===app.loggedInUser.userType()))return t=e.getKoObjectUnderCursor("task"),null!=t&&e.updateTaskUser(t,"set",app.loggedInUser.id()),n=e.getKoObjectUnderCursor("taskCard"),null!=n?e.updateTaskUser(n,"set",app.loggedInUser.id(),!0):void 0}}(this),l:function(e){return function(){var e,t,n,r;if(app.isQuickAddOpen()){if(app.modals().length||(null!=(n=app.currentRoute().project)?n.isTemplate():void 0))return;if(null==app.loggedInUser||null==app.loggedInUser.stats)return!1;if(null!=app.quickAddProject()&&(t=app.quickAddProject().permissions,e=app.quickAddProject().activePages,!t.canLogTime()||"0"===e.time()))return;if(!app.loggedInUser.administrator()&&!app.loggedInUser.stats.permissions.canLogTime())return;return app.isQuickAddOpen(!1),app.modal.Show("quick-add-time",{}),app.trackerHelper.trackQuickAdd("Log Time",!0)}if(("tasks"===(r=app.currentRoute().projectTab)||"tasklists"===r||"templates"===r)&&app.isBoardsView())return app.GoTo("projects/"+app.currentRoute().projectId+"/tasks")}}(),m:function(e){return function(){var t,n,r;if(!app.modals().length&&(null==app.loggedInUser||"account"===app.loggedInUser.userType())){if(r=e.getKoObjectUnderCursor("task"),app.isQuickAddOpen()){if(null==app.loggedInUser||null==app.loggedInUser.stats)return!1;if(null!=app.quickAddProject()&&(n=app.quickAddProject().permissions,t=app.quickAddProject().activePages,!n.canAddMilestones()||"0"===t.milestones()))return;if(!app.loggedInUser.administrator()&&!app.loggedInUser.stats.permissions.canAddMilestones())return;return app.isQuickAddOpen(!1),app.modal.Show("addOrEditMilestone",{}),app.trackerHelper.trackQuickAdd("Milestone",!0)}return null!=r&&r.canEdit()?(Tipped.hideAll(),app.modal.Show("moveOrCopyItem",{type:"task",item:r,itemId:ko.unwrap(r.id),projectId:ko.unwrap(r.projectId)})):"project"===app.currentRoute().page&&null!=app.currentRoute().projectTab&&"files"===app.currentRoute().projectTab?app.ko.postbox.publish("project-files-selecting-multiple",{location:"keyboard"}):void 0}}}(this),n:function(e){return function(){var t,n,r,i,o,a,s,l,p,u;if((null==(l=app.currentRoute().project)||!l.isTemplate()||app.loggedInUser.permissions.canManageProjectTemplates())&&!app.modals().length){if(app.isQuickAddOpen()){if(null==app.loggedInUser||null==app.loggedInUser.stats)return!1;if(null!=app.quickAddProject()&&(s=app.quickAddProject().permissions,t=app.quickAddProject().activePages,!s.canAddMessages()||"0"===t.messages()))return;if(!app.loggedInUser.administrator()&&!app.loggedInUser.stats.permissions.canAddMessages())return;return app.isQuickAddOpen(!1),app.modal.Show("addMessage",{}),app.trackerHelper.trackQuickAdd("Message",!0)}return p=e.getKoObjectUnderCursor("task"),u=e.getKoObjectUnderCursor("taskCard"),r=e.getKoObjectUnderCursor("file"),a=e.getKoObjectUnderCursor("notebook"),i=e.getKoObjectUnderCursor("link"),o=e.getKoObjectUnderCursor("milestone"),null!=p&&p.id()>0?app.modal.Show("addOrEditComment",{item:p,projectId:ko.unwrap(p.projectId),type:"task"}):null!=u&&u.taskId()>0?(n=u.GetTask(),app.modal.Show("addOrEditComment",{item:n,projectId:ko.unwrap(n.projectId),type:"task"})):null!=r&&r.id()>0?app.modal.Show("addOrEditComment",{item:r,projectId:ko.unwrap(r.projectId),type:"file"}):null!=a&&a.id()>0?app.modal.Show("addOrEditComment",{item:a,projectId:ko.unwrap(a.projectId),type:"notebook"}):null!=i&&i.id()>0?app.modal.Show("addOrEditComment",{item:i,projectId:ko.unwrap(i.projectId),type:"link"}):null!=o&&o.id()>0?app.modal.Show("addOrEditComment",{item:o,projectId:ko.unwrap(o.projectId),type:"milestone"}):void 0}}}(this),o:function(e){return function(){if(!app.quickView.isOpen()&&1!==Lightbox.isOpen())return Tipped.hideAll(),e.clickHiddenSpanIfAvailable()}}(this),p:function(e){return function(){if(app.isQuickAddOpen()){if(!app.loggedInUser.administrator()&&!app.loggedInUser.permissions.canAddProjects())return;return app.isQuickAddOpen(!1),app.modal.Show("addOrEditProject"),app.trackerHelper.trackQuickAdd("Project",!0)}}}(),q:function(e){return function(){app.quickView.isOpen()||Lightbox.isOpen()}}(),r:function(e){return function(){var t,n;if(null==(t=app.currentRoute().project)||!t.isTemplate())return n=e.getKoObjectUnderCursor("task"),null!=n?app.modal.Show("currentTaskReminders",{item:n,projectId:ko.unwrap(n.projectId),addNew:!0}):void 0}}(this),"shift+s":function(e){return function(){if(!app.modals().length&&app.account.shortcutsAvailable())return app.quickView.show("myShortcuts")}}(),s:function(e){return function(){var t,n,r,i,o;if(!(app.quickView.isOpen()||1===Lightbox.isOpen()||(null!=(r=app.currentRoute().project)?r.isTemplate():void 0))){if(app.isQuickAddOpen()){if("account"!==app.loggedInUser.userType())return!1;if(null==app.loggedInUser||null==app.loggedInUser.stats)return!1;if(null!=app.quickAddProject()&&(n=app.quickAddProject().permissions,t=app.quickAddProject().activePages,!n.canLogTime()||"0"===t.time()))return;if(!(app.loggedInUser.administrator()||app.loggedInUser.stats.permissions.canLogTime()||null!=app.currentRoute().project&&app.currentRoute().project.permissions.canLogTime()))return;return app.isQuickAddOpen(!1),app.modal.Show("addOrEditTimer",{}),app.trackerHelper.trackQuickAdd("Start Timer",!0)}return i=e.getKoObjectUnderCursor("task"),o=e.getKoObjectUnderCursor("taskCard"),null!=i&&i.canLogTime()?"account"===app.loggedInUser.userType()&&i.ToggleTimer():null!=o&&o.canLogTime()?"account"===app.loggedInUser.userType()&&o.ToggleTimer():void 0}}}(this),plus:function(e){return function(){if(!app.modals().length)return app.isQuickAddOpen()?(app.isQuickAddOpen(!1),app.modal.Show("addOrEditShortcut",{}),app.trackerHelper.trackQuickAdd("Shortcut",!0)):void 0}}(),t:function(e){return function(){var t,n,r,i,o;if("account"!==app.loggedInUser.userType())return!1;if(!app.modals().length){if(app.isQuickAddOpen()){if(null==app.loggedInUser||null==app.loggedInUser.stats)return!1;if(null!=app.quickAddProject()&&(r=app.quickAddProject().permissions,t=app.quickAddProject().activePages,!r.canAddTasks()||"0"===t.tasks()))return;if(!app.loggedInUser.administrator()&&!app.loggedInUser.stats.permissions.canAddTasks())return;return app.isQuickAddOpen(!1),app.modal.Show("quicklyAddTasksToTaskList",{}),app.trackerHelper.trackQuickAdd("Task",!0)}if(app.currentRoute().project&&app.currentRoute().project.isTemplate())return!1;if(i=e.getKoObjectUnderCursor("task"),o=e.getKoObjectUnderCursor("taskCard"),null!=i){if(!i.canLogTime())return;n=function(e){if(!e.wasCancelled)return i.hasLoggedTime(!0)},app.modal.Show("addOrEditTimeEntry",{task:i,projectId:i.projectId(),onCloseCallBack:n})}else if(null!=o){if(!o.canLogTime())return;i=o.GetTask(),n=function(e){if(!e.wasCancelled)return o.hasLoggedTime(!0)},app.modal.Show("addOrEditTimeEntry",{task:i,projectId:i.projectId(),onCloseCallBack:n})}}}}(this),u:function(e){return function(){var e,t;if(!app.modals().length&&(null==(t=app.account.SSO)||"function"!=typeof t.enabled||!t.enabled()||"SSO automatic-start"!==("function"==typeof(e=app.account.SSO).loginStyle?e.loginStyle():void 0))&&app.isQuickAddOpen()){if(!(app.loggedInUser.administrator()||app.loggedInUser.permissions.canManagePeople()||null!=app.currentRoute().project&&app.currentRoute().project.permissions.projectAdministrator()))return;return app.isQuickAddOpen(!1),app.modal.Show("inviteNewUsers",{}),app.trackerHelper.trackQuickAdd("Invite User",!0)}}}(),v:function(e){return function(){var t,n,o,a,s,p,u,d,c,f,h,m,g,y,b,v,w,k,T,I,C,x,S,j,O,P;if(!app.modals().length){if(a=ko.dataFor(app.elemUnderMouse),null!=("function"==typeof a.onPressV?a.onPressV():void 0))return void a.onPressV();if(null!=a)if("WidgetTabsListTab"===a.componentName){if("projects"===a.id)return app.isShowingQuickJump(!app.isShowingQuickJump())}else{if(null!=a.componentName&&"Project"===a.componentName)return app.quickView.show("project",{id:a.id(),project:a,title:ko.observable("<a href='#projects/"+a.id()+"'>"+app.utility.SafeHTML(a.name())+"</a>"),projectId:a.id(),isQuickView:!0});if(null!=a.componentName&&"WidgetProject"===a.componentName)return app.quickView.show("project",{id:a.item.id(),project:a.item,title:ko.observable("<a href='#projects/"+a.item.id()+"'>"+app.utility.SafeHTML(a.item.name())+"</a>"),projectId:a.item.id(),isQuickView:!0});if(null!=a.componentName&&"UIProjectHeader"===a.componentName)return app.quickView.show("project",{id:a.id(),project:null,title:ko.observable("<a href='#projects/"+a.id()+"'>"+app.utility.SafeHTML(a.name())+"</a>"),projectId:a.id(),isQuickView:!0});if(null!=a.componentName&&"WidgetComment"===a.componentName){if(null!=app.currentRoute().itemId)return;if(n=a.item,p=n.commentableId(),d=n.type(),w=n.projectId(),S=["task","milestone","link","file","notebook"],k=d.toLowerCase(),l.call(S,k)>=0)return b={projectId:w},b[d+"Id"]=p,b.id=p,app.quickView.show(d,b)}else if("search"===app.currentRoute().page){if(t=i(app.elemUnderMouse).closest("[data-search-results-container]"),!t.length)return;v=ko.dataFor(t[0]),a.itemType=v.itemType,p=a.id,d=a.itemType,w=a.projectId,o=d.indexOf("Comment"),-1!==o&&(y=d.indexOf("Comment"),d=""+d.substr(0,y),p=a[d+"Id"]),S=["task","tasklist","message","comment","milestone","link","file","notebook"],T=d.toLowerCase(),l.call(S,T)>=0?(b={projectId:w},b[d+"Id"]=p,b.id=p,app.quickView.show(d,b)):console.warn("need to handle this type:",a)}else if(null!=a.type&&"project"===ko.unwrap(a.type))app.GoTo("projects/"+a.itemid()+"/overview/activity");else if("ActivityItem"===(I=a.componentName)||"Comment"===I||"WidgetActivity"===I||"new"===a.actionType&&"eventNotice"===a.cmd){if("WidgetActivity"===a.componentName&&(a=a.item),!(u=ko.unwrap(a.link)||ko.unwrap(a.commentLink)||ko.unwrap(a.itemLink)))return;if(0===(w=null!=a.projectId?ko.unwrap(a.projectId):null!=app.currentRoute().projectId?app.currentRoute().projectId:0))return;h=/^#?(\w+)s\/(\d+).*$/.exec(u),h&&(d=h[1],p=h[2]),"tasklist"===d&&(d="taskList"),null!=a.itemId&&null!=a.type&&"projectUpdate"===ko.unwrap(a.type)?(d="projectUpdate",p=ko.unwrap(a.itemId),app.quickView.show("projectUpdates",{projectId:w,updateId:p})):"task"===d||"milestone"===d||"link"===d||"notebook"===d||"message"===d||"file"===d||"taskList"===d?(b={projectId:w},b[d+"Id"]=p,b.id=p,b.type=d,app.quickView.show(d,b),x="#notif"+a._timestamp,"deleted"!==a.actionType&&(s={currentTarget:document.querySelector(x)},app.notifications.MarkAsRead(a,s))):console.warn("need to handle this type:",a)}else if("TimeEntry"===a.componentName){if(app.elemUnderMouse.classList.contains("task")||r(app.elemUnderMouse).parents(".task").length)a.taskId()>0&&app.quickView.show("task",{id:a.taskId(),isSubtask:parseInt(a.parentTaskId(),10)>0,taskId:a.taskId(),projectId:a.projectId()});else if((app.elemUnderMouse.classList.contains("tasklist")||r(app.elemUnderMouse).parents(".tasklist").length)&&a.tasklistId()>0){if(a.projectId()/1==app.account.tasklistTemplateProjectId()/1)return;app.quickView.show("taskList",{id:a.tasklistId(),taskListId:a.tasklistId(),projectId:a.projectId()})}}else{if("User"===a.componentName&&null!=app.currentRoute().project)return a.QuickView();if("MilestoneCalendar"===a.componentName)null!=(m=i(app.elemUnderMouse).closest(".calendar-milestone").attr("data-event-id"))&&app.quickView.show("milestone",{id:ko.unwrap(m),milestoneId:m});else{if("TaskCard"===a.componentName)return a.OnQuickView();if("WidgetTaskRow"!==a.componentName&&null!=(j=e.getKoObjectUnderCursor("tasklist"))&&null!=j.taskList){if(app.elemUnderMouse.className.indexOf("tasklistMilestone")>-1)return j.taskList.milestone.OnQuickView();if(j.taskList.projectId()/1==app.account.tasklistTemplateProjectId()/1)return;return j.taskList.OnQuickView()}if(null!=(O=e.getKoObjectUnderCursor("tasklistHeader"))){if(ko.unwrap(O.projectId)/1==app.account.tasklistTemplateProjectId()/1)return;return app.quickView.show("taskList",{id:O.taskListId,taskListId:O.taskListId,projectId:O.projectId})}if("SectionReportRow"===a.componentName)return a.OnClickViewReport();for(C=["task","taskCard","milestone","link","notebook","message","file"],c=0,f=C.length;c<f;c++){if("task"===(P=C[c])){if("project"===app.currentRoute().page&&"tasks"===app.currentRoute().projectTab&&app.currentRoute().itemId===a.task.id())return;if(null!=a.task&&a.task.projectId()/1==app.account.tasklistTemplateProjectId()/1)return}if(null!=(g=e.getKoObjectUnderCursor(P)))return void g.OnQuickView()}}}}}}}(this),del:function(e){return function(){var t;app.modals().length||null!=(t=e.getKoObjectUnderCursor("task"))&&t.canEdit()&&app.modal.Show("confirm",{title:app.tl("Confirm Delete"),text:app.tl("Are you sure you want to delete this task?"),callback:function(e){if(!e.wasCancelled)return t.Delete()}})}}(this),backspace:function(e){return function(){if(app.modals().length)return!1}}(),"command+c":function(e){return function(){return e.copyElements()}}(this),"ctrl+c":function(e){return function(){return e.copyElements()}}(this),up:function(e){return function(){var e,t;if(t=r("#imagePreviewContainer"),t.length&&t.is(":visible")&&null!=(e=ko.contextFor(t[0]).$data)&&null!=e.onPreviousVersion)return e.onPreviousVersion(),!1}}(),down:function(e){return function(){var e,t;if(t=r("#imagePreviewContainer"),t.length&&t.is(":visible")&&null!=(e=ko.contextFor(t[0]).$data)&&null!=e.onNextVersion)return e.onNextVersion(),!1}}(),left:function(e){return function(){var e,t;if(t=r("#imagePreviewContainer"),t.length&&t.is(":visible")&&null!=(e=ko.contextFor(t[0]).$data)&&null!=e.onPreviousImage)return e.onPreviousImage()}}(),right:function(e){return function(){var e,t;if(t=r("#imagePreviewContainer"),t.length&&t.is(":visible")&&null!=(e=ko.contextFor(t[0]).$data)&&null!=e.onNextImage)return e.onNextImage()}}(),tab:function(e){return function(t){var n;if(null!=(n=e.getKoObjectUnderCursor("task"))&&n.canEdit()){if(app.elemUnderMouse.focus(),"tasks"===app.currentRoute().projectTab&&app.currentRoute().itemId===n.id())return;return t.preventDefault(),0===n.parentTaskId()?ko.postbox.publish("indent-task-on-tasklist-"+n.taskListId(),{taskId:n.id(),parentTaskId:n.parentTaskId()}):ko.postbox.publish("indent-subtask-on-task-"+n.parentTaskId(),{taskId:n.id(),parentTaskId:n.parentTaskId()})}}}(this),"shift+tab":function(e){return function(t){var n;if(null!=(n=e.getKoObjectUnderCursor("task"))&&n.canEdit()&&n.parentTaskId()>0){if(app.elemUnderMouse.focus(),"tasks"===app.currentRoute().projectTab&&app.currentRoute().itemId===n.id())return;return t.preventDefault(),ko.postbox.publish("outdent-subtask-on-tasklist-"+n.taskListId(),{taskId:n.id(),parentTaskId:n.parentTaskId()})}}}(this)}},n.prototype.getGlobal=function(){return{esc:function(e){return function(e){if(Tipped.hideAll(),app.isShowingFullScreenMode(!1),!i(e.target).hasClass("mce-textbox")&&"froalaEditor"!==e.type)return app.hybrid.store.getters["modals/active"]||app.hybrid.store.getters["quickViews/active"]?void ko.postbox.publish("esc-btn-press"):app.modals().length&&0===r("#large-video-bg:visible").length?Lightbox.cancel():app.quickView.isOpen()?null!=app.currentRoute().projectId&&"gantt"===app.currentRoute().page?(app.GoTo("#projects/"+app.currentRoute().projectId+"/gantt"),e.stopImmediatePropagation(),e.preventDefault(),!1):r("#quickViewHolder .editTaskForm").length?ko.postbox.publish("esc-btn-press"):app.quickView.empty():void ko.postbox.publish("esc-btn-press")}}(),"command+enter":function(e){return function(e,t){var n,i,o,a;if(void 0!==r(":focus")[0]){if(o=r(":focus")[0],i=null!=(null!=(a=ko.contextFor(o).$component)?a.componentName:void 0)&&"WidgetMentions"===ko.contextFor(o).$component.componentName?ko.contextFor(o).$parent:ko.contextFor(o).$component,null!=(null!=i?i.OnSubmit:void 0))return void i.OnSubmit();document.activeElement&&(n=r(document.activeElement).find("FORM"),1===n.length&&n.submit())}}}(),"ctrl+enter":function(e){return function(e,t){return Mousetrap.trigger("command+enter")}}()}},n}()}.apply(t,o))&&(e.exports=a)}).call(t,n(245),n(245))},1716:function(e,t,n){(function(r,i){var o,a;o=[n(164),n(14),n(401)],void 0!==(a=function(e,t,n){return function(){function n(n){var o,a,s,l,p,u;if(null==n&&(n={}),l=this,app.s3UploadManager.push(this),app.fileDropEnabled()){if(this.inTKOWidget=n.inTKOWidget||!1,this.fileUploadModel=n.fileUploadModel||null,this.uniqueKey=n.uniqueKey||null,this.dropZone=r(n.dropZone)||r("body"),this.add=n.add||function(){},this.projectId=null!==n.projectId?n.projectId:null,this.categoryId=0,this.progress=n.progress||function(){},this.overallProgress=n.overallProgress||function(){},this.queueComplete=n.queueComplete||function(){},this.done=n.done||function(){},this.showOverlay=null===n.showOverlay||n.showOverlay,this.dragEnter=n.dragEnter||function(){},this.dragLeave=n.dragLeave||function(){},this.isEnabled=n.isEnabled||function(){return!0},this.isTemp=null!==n.isTemp&&n.isTemp,this.pasteZone=r(document),this.shouldPassOnFile=n.shouldPassOnFile||function(){return!1},this.twItem=n.twItem||null,this.tkoTaskNotify=n.tkoTaskNotify||null,this.reloadProjectId=null!==n.reloadProjectId&&n.reloadProjectId,this.jqXHRArray=[],this.disabled=null!==n.disabled&&n.disabled,this.dragoverCounter=0,this.saveFileOnUploadComplete=null!=n.saveFileOnUploadComplete?n.saveFileOnUploadComplete:n.saveFileOnUploadComplete=!0,this.maxFiles=null===n.maxFiles?0:n.maxFiles,this.numFiles=0,this.buttonParent=n.buttonParent||r("body"),this.buttonClass=n.buttonClass||"btn btn-primary btn-mini",this.isValidDroppableFile=function(e){var t,n;return n=!1,t=e.originalEvent.dataTransfer,null!=t.types&&(n=t.types.indexOf?-1!==t.types.indexOf("Files"):"object"==typeof t.types&&(t.types.contains("application/x-moz-file")||t.types.contains("Files"))),n},this.pastingActive=!1,r(document).bind("drop dragover",function(e){e.preventDefault()}),a=null===this.twItem?'<div class="dropUpload" style="display:none">':'<div class="dropUpload" data-type="'+this.twItem.type+'" data-id="'+this.twItem.id+'" style="display:none">',a+='<span  class="'+this.buttonClass+'" style="cursor: pointer;overflow: hidden;"><i style="margin-right: 3px;" class="ico-plus-sign"></i>'+app.tl("Add Files")+'<input type="file" style="cursor: pointer;" name="file" value="Select files.." '+(1!==this.maxFiles?"multiple":"")+"/></span>",a+="</div>",this.inTKOWidget?this.form=this.dropZone:this.form=r(a),this.fileInput=i(this.form.find('input[type="file"]')),p=app.consts.S3BUCKET[app.account.awsRegion()],window.devMode&&(p=app.consts.S3BUCKET.DEV),app.essentialDataIsLoaded()?this.fileInput.data("url",p):app.essentialDataIsLoaded.subscribe(function(e){return function(){return e.fileInput.data("url",p)}}(this)),l.fileInput.data("form-data",JSON.stringify({key:"x",AWSAccessKeyId:"x",acl:"x","Content-Type":"x",policy:"x",signature:"x"})),this.inTKOWidget||(this.buttonParent.is("body")?this.buttonParent.append(this.form):(this.buttonParent.append(this.form),this.form.show())),r(window).bind("beforeunload",function(){if(l.files.currentOArray().length)return app.tl("Are you sure you would like to navigate away from this page? Files are in the process of being uploaded.")}),u=null,i(document.body).on("dragover",function(){clearTimeout(u),u=setTimeout(function(){l.dragLeave()},500)}),this.showOverlay?(this.dropZone.css("position","relative").addClass("is-drop-zone"),l.dzOverlay=r('<div class="u-upload-overlay"><span>'+app.tl("Drop to Upload")+"</span></div>"),this.dzContent=r('<div class="blur-filter"></div>'),l.dzOverlay.on("click",function(){l.dropZone.removeClass("file-over")}),o=r("*:focus"),this.dropZone.children(".blurHolder").addClass("blur-filter"),o&&r(o.focus()),this.dropZone.find(".u-upload-overlay").remove(),this.dropZone.append(this.dzOverlay),l.dzOverlay.on("dragleave mouseout",function(e){var t;e.stopPropagation(),l.disabled||(t=l.dragoverCounter,setTimeout(function(){l.dragoverCounter===t&&(l.dropZone.removeClass("file-over"),l.dragLeave())},200))})):this.dropZone.on("dragleave",function(e){var t;e.stopPropagation(),l.disabled||(t=l.dragoverCounter,setTimeout(function(){l.dragoverCounter===t&&l.dragLeave()},200))}),this.dropZone.on("dragenter",function(t,n){var i,o,a,s;if(l.dropZone.hasClass("is-drop-zone")&&l.isValidDroppableFile(t)){if(!l.isEnabled())return!1;if(l.disabled)return;if(s=l.projectId>0?l.projectId:app.currentRoute().projectId,a=app.currentRoute().project,null==a&&null!=s&&(a=e.unwrap(app.projectInfo.get(s))),l.categoryId=app.cache.get("project-"+s+"-selected-file-category"),o=r(".feedback-form").length>0,i=app.featureFlip.check("disablingdirectfileuploads",{unwrap:!0}),!o&&i){if(!app.account.canUploadFilesDirectly())return void app.flash.Error(app.tl("File upload is not currently enabled on this site"));if(a&&(!a.permissions.canAddFiles()||!a.directFileUploadsEnabled()))return void app.flash.Error(app.tl("File upload is not currently enabled on this project"))}t.stopPropagation(),l.showOverlay&&(r(".file-over").not(l.dropZone).removeClass("file-over"),l.dropZone.addClass("file-over")),l.dragEnter()}}),this.fileInput.fileupload({url:this.fileInput.data("url"),type:"POST",autoUpload:!0,dataType:"xml",dropZone:l.dzOverlay,pasteZone:this.pasteZone,limitConcurrentUploads:4,bitrateInterval:250,add:function(n,o){var a,s,p,u,d,c,f,h,m,g,y,b,v,w,k,T;if("paste"===(null!=(y=n.originalEvent)?y.type:void 0)){if(clearTimeout(this.filePasteDebounce),this.filePasteDebounce=setTimeout(function(e){return function(){return e.pastingActive=!1}}(this),250),this.pastingActive)return!1;this.pastingActive=!0}if(i(null!=(b=n.originalEvent)?b.target:void 0).hasClass("allow-paste"))return!0;if((r("body").hasClass("qvOpen")||app.modals().length>0)&&l.dropZone.is("body")&&!app.bodyDroppable())return!1;if(l.dropZone.hasClass("taskDropOverlay is-drop-zone")&&!l.dropZone.is(":visible"))return!1;if(l.dropZone.hasClass("taskDropOverlay")&&!l.dropZone.hasClass("is-drop-zone"))return!1;if(g=l.projectId>0?l.projectId:app.currentRoute().projectId,m=app.currentRoute().project,null==m&&null!=g&&(m=e.unwrap(app.projectInfo.get(g))),d=r(".feedback-form").length>0,u=app.featureFlip.check("disablingdirectfileuploads",{scope:"beta"}),!d&&u()){if(!app.account.canUploadFilesDirectly())return void app.flash.Error(app.tl("File upload is not currently enabled on this site"));if(m&&(!m.permissions.canAddFiles()||!m.directFileUploadsEnabled()))return void app.flash.Error(app.tl("File upload is not currently enabled on this project"))}if(c=o.files[0],f=c.name,app.s3UploadManager.removeInactive(),!l.isEnabled(c))return!1;if("paste"!==(null!=(v=n.originalEvent)?v.type:void 0)||app.s3UploadManager.isPasteAllowed(l.form)&&!n.isTextPasted){if(void 0!==f&&null!==f&&"paste"!==(null!=(w=n.originalEvent)?w.type:void 0)||(n.preventDefault(),s=l.dropZone.find(".tt-input"),0===s.length&&(s=l.dropZone.find("input.editTaskName,input.addTaskName")),T=r("div#TaskContent p.task-name a"),a=null,T.length>0&&(a=T),f=1===s.length?""!==s.val().replace(/\s/g,"")?"Pasted on task - "+s.val().substring(0,100).replace(/[\\\/:?"<>|]/g,"")+".png":"Paste ("+t().format("YYYY-MM-DD HH-mm-ss")+").png":null!=a&&1===a.length?"Pasted on task - "+a.text().substring(0,100).replace(/[\\\/:?"<>|]/g,"")+".png":"Paste ("+t().format("YYYY-MM-DD HH-mm-ss")+").png"),l.numFiles++,l.maxFiles>0&&l.numFiles===l.maxFiles){try{l.form.fileupload("disable")}catch(e){p=e,console.log(p)}1!==l.maxFiles||l.inTKOWidget||l.form.remove()}l.maxFiles>0&&l.numFiles>l.maxFiles||(l.reloadProjectId&&(l.projectId=app.currentRoute().projectId||null),c.projectId=l.projectId,k=app.utility.getSafeFileName(f),k.warnings.length>0&&app.flash.Warn(app.tl("Your filename '[_s]' had to be renamed for the following reasons[_s][_s]",k.fileName,":<br>",k.warnings.join("<br>")),{allowMultiple:!0}),c.safeFileName=k.fileName,h="toS3=true&fileName="+encodeURIComponent(k.fileName)+"&uid="+(new Date).getTime(),app.api.get("./tempfileref.json",h,{async:!1}).then(function(e){o.formData={key:e.response.tempFileRef.code,AWSAccessKeyId:e.response.tempFileRef.accessKeyId,acl:"private","Content-Type":e.response.tempFileRef.mimeType,policy:e.response.tempFileRef.policy,signature:e.response.tempFileRef.signature},c.s3Debug=r.extend({},o.formData),delete c.s3Debug.AWSAccessKeyId,c.s3Debug.timestamp=e.response.tempFileRef.timestamp,c.uploadCancelled=!1,c.storageExceeded=!1,app.s3UploadManager.hasSpaceToUploadFile(c,function(e){e||(app.flash.Error(app.tl("Storage Exceeded"),app.tl("You have reached your plan's allocated file storage"),{allowMultiple:!0}),null!=c.jqXHR&&(c.storageExceeded=!0,c.jqXHR.abort()))}),c.jqXHR=o.submit(),l.jqXHRArray.push(c.jqXHR),l.files.add(c,e.response.tempFileRef.code),l.add(c),null!==c.projectId||l.chooseProjectLightboxOpen||l.showChooseProjectLightBox()}))}},dragover:function(e){if(l.dropZone.hasClass("is-drop-zone")&&l.isValidDroppableFile(e)){if(e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy",!l.isEnabled())return!1;if(l.disabled)return;l.showOverlay&&l.dropZone.addClass("file-over"),l.dragEnter(),l.dragoverCounter=(l.dragoverCounter+1)%100}},drop:function(e){e.stopPropagation(),l.showOverlay&&l.dropZone.removeClass("file-over"),l.dragLeave()},send:function(e,t){},progress:function(e,t){var n,r;l.files.addBitrate(t.bitrate),r=Math.round(t.loaded/t.total*100),n=l.files.updateFileProgress(t.files[0],r),l.progress(n,r)},fail:function(e,t){var n,r,i,o,a,s;s={eventTime:new Date,action:"amazonS3",subType:"failure",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:t.files[0].ref},app.ko.postbox.publish("widget-file-dropzone-"+l.uniqueKey,s),l.files.markFileInactive(t.files[0]),l.files.remove(t.files[0],!0),(null!=(o=t.files)?o[0].storageExceeded:void 0)||(null!=(a=t.files)?a[0].uploadCancelled:void 0)||(i=t.files[0].name,r=i.substring(i.lastIndexOf(".")+1),n=app.tl("Sorry about that. Please retry or contact support if this persists."),"gsheet"!==r&&"gdoc"!==r&&"gslides"!==r||(n=app.tl("[_s] documents aren't supported. Please upload a local copy.","Google Drive File Stream")),app.flash.Error(app.tl("File Upload Failed"),n),("function"==typeof t.xhr?t.xhr():void 0)&&0!==t.xhr().status&&console.info("(v"+window.appVersionId+") S3 Upload failed - Please contact support if you see this frequently"))},done:function(e,t){var n;n=l.files.get(t.files[0]),n.s3Debug={},l.isTemp?(l.done(n,0),l.files.markFileInactive(n,0)):null!==n.projectId&&(l.categoryId=null!=app.currentRoute().projectTab&&"files"===app.currentRoute().projectTab&&app.currentRoute().categoryId()>-1?app.currentRoute().categoryId():0,l.processUploadedFile(n,l.categoryId))}}),this.processUploadedFile=function(e,t){var n,i,o;if(!l.saveFileOnUploadComplete)return l.done(e),void l.files.markFileInactive(e);e.name,o=e.ref,i=null==t?0:t,n={file:{pendingFileRef:o,"category-id":i}},r.ajax({url:"./projects/"+e.projectId+"/files.json",type:"post",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(n),processData:!1,success:function(t){l.done(e,t.fileId),l.files.markFileInactive(e,t.fileId)}})},this.showChooseProjectLightBox=function(){var e;if(l.chooseProjectLightboxOpen)return void l.renderFilesWithoutProjectIdsInLB();l.chooseProjectLightboxOpen=!0,Tipped.hideAll(),e=function(e){return function(e){l.chooseProjectLightboxOpen=!1,l.removeFilesWithoutProjectId()}}(),app.modal.Show("documentDropFiles",{stack:!0,onCloseCallBack:e},this)},this.removeFilesWithoutProjectId=function(){r.each(l.files.OArray(),function(e,t){null===t.projectId&&l.files.remove(t,!1,!0)})},this.renderFilesWithoutProjectIdsInLB=function(){var e;r(".lb-choose-project-for-files .files").html(""),e=r(".lb-choose-project-for-files .files"),r.each(l.files.pendingProjectIdOArray(),function(t,n){e.append('<li><img src="//cdn.teamwork.com/images/filetypes/'+app.GetIcon(n.name)+'"/>'+n.name+"</li>")})},this.onClickSelectProjectForFiles=function(e){var t,n;return null==(t=app.projectInfo.get(e))()?void(n=t.subscribe(function(t){return function(){return t.onClickSelectProjectForFiles(e),n.dispose()}}(this))):t().directFileUploadsEnabled()?(r.each(l.files.pendingProjectIdOArray(),function(t,n){n.droppedFileIncludeForUploading()&&(n.projectId=e,"processing"===n.status()&&l.processUploadedFile(n,l.categoryId))}),void Lightbox.close()):void app.flash.Error(app.tl("Direct file uploading is not currently enabled on that project"))},this.files={status:e.observable("inactive"),OArray:e.observableArray([]),progress:e.observable(0),interval:null,bitrateArray:e.observableArray([]),add:function(t,n){return t.progress=e.observable(0),t.status=e.observable("waiting"),t.droppedFileIncludeForUploading=e.observable(!0),t.ref=n,this.status("active"),this.OArray.unshift(t),null===this.interval&&(this.interval=setInterval(this.fireEvents.bind(this),100)),t},remove:function(e,t,n){null==t&&(t=!1),null==n&&(n=!1),e.uploadCancelled&&!n||(n&&(e.uploadCancelled=!0),e.jqXHR.abort()),this.OArray.splice(this.OArray.indexOf(e),1),this.OArray().length||t||Lightbox.close()},get:function(e){return this.OArray.indexOf(e)>=0?e:null},addBitrate:function(e){this.bitrateArray.length>100&&this.bitrateArray.shift(),this.bitrateArray.push(e)},updateFileProgress:function(e,t){return e.progress(t),e.status(),100===t?e.status("processing"):e.status("uploading"),e},markFileInactive:function(e,t){null!==t&&(e.fileId=t),e.status("inactive")},getOverallProgress:function(){var e,t,n,r,i;for(n=void 0,i=0,r=0,e=void 0,t=this.OArray(),n=0;n<t.length;)e=t[n],"complete"!==e.status()&&(i+=e.size,r+=e.size/100*e.progress()),n++;return 0===i?null:Math.floor(r/i*100)},setFilesComplete:function(){var e,t,n;for(n=void 0,t=this.OArray(),e=void 0,n=0;n<t.length;)e=t[n],e.status("complete"),n++;this.status("inactive")},canCompleteAllFiles:function(){var e,t;for(t=void 0,e=this.OArray(),t=0;t<e.length;){if("inactive"!==e[t].status()&&"complete"!==e[t].status())return!1;t++}return!0},fireEvents:function(){var e;e=this.getOverallProgress(),this.progress(e),null!==e&&l.overallProgress(e),this.canCompleteAllFiles()&&(this.setFilesComplete(),l.queueComplete(this.OArray()),this.progress(0),clearInterval(this.interval),this.interval=null,this.status("inactive"))},clearCompletedFiles:function(){var t;t=e.utils.arrayFilter(this.OArray(),function(e){return"complete"!==e.status()}),this.OArray(t),app.cache.set("dropUploadQueue",t)}},void 0!==n.files&&null!==n.files)for(s=0;s<n.files.length;)null===n.files[s].fileId&&n.files.splice(s,1),n.files[s].progress=e.observable(100),n.files[s].status=e.observable("complete"),s++;this.files.OArray(void 0===n.files||null===n.files?[]:n.files),this.files.currentOArray=e.pureComputed(function(){return e.utils.arrayFilter(l.files.OArray(),function(e){return"complete"!==e.status()})}),this.files.uploadingOArray=e.pureComputed(function(){return e.utils.arrayFilter(l.files.OArray(),function(e){return"uploading"===e.status()})}),this.files.processingOArray=e.pureComputed(function(){return e.utils.arrayFilter(l.files.OArray(),function(e){return"processing"===e.status()})}),this.files.waitingOArray=e.pureComputed(function(){return e.utils.arrayFilter(l.files.OArray(),function(e){return"waiting"===e.status()})}),this.files.completeOArray=e.pureComputed(function(){return e.utils.arrayFilter(l.files.OArray(),function(e){return"complete"===e.status()||"inactive"===e.status()})}),this.files.pendingProjectIdOArray=e.pureComputed(function(){return e.utils.arrayFilter(l.files.OArray(),function(e){return null===e.projectId})}),this.files.bitrate=e.pureComputed(function(){var e,t;for(s=l.files.bitrateArray.length,e=l.files.bitrateArray(),t=0;s<e.length;)t+=e[s],s++;return t/e.length}),this.files.bitsLeft=e.pureComputed(function(){var e,t;for(e=l.files.uploadingOArray().concat(l.files.waitingOArray()),s=e.length,t=0;s--;)t+=e[s].size;return 8*(t-t/100*l.files.progress())}),this.files.timeLeft=e.pureComputed(function(){var e,n;return(n=Math.ceil(l.files.bitsLeft()/l.files.bitrate()))<=60?"about "+n+" seconds left":(e=t().add(n,"s"),e.fromNow(!0)+" left")})}}return n}()}.apply(t,o))&&(e.exports=a)}).call(t,n(245),n(245))},1906:function(e,t,n){var r,i;/*! jquery.caret 2015-02-01 */
!function(o,a){r=[n(245)],void 0!==(i=function(e){return o.returnExportsGlobal=a(e)}.apply(t,r))&&(e.exports=i)}(this,function(e){"use strict";var t,n,r,i,o,a,s,l,p;t=function(){function t(e){this.$inputor=e,this.domInputor=this.$inputor[0]}return t.prototype.setPos=function(){return this.domInputor},t.prototype.getIEPosition=function(){return this.getPosition()},t.prototype.getPosition=function(){var e,t;return t=this.getOffset(),e=this.$inputor.offset(),t.left-=e.left,t.top-=e.top,t},t.prototype.getOldIEPos=function(){var e,t;return t=a.selection.createRange(),e=a.body.createTextRange(),e.moveToElementText(this.domInputor),e.setEndPoint("EndToEnd",t),e.text.length},t.prototype.getPos=function(){var e,t,n;return(n=this.range())?(e=n.cloneRange(),e.selectNodeContents(this.domInputor),e.setEnd(n.endContainer,n.endOffset),t=e.toString().length,e.detach(),t):a.selection?this.getOldIEPos():void 0},t.prototype.getOldIEOffset=function(){var e,t;return e=a.selection.createRange().duplicate(),e.moveStart("character",-1),t=e.getBoundingClientRect(),{height:t.bottom-t.top,left:t.left,top:t.top}},t.prototype.getOffset=function(){var t,n,r,i,o;return l.getSelection&&(r=this.range())?(r.endOffset-1>0&&r.endContainer===!this.domInputor&&(t=r.cloneRange(),t.setStart(r.endContainer,r.endOffset-1),t.setEnd(r.endContainer,r.endOffset),i=t.getBoundingClientRect(),n={height:i.height,left:i.left+i.width,top:i.top},t.detach()),n&&0!==(null!=n?n.height:void 0)||(t=r.cloneRange(),o=e(a.createTextNode("|")),t.insertNode(o[0]),t.selectNode(o[0]),i=t.getBoundingClientRect(),n={height:i.height,left:i.left,top:i.top},o.remove(),t.detach())):a.selection&&(n=this.getOldIEOffset()),n&&(n.top+=e(l).scrollTop(),n.left+=e(l).scrollLeft()),n},t.prototype.range=function(){var e;if(l.getSelection)return e=l.getSelection(),e.rangeCount>0?e.getRangeAt(0):null},t}(),n=function(){function t(e){this.$inputor=e,this.domInputor=this.$inputor[0]}return t.prototype.getIEPos=function(){var e,t,n,r,i,o,s;return t=this.domInputor,o=a.selection.createRange(),i=0,o&&o.parentElement()===t&&(r=t.value.replace(/\r\n/g,"\n"),n=r.length,s=t.createTextRange(),s.moveToBookmark(o.getBookmark()),e=t.createTextRange(),e.collapse(!1),i=s.compareEndPoints("StartToEnd",e)>-1?n:-s.moveStart("character",-n)),i},t.prototype.getPos=function(){return a.selection?this.getIEPos():this.domInputor.selectionStart},t.prototype.setPos=function(e){var t,n;return t=this.domInputor,a.selection?(n=t.createTextRange(),n.move("character",e),n.select()):t.setSelectionRange&&t.setSelectionRange(e,e),t},t.prototype.getIEOffset=function(e){var t,n,r,i;return n=this.domInputor.createTextRange(),e||(e=this.getPos()),n.move("character",e),r=n.boundingLeft,i=n.boundingTop,t=n.boundingHeight,{left:r,top:i,height:t}},t.prototype.getOffset=function(t){var n,r,i;return n=this.$inputor,a.selection?(r=this.getIEOffset(t),r.top+=e(l).scrollTop()+n.scrollTop(),r.left+=e(l).scrollLeft()+n.scrollLeft(),r):(r=n.offset(),i=this.getPosition(t),r={left:r.left+i.left-n.scrollLeft(),top:r.top+i.top-n.scrollTop(),height:i.height})},t.prototype.getPosition=function(e){var t,n,i,o,a,s;return t=this.$inputor,i=function(e){return e=e.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(e=e.replace(/\s/g,"&nbsp;")),e},void 0===e&&(e=this.getPos()),s=t.val().slice(0,e),n=t.val().slice(e),o="<span style='position: relative; display: inline;'>"+i(s)+"</span>",o+="<span id='caret' style='position: relative; display: inline;'>|</span>",o+="<span style='position: relative; display: inline;'>"+i(n)+"</span>",a=new r(t),a.create(o).rect()},t.prototype.getIEPosition=function(e){var t,n,r,i,o;return r=this.getIEOffset(e),n=this.$inputor.offset(),i=r.left-n.left,o=r.top-n.top,t=r.height,{left:i,top:o,height:t}},t}(),r=function(){function t(e){this.$inputor=e}return t.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],t.prototype.mirrorCss=function(){var t,n=this;return t={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),e.each(this.css_attr,function(e,r){return t[r]=n.$inputor.css(r)}),t},t.prototype.create=function(t){return this.$mirror=e("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(t),this.$inputor.after(this.$mirror),this},t.prototype.rect=function(){var e,t,n;return e=this.$mirror.find("#caret"),t=e.position(),n={left:t.left,top:t.top,height:e.height()},this.$mirror.remove(),n},t}(),i={contentEditable:function(e){return!(!e[0].contentEditable||"true"!==e[0].contentEditable)}},o={pos:function(e){return e||0===e?this.setPos(e):this.getPos()},position:function(e){return a.selection?this.getIEPosition(e):this.getPosition(e)},offset:function(e){return this.getOffset(e)}},a=null,l=null,s=null,p=function(e){var t;return(t=null!=e?e.iframe:void 0)?(s=t,l=t.contentWindow,a=t.contentDocument||l.document):(s=void 0,l=window,a=document)},function(e){a=e[0].ownerDocument,l=a.defaultView||a.parentWindow;try{return s=l.frameElement}catch(e){e}},e.fn.caret=function(r,a,s){var l;return o[r]?(e.isPlainObject(a)?(p(a),a=void 0):p(s),l=i.contentEditable(this)?new t(this):new n(this),o[r].apply(l,[a])):e.error("Method "+r+" does not exist on jQuery.caret")},e.fn.caret.EditableCaret=t,e.fn.caret.InputCaret=n,e.fn.caret.Utils=i,e.fn.caret.apis=o})},1907:function(e,t,n){var r,i,o;!function(a){i=[n(245)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n,r=0;null!=(n=t[r]);r++)try{e(n).triggerHandler("remove")}catch(e){}i(t)},e.widget=function(t,n,r){var i,o,a,s,l={},p=t.split(".")[0];t=t.split(".")[1],i=p+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[p]=e[p]||{},o=e[p][t],a=e[p][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(r,function(t,r){if(!e.isFunction(r))return void(l[t]=r);l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}()}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix:t},l,{constructor:a,namespace:p,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var i,o,a=r.call(arguments,1),s=0,l=a.length;s<l;s++)for(i in a[s])o=a[s][i],a[s].hasOwnProperty(i)&&o!==t&&(e.isPlainObject(o)?n[i]=e.isPlainObject(n[i])?e.widget.extend({},n[i],o):e.widget.extend({},o):n[i]=o);return n},e.widget.bridge=function(n,i){var o=i.prototype.widgetFullName||n;e.fn[n]=function(a){var s="string"==typeof a,l=r.call(arguments,1),p=this;return a=!s&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,s?this.each(function(){var r,i=e.data(this,o);return i?e.isFunction(i[a])&&"_"!==a.charAt(0)?(r=i[a].apply(i,l),r!==i&&r!==t?(p=r&&r.jquery?p.pushStack(r.get()):r,!1):void 0):e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new i(a,this))}),p}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i,o,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},i=n.split("."),n=i.shift(),i.length){for(o=s[n]=e.widget.extend({},this.options[n]),a=0;a<i.length-1;a++)o[i[a]]=o[i[a]]||{},o=o[i[a]];if(n=i.pop(),r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];s[n]=r}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=r.match(/^(\w+)\s*(.*)$/),p=l[1]+o.eventNamespace,u=l[2];u?i.delegate(u,p,s):n.bind(p,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?!0===i||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}})})},1910:function(e,t,n){var r;!function(i){function o(e,t,n,r,i){this._listener=t,this._isOnce=n,this.context=r,this._signal=e,this._priority=i||0}function a(e,t){if("function"!=typeof e)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function s(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){s.prototype.dispatch.apply(e,arguments)}}o.prototype={active:!0,params:null,execute:function(e){var t;return this.active&&this._listener&&(e=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,e),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},s.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,t,n,r){var i=this._indexOfListener(e,n);if(-1!==i){if(e=this._bindings[i],e.isOnce()!==t)throw Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else e=new o(this,e,t,n,r),this._addBinding(e);return this.memorize&&this._prevParams&&e.execute(this._prevParams),e},_addBinding:function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,r=this._bindings.length;r--;)if(n=this._bindings[r],n._listener===e&&n.context===t)return r;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,n){return a(e,"add"),this._registerListener(e,!1,t,n)},addOnce:function(e,t,n){return a(e,"addOnce"),this._registerListener(e,!0,t,n)},remove:function(e,t){a(e,"remove");var n=this._indexOfListener(e,t);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,n=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=n),r){t=this._bindings.slice(),this._shouldPropagate=!0;do{r--}while(t[r]&&this._shouldPropagate&&!1!==t[r].execute(n))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var l=s;l.Signal=s,void 0!==(r=function(){return l}.call(t,n,t,e))&&(e.exports=r)}()},1912:function(e,t,n){(function(r){var i,o,a;/*! Select2 4.0.2 | https://github.com/select2/select2/blob/master/LICENSE.md */!function(r){o=[n(245)],i=r,void 0!==(a="function"==typeof i?i.apply(t,o):i)&&(e.exports=a)}(function(t){var n=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var n=t.fn.select2.amd;var n;return function(){if(!n||!n.requirejs){n?t=n:n={};var e,t,r;!function(n){function i(e,t){return w.call(e,t)}function o(e,t){var n,r,i,o,a,s,l,p,u,d,c,f=t&&t.split("/"),h=b.map,m=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),a=e.length-1,b.nodeIdCompat&&T.test(e[a])&&(e[a]=e[a].replace(T,"")),e=f.slice(0,f.length-1).concat(e),u=0;u<e.length;u+=1)if("."===(c=e[u]))e.splice(u,1),u-=1;else if(".."===c){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||m)&&h){for(n=e.split("/"),u=n.length;u>0;u-=1){if(r=n.slice(0,u).join("/"),f)for(d=f.length;d>0;d-=1)if((i=h[f.slice(0,d).join("/")])&&(i=i[r])){o=i,s=u;break}if(o)break;!l&&m&&m[r]&&(l=m[r],p=u)}!o&&l&&(o=l,s=p),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function a(e,t){return function(){var r=k.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),f.apply(n,r.concat([e,t]))}}function s(e){return function(t){return o(t,e)}}function l(e){return function(t){g[e]=t}}function p(e){if(i(y,e)){var t=y[e];delete y[e],v[e]=!0,c.apply(n,t)}if(!i(g,e)&&!i(v,e))throw new Error("No "+e);return g[e]}function u(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return b&&b.config&&b.config[e]||{}}}var c,f,h,m,g={},y={},b={},v={},w=Object.prototype.hasOwnProperty,k=[].slice,T=/\.js$/;h=function(e,t){var n,r=u(e),i=r[0];return e=r[1],i&&(i=o(i,t),n=p(i)),i?e=n&&n.normalize?n.normalize(e,s(t)):o(e,t):(e=o(e,t),r=u(e),i=r[0],e=r[1],i&&(n=p(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},m={require:function(e){return a(e)},exports:function(e){var t=g[e];return void 0!==t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:d(e)}}},c=function(e,t,r,o){var s,u,d,c,f,b,w=[],k=typeof r;if(o=o||e,"undefined"===k||"function"===k){for(t=!t.length&&r.length?["require","exports","module"]:t,f=0;f<t.length;f+=1)if(c=h(t[f],o),"require"===(u=c.f))w[f]=m.require(e);else if("exports"===u)w[f]=m.exports(e),b=!0;else if("module"===u)s=w[f]=m.module(e);else if(i(g,u)||i(y,u)||i(v,u))w[f]=p(u);else{if(!c.p)throw new Error(e+" missing "+u);c.p.load(c.n,a(o,!0),l(u),{}),w[f]=g[u]}d=r?r.apply(g[e],w):void 0,e&&(s&&s.exports!==n&&s.exports!==g[e]?g[e]=s.exports:d===n&&b||(g[e]=d))}else e&&(g[e]=r)},e=t=f=function(e,t,r,i,o){if("string"==typeof e)return m[e]?m[e](t):p(h(e,t).f);if(!e.splice){if(b=e,b.deps&&f(b.deps,b.callback),!t)return;t.splice?(e=t,t=r,r=null):e=n}return t=t||function(){},"function"==typeof r&&(r=i,i=o),i?c(n,e,t,r):setTimeout(function(){c(n,e,t,r)},4),f},f.config=function(e){return f(e)},e._defined=g,r=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),i(g,e)||i(y,e)||(y[e]=[e,t,n])},r.amd={jQuery:!0}}(),n.requirejs=e,n.require=t,n.define=r}}(),n.define("almond",function(){}),n.define("jquery",[],function(){var e=t||r;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),n.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var r in t){"function"==typeof t[r]&&"constructor"!==r&&n.push(r)}return n}var n={};n.Extend=function(e,t){function n(){this.constructor=e}var r={}.hasOwnProperty;for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},n.Decorate=function(e,n){function r(){var t=Array.prototype.unshift,r=n.prototype.constructor.length,i=e.prototype.constructor;r>0&&(t.call(arguments,e.prototype.constructor),i=n.prototype.constructor),i.apply(this,arguments)}function i(){this.constructor=r}var o=t(n),a=t(e);n.displayName=e.displayName,r.prototype=new i;for(var s=0;s<a.length;s++){var l=a[s];r.prototype[l]=e.prototype[l]}for(var p=0;p<o.length;p++){var u=o[p];r.prototype[u]=function(e){var t=function(){};e in r.prototype&&(t=r.prototype[e]);var i=n.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),i.apply(this,arguments)}}(u)}return r};var r=function(){this.listeners={}};return r.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},r.prototype.trigger=function(e){var t=Array.prototype.slice;this.listeners=this.listeners||{},e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},r.prototype.invoke=function(e,t){for(var n=0,r=e.length;r>n;n++)e[n].apply(this,t)},n.Observable=r,n.generateChars=function(e){for(var t="",n=0;e>n;n++){t+=Math.floor(36*Math.random()).toString(36)}return t},n.bind=function(e,t){return function(){e.apply(t,arguments)}},n._convertData=function(e){for(var t in e){var n=t.split("-"),r=e;if(1!==n.length){for(var i=0;i<n.length;i++){var o=n[i];o=o.substring(0,1).toLowerCase()+o.substring(1),o in r||(r[o]={}),i==n.length-1&&(r[o]=e[t]),r=r[o]}delete e[t]}}return e},n.hasScroll=function(t,n){var r=e(n),i=n.style.overflowX,o=n.style.overflowY;return(i!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===i||"scroll"===o||(r.innerHeight()<n.scrollHeight||r.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},n.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var r=e();e.map(n,function(e){r=r.add(e)}),n=r}t.append(n)},n}),n.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,r){this.$element=e,this.data=r,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var r=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(t.message);r.append(n(i(t.args))),r[0].className+=" select2-results__message",this.$results.append(r)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var r=e.results[n],i=this.option(r);t.push(i)}this.$results.append(t)},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.setClasses=function(){var t=this;this.data.current(function(n){var r=e.map(n,function(e){return e.id.toString()}),i=t.$results.find(".select2-results__option[aria-selected]");i.each(function(){var t=e(this),n=e.data(this,"data"),i=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(i,r)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")});var o=i.filter("[aria-selected=true]");o.length>0?o.first().trigger("mouseenter"):i.first().trigger("mouseenter")})},n.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:t(e)},r=this.option(n);r.className+=" loading-results",this.$results.prepend(r)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var r={role:"treeitem","aria-selected":"false"};t.disabled&&(delete r["aria-selected"],r["aria-disabled"]="true"),null==t.id&&delete r["aria-selected"],null!=t._resultId&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(r.role="group",r["aria-label"]=t.text,delete r["aria-selected"]);for(var i in r){var o=r[i];n.setAttribute(i,o)}if(t.children){var a=e(n),s=document.createElement("strong");s.className="select2-results__group",e(s),this.template(t,s);for(var l=[],p=0;p<t.children.length;p++){var u=t.children[p],d=this.option(u);l.push(d)}var c=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});c.append(l),a.append(s),a.append(c)}else this.template(t,n);return e.data(n,"data",t),n},n.prototype.bind=function(t,n){var r=this,i=t.id+"-results";this.$results.attr("id",i),t.on("results:all",function(e){r.clear(),r.append(e.data),t.isOpen()&&r.setClasses()}),t.on("results:append",function(e){r.append(e.data),t.isOpen()&&r.setClasses()}),t.on("query",function(e){r.hideMessages(),r.showLoading(e)}),t.on("select",function(){t.isOpen()&&r.setClasses()}),t.on("unselect",function(){t.isOpen()&&r.setClasses()}),t.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),t.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=r.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=r.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),n=t.index(e);if(0!==n){var i=n-1;0===e.length&&(i=0);var o=t.eq(i);o.trigger("mouseenter");var a=r.$results.offset().top,s=o.offset().top,l=r.$results.scrollTop()+(s-a);0===i?r.$results.scrollTop(0):0>s-a&&r.$results.scrollTop(l)}}),t.on("results:next",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),n=t.index(e),i=n+1;if(!(i>=t.length)){var o=t.eq(i);o.trigger("mouseenter");var a=r.$results.offset().top+r.$results.outerHeight(!1),s=o.offset().top+o.outerHeight(!1),l=r.$results.scrollTop()+s-a;0===i?r.$results.scrollTop(0):s>a&&r.$results.scrollTop(l)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){r.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=r.$results.scrollTop(),n=r.$results.get(0).scrollHeight-t+e.deltaY,i=e.deltaY>0&&t-e.deltaY<=0,o=e.deltaY<0&&n<=r.$results.height();i?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var n=e(this),i=n.data("data");return"true"===n.attr("aria-selected")?void(r.options.get("multiple")?r.trigger("unselect",{originalEvent:t,data:i}):r.trigger("close",{})):void r.trigger("select",{originalEvent:t,data:i})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var n=e(this).data("data");r.getHighlightedResults().removeClass("select2-results__option--highlighted"),r.trigger("results:focus",{data:n,element:e(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),n=t.index(e),r=this.$results.offset().top,i=e.offset().top,o=this.$results.scrollTop()+(i-r),a=i-r;o-=2*e.outerHeight(!1),2>=n?this.$results.scrollTop(0):(a>this.$results.outerHeight()||0>a)&&this.$results.scrollTop(o)}},n.prototype.template=function(t,n){var r=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),o=r(t,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=i(o):e(n).append(o)},n}),n.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),n.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},r.prototype.bind=function(e,t){var r=this,i=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){r.trigger("focus",e)}),this.$selection.on("blur",function(e){r._handleBlur(e)}),this.$selection.on("keydown",function(e){r.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){r.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){r.update(e.data)}),e.on("open",function(){r.$selection.attr("aria-expanded","true"),r.$selection.attr("aria-owns",i),r._attachCloseHandler(e)}),e.on("close",function(){r.$selection.attr("aria-expanded","false"),r.$selection.removeAttr("aria-activedescendant"),r.$selection.removeAttr("aria-owns"),r.$selection.focus(),r._detachCloseHandler(e)}),e.on("enable",function(){r.$selection.attr("tabindex",r._tabindex)}),e.on("disable",function(){r.$selection.attr("tabindex","-1")})},r.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},r.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var n=e(t.target),r=n.closest(".select2");e(".select2.select2-container--open").each(function(){var t=e(this);this!=r[0]&&t.data("element").select2("close")})})},r.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(e,t){t.find(".selection").append(e)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},r}),n.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,r){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},i.prototype.bind=function(e,t){var n=this;i.__super__.bind.apply(this,arguments);var r=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r),this.$selection.attr("aria-labelledby",r),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("selection:update",function(e){n.update(e.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e("<span></span>")},i.prototype.update=function(e){if(0===e.length)return void this.clear();var t=e[0],n=this.$selection.find(".select2-selection__rendered"),r=this.display(t,n);n.empty().append(r),n.prop("title",t.title||t.text)},i}),n.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function r(e,t){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},r.prototype.bind=function(t,n){var i=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){i.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!i.options.get("disabled")){var n=e(this),r=n.parent(),o=r.data("data");i.trigger("unselect",{originalEvent:t,data:o})}})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},r.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],r=0;r<e.length;r++){var i=e[r],o=this.selectionContainer(),a=this.display(i,o);o.append(a),o.prop("title",i.title||i.text),o.data("data",i),t.push(o)}var s=this.$selection.find(".select2-selection__rendered");n.appendMany(s,t)}},r}),n.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||n)return e.call(this,t);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},t}),n.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function n(){}return n.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){r._handleClear(e)}),t.on("keypress",function(e){r._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var r=n.data("data"),i=0;i<r.length;i++){var o={data:r[i]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(e,n,r){r.isOpen()||(n.which==t.DELETE||n.which==t.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var r=e('<span class="select2-selection__clear">&times;</span>');r.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(r)}},n}),n.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function r(e,t,n){e.call(this,t,n)}return r.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var r=t.call(this);return this._transferTabIndex(),r},r.prototype.bind=function(e,t,r){var i=this;e.call(this,t,r),t.on("open",function(){i.$search.trigger("focus")}),t.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),t.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),t.on("disable",function(){i.$search.prop("disabled",!0)}),t.on("focus",function(e){i.$search.trigger("focus")}),t.on("results:focus",function(e){i.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===i.$search.val()){var t=i.$searchContainer.prev(".select2-selection__choice");if(t.length>0){var r=t.data("data");i.searchRemoveChoice(r),e.preventDefault()}}});var o=document.documentMode,a=o&&11>=o;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){return a?void i.$selection.off("input.search input.searchcheck"):void i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(a&&"input"===e.type)return void i.$selection.off("input.search input.searchcheck");var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&i.handleSearch(e)})},r.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},r.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").innerWidth();else{e=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",e)},r}),n.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,r){var i=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];t.call(this,n,r),n.on("*",function(t,n){if(-1!==e.inArray(t,o)){n=n||{};var r=e.Event("select2:"+t,{params:n});i.$element.trigger(r),-1!==e.inArray(t,a)&&(n.prevented=r.isDefaultPrevented())}})},t}),n.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var r=t(e);n._cache[e]=r}return new n(n._cache[e])},n}),n.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"}}),n.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var r=t.id+"-result-";return r+=e.generateChars(4),r+=null!=n.id?"-"+n.id.toString():"-"+e.generateChars(4)},t}),n.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,e),r.prototype.current=function(e){var t=[],r=this;this.$element.find(":selected").each(function(){var e=n(this),i=r.item(e);t.push(i)}),e(t)},r.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(r){var i=[];e=[e],e.push.apply(e,r);for(var o=0;o<e.length;o++){var a=e[o].id;-1===n.inArray(a,i)&&i.push(a)}t.$element.val(i),t.$element.trigger("change")});else{var r=e.id;this.$element.val(r),this.$element.trigger("change")}},r.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple"))return e.selected=!1,n(e.element).is("option")?(e.element.selected=!1,void this.$element.trigger("change")):void this.current(function(r){for(var i=[],o=0;o<r.length;o++){var a=r[o].id;a!==e.id&&-1===n.inArray(a,i)&&i.push(a)}t.$element.val(i),t.$element.trigger("change")})},r.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},r.prototype.query=function(e,t){var r=[],i=this;this.$element.children().each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var o=i.item(t),a=i.matches(e,o);null!==a&&r.push(a)}}),t({results:r})},r.prototype.addOptions=function(e){t.appendMany(this.$element,e)},r.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup"),t.label=e.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=e.text:t.innerText=e.text),e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var r=n(t),i=this._normalizeItem(e);return i.element=t,n.data(t,"data",i),r},r.prototype.item=function(e){var t={};if(null!=(t=n.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var r=e.children("option"),i=[],o=0;o<r.length;o++){var a=n(r[o]),s=this.item(a);i.push(s)}t.children=i}return t=this._normalizeItem(t),t.element=e[0],n.data(e[0],"data",t),t},r.prototype._normalizeItem=function(e){n.isPlainObject(e)||(e={id:e,text:e}),e=n.extend({},{text:""},e);var t={selected:!1,disabled:!1};return null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},t,e)},r.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},r}),n.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function r(e,t){var n=t.get("data")||[];r.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(r,e),r.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),r.__super__.select.call(this,e)},r.prototype.convertToOptions=function(e){for(var r=this,i=this.$element.find("option"),o=i.map(function(){return r.item(n(this)).id}).get(),a=[],s=0;s<e.length;s++){var l=this._normalizeItem(e[s]);if(n.inArray(l.id,o)>=0){var p=i.filter(function(e){return function(){return n(this).val()==e.id}}(l)),u=this.item(p),d=n.extend(!0,{},l,u),c=this.option(d);p.replaceWith(c)}else{var f=this.option(l);if(l.children){var h=this.convertToOptions(l.children);t.appendMany(f,h)}a.push(f)}}return a},r}),n.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function r(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),r.__super__.constructor.call(this,e,t)}return t.Extend(r,e),r.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,r){var i=n.ajax(e);return i.then(t),i.fail(r),i}};return n.extend({},t,e,!0)},r.prototype.processResults=function(e){return e},r.prototype.query=function(e,t){function r(){var r=o.transport(o,function(r){var o=i.processResults(r,e);i.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(o)},function(){i.trigger("results:message",{message:"errorLoading"})});i._request=r}var i=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,e)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,e)),this.ajaxOptions.delay&&""!==e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(r,this.ajaxOptions.delay)):r()},r}),n.define("select2/data/tags",["jquery"],function(e){function t(t,n,r){var i=r.get("tags"),o=r.get("createTag");void 0!==o&&(this.createTag=o);var a=r.get("insertTag");if(void 0!==a&&(this.insertTag=a),t.call(this,n,r),e.isArray(i))for(var s=0;s<i.length;s++){var l=i[s],p=this._normalizeItem(l),u=this.option(p);this.$element.append(u)}}return t.prototype.query=function(e,t,n){function r(e,o){for(var a=e.results,s=0;s<a.length;s++){var l=a[s],p=null!=l.children&&!r({results:l.children},!0);if(l.text===t.term||p)return!o&&(e.data=a,void n(e))}if(o)return!0;var u=i.createTag(t);if(null!=u){var d=i.option(u);d.attr("data-select2-tag",!0),i.addOptions([d]),i.insertTag(a,u)}e.results=a,n(e)}var i=this;return this._removeOldTags(),null==t.term||null!=t.page?void e.call(this,t,n):void e.call(this,t,r)},t.prototype.createTag=function(t,n){var r=e.trim(n.term);return""===r?null:{id:r,text:r}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||e(this).remove()})},t}),n.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var r=n.get("tokenizer");void 0!==r&&(this.tokenizer=r),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(e,t,n){function r(e){i.trigger("select",{data:e})}var i=this;t.term=t.term||"";var o=this.tokenizer(t,this.options,r);o.term!==t.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.focus()),t.term=o.term),e.call(this,t,n)},t.prototype.tokenizer=function(t,n,r,i){for(var o=r.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};s<a.length;){var p=a[s];if(-1!==e.inArray(p,o)){var u=a.substr(0,s),d=e.extend({},n,{term:u}),c=l(d);null!=c?(i(c),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},t}),n.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),n.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),n.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var r=this;this.current(function(i){var o=null!=i?i.length:0;return r.maximumSelectionLength>0&&o>=r.maximumSelectionLength?void r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):void e.call(r,t,n)})},e}),n.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),n.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),r=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=r,this.$search=r.find("input"),n.prepend(r),n},n.prototype.bind=function(t,n,r){var i=this;t.call(this,n,r),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),n.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),n.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val("")}),n.on("results:all",function(e){if(null==e.query.term||""===e.query.term){i.showSearch(e)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide")}})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),n.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,r){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,r)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),r=t.length-1;r>=0;r--){var i=t[r];this.placeholder.id===i.id&&n.splice(r,1)}return n},e}),n.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,r){this.lastParams={},e.call(this,t,n,r),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,n,r){var i=this;t.call(this,n,r),n.on("query",function(e){i.lastParams=e,i.loading=!0}),n.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,i.$loadingMore[0]);if(!i.loading&&t){i.$results.offset().top+i.$results.outerHeight(!1)+50>=i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1)&&i.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),n.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,r){this.$dropdownParent=r.get("dropdownParent")||e(document.body),t.call(this,n,r)}return n.prototype.bind=function(e,t,n){var r=this,i=!1;e.call(this,t,n),t.on("open",function(){r._showDropdown(),r._attachPositioningHandler(t),i||(i=!0,t.on("results:all",function(){r._positionDropdown(),r._resizeDropdown()}),t.on("results:append",function(){r._positionDropdown(),r._resizeDropdown()}))}),t.on("close",function(){r._hideDropdown(),r._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),r=t.call(this);return n.append(r),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,r){var i=this,o="scroll.select2."+r.id,a="resize.select2."+r.id,s="orientationchange.select2."+r.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(o,function(t){var n=e(this).data("select2-scroll-position");e(this).scrollTop(n.y)}),e(window).on(o+" "+a+" "+s,function(e){i._positionDropdown(),i._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,r){var i="scroll.select2."+r.id,o="resize.select2."+r.id,a="orientationchange.select2."+r.id;this.$container.parents().filter(t.hasScroll).off(i),e(window).off(i+" "+o+" "+a)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),r=this.$dropdown.hasClass("select2-dropdown--below"),i=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=o.top,a.bottom=o.top+a.height;var s={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},p=l.top<o.top-s.height,u=l.bottom>o.bottom+s.height,d={left:o.left,top:a.bottom},c=this.$dropdownParent;"static"===c.css("position")&&(c=c.offsetParent());var f=c.offset();d.top-=f.top,d.left-=f.left,n||r||(i="below"),u||!p||n?!p&&u&&n&&(i="below"):i="above",("above"==i||n&&"below"!==i)&&(d.top=a.top-s.height),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),n.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var n=0,r=0;r<t.length;r++){var i=t[r];i.children?n+=e(i.children):n++}return n}function t(e,t,n,r){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,r)}return t.prototype.showSearch=function(t,n){return!(e(n.data.results)<this.minimumResultsForSearch)&&t.call(this,n)},t}),n.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("close",function(){r._handleSelectOnClose()})},e.prototype._handleSelectOnClose=function(){var e=this.getHighlightedResults();if(!(e.length<1)){var t=e.data("data");null!=t.element&&t.element.selected||null==t.element&&t.selected||this.trigger("select",{data:t})}},e}),n.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",function(e){r._selectTriggered(e)}),t.on("unselect",function(e){r._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{})},e}),n.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),n.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,r,i,o,a,s,l,p,u,d,c,f,h,m,g,y,b,v,w,k,T,I,C,x,S,j,O){function P(){this.reset()}return P.prototype.apply=function(d){if(d=e.extend(!0,{},this.defaults,d),null==d.dataAdapter){if(null!=d.ajax?d.dataAdapter=h:null!=d.data?d.dataAdapter=f:d.dataAdapter=c,d.minimumInputLength>0&&(d.dataAdapter=p.Decorate(d.dataAdapter,y)),d.maximumInputLength>0&&(d.dataAdapter=p.Decorate(d.dataAdapter,b)),d.maximumSelectionLength>0&&(d.dataAdapter=p.Decorate(d.dataAdapter,v)),d.tags&&(d.dataAdapter=p.Decorate(d.dataAdapter,m)),(null!=d.tokenSeparators||null!=d.tokenizer)&&(d.dataAdapter=p.Decorate(d.dataAdapter,g)),null!=d.query){var O=t(d.amdBase+"compat/query");d.dataAdapter=p.Decorate(d.dataAdapter,O)}if(null!=d.initSelection){var P=t(d.amdBase+"compat/initSelection");d.dataAdapter=p.Decorate(d.dataAdapter,P)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=p.Decorate(d.resultsAdapter,I)),null!=d.placeholder&&(d.resultsAdapter=p.Decorate(d.resultsAdapter,T)),d.selectOnClose&&(d.resultsAdapter=p.Decorate(d.resultsAdapter,S))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var _=p.Decorate(w,k);d.dropdownAdapter=_}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=p.Decorate(d.dropdownAdapter,x)),d.closeOnSelect&&(d.dropdownAdapter=p.Decorate(d.dropdownAdapter,j)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var D=t(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=p.Decorate(d.dropdownAdapter,D)}d.dropdownAdapter=p.Decorate(d.dropdownAdapter,C)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=i:d.selectionAdapter=r,null!=d.placeholder&&(d.selectionAdapter=p.Decorate(d.selectionAdapter,o)),d.allowClear&&(d.selectionAdapter=p.Decorate(d.selectionAdapter,a)),d.multiple&&(d.selectionAdapter=p.Decorate(d.selectionAdapter,s)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var A=t(d.amdBase+"compat/containerCss");d.selectionAdapter=p.Decorate(d.selectionAdapter,A)}d.selectionAdapter=p.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var E=d.language.split("-"),M=E[0];d.language=[d.language,M]}else d.language=[d.language];if(e.isArray(d.language)){var L=new u;d.language.push("en");for(var U=d.language,F=0;F<U.length;F++){var N=U[F],R={};try{R=u.loadPath(N)}catch(e){try{N=this.defaults.amdLanguageBase+N,R=u.loadPath(N)}catch(e){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+N+'" could not be automatically loaded. A fallback will be used instead.');continue}}L.extend(R)}d.translations=L}else{var $=u.loadPath(this.defaults.amdLanguageBase+"en"),B=new u(d.language);B.extend($),d.translations=B}return d},P.prototype.reset=function(){function t(e){function t(e){return d[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(r,i){if(""===e.trim(r.term))return i;if(i.children&&i.children.length>0){for(var o=e.extend(!0,{},i),a=i.children.length-1;a>=0;a--){null==n(r,i.children[a])&&o.children.splice(a,1)}return o.children.length>0?o:n(r,o)}var s=t(i.text).toUpperCase(),l=t(r.term).toUpperCase();return s.indexOf(l)>-1?i:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:p.escapeMarkup,language:O,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},P.prototype.set=function(t,n){var r=e.camelCase(t),i={};i[r]=n;var o=p._convertData(i);e.extend(this.defaults,o)},new P}),n.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,r){function i(t,i){if(this.options=t,null!=i&&this.fromElement(i),this.options=n.apply(this.options),i&&i.is("input")){var o=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,o)}}return i.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var i={};i=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var o=t.extend(!0,{},i);o=r._convertData(o);for(var a in o)t.inArray(a,n)>-1||(t.isPlainObject(this.options[a])?t.extend(this.options[a],o[a]):this.options[a]=o[a]);return this},i.prototype.get=function(e){return this.options[e]},i.prototype.set=function(e,t){this.options[e]=t},i}),n.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,r){var i=function(e,n){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),i.__super__.constructor.call(this);var r=e.attr("tabindex")||0;e.data("old-tabindex",r),e.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(e,this.options);var a=this.render();this._placeContainer(a);var s=this.options.get("selectionAdapter");this.selection=new s(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var p=this.options.get("resultsAdapter");this.results=new p(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){u.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(i,n.Observable),i.prototype._generateId=function(e){var t="";return t=null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t},i.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},i.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var r=this._resolveWidth(e,"style");return null!=r?r:this._resolveWidth(e,"element")}if("element"==t){var i=e.outerWidth(!1);return 0>=i?"auto":i+"px"}if("style"==t){var o=e.attr("style");if("string"!=typeof o)return null;for(var a=o.split(";"),s=0,l=a.length;l>s;s+=1){var p=a[s].replace(/\s/g,""),u=p.match(n);if(null!==u&&u.length>=1)return u[1]}return null}return t},i.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},i.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this._sync=n.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=r?(this._observer=new r(function(n){e.each(n,t._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",t._sync,!1)},i.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(r,i){-1===e.inArray(r,n)&&t.trigger(r,i)})},i.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===r.ESC||n===r.TAB||n===r.UP&&t.altKey?(e.close(),t.preventDefault()):n===r.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===r.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===r.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===r.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===r.ENTER||n===r.SPACE||n===r.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},i.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},i.prototype.trigger=function(e,t){var n=i.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in r){var o=r[e],a={prevented:!1,name:e,args:t};if(n.call(this,o,a),a.prevented)return void(t.prevented=!0)}n.call(this,e,t)},i.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},i.prototype.open=function(){this.isOpen()||this.trigger("query",{})},i.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},i.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},i.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},i.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},i.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==e||0===e.length)&&(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},i.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},i.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},i.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},i.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},i}),n.define("select2/compat/utils",["jquery"],function(e){function t(t,n,r){var i,o,a=[];i=e.trim(t.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&a.push(this)})),i=e.trim(n.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(o=r(this))&&a.push(o)})),t.attr("class",a.join(" "))}return{syncCssClasses:t}}),n.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function n(e){return null}function r(){}return r.prototype.render=function(r){var i=r.call(this),o=this.options.get("containerCssClass")||"";e.isFunction(o)&&(o=o(this.$element));var a=this.options.get("adaptContainerCssClass");if(a=a||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var s=a;a=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("containerCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(i,this.$element,a),i.css(l),i.addClass(o),i},r}),n.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function n(e){return null}function r(){}return r.prototype.render=function(r){var i=r.call(this),o=this.options.get("dropdownCssClass")||"";e.isFunction(o)&&(o=o(this.$element));var a=this.options.get("adaptDropdownCssClass");if(a=a||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var s=a;a=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("dropdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(i,this.$element,a),i.css(l),i.addClass(o),i},r}),n.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return t.prototype.current=function(t,n){var r=this;return this._isInitialized?void t.call(this,n):void this.initSelection.call(null,this.$element,function(t){r._isInitialized=!0,e.isArray(t)||(t=[t]),n(t)})},t}),n.define("select2/compat/inputData",["jquery"],function(e){function t(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===t.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return t.prototype.current=function(t,n){function r(t,n){var i=[];return t.selected||-1!==e.inArray(t.id,n)?(t.selected=!0,i.push(t)):t.selected=!1,t.children&&i.push.apply(i,r(t.children,n)),i}for(var i=[],o=0;o<this._currentData.length;o++){var a=this._currentData[o];i.push.apply(i,r(a,this.$element.val().split(this._valueSeparator)))}n(i)},t.prototype.select=function(t,n){if(this.options.get("multiple")){var r=this.$element.val();r+=this._valueSeparator+n.id,this.$element.val(r),this.$element.trigger("change")}else this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},t.prototype.unselect=function(e,t){var n=this;t.selected=!1,this.current(function(e){for(var r=[],i=0;i<e.length;i++){var o=e[i];t.id!=o.id&&r.push(o.id)}n.$element.val(r.join(n._valueSeparator)),n.$element.trigger("change")})},t.prototype.query=function(e,t,n){for(var r=[],i=0;i<this._currentData.length;i++){var o=this._currentData[i],a=this.matches(t,o);null!==a&&r.push(a)}n({results:r})},t.prototype.addOptions=function(t,n){var r=e.map(n,function(t){return e.data(t[0],"data")});this._currentData.push.apply(this._currentData,r)},t}),n.define("select2/compat/matcher",["jquery"],function(e){function t(t){function n(n,r){var i=e.extend(!0,{},r);if(null==n.term||""===e.trim(n.term))return i;if(r.children){for(var o=r.children.length-1;o>=0;o--){var a=r.children[o];t(n.term,a.text,a)||i.children.splice(o,1)}if(i.children.length>0)return i}return t(n.term,r.text,r)?i:null}return n}return t}),n.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n,this.options.get("query").call(null,t)},e}),n.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){n.find(".dropdown-wrapper").append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),n.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var r=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(r.join(" "),function(e){e.stopPropagation()})},e}),n.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var r=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(r.join(" "),function(e){e.stopPropagation()})},e}),function(t){"function"==typeof n.define&&n.define.amd?n.define("jquery-mousewheel",["jquery"],t):e.exports=t}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),p=0,d=0,c=0,f=0,h=0,m=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(c=-1*a.detail),"wheelDelta"in a&&(c=a.wheelDelta),"wheelDeltaY"in a&&(c=a.wheelDeltaY),"wheelDeltaX"in a&&(d=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(d=-1*c,c=0),p=0===c?d:c,"deltaY"in a&&(c=-1*a.deltaY,p=c),"deltaX"in a&&(d=a.deltaX,0===c&&(p=-1*d)),0!==c||0!==d){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");p*=g,c*=g,d*=g}else if(2===a.deltaMode){var y=e.data(this,"mousewheel-page-height");p*=y,c*=y,d*=y}if(f=Math.max(Math.abs(c),Math.abs(d)),(!o||o>f)&&(o=f,r(a,f)&&(o/=40)),r(a,f)&&(p/=40,d/=40,c/=40),p=Math[p>=1?"floor":"ceil"](p/o),d=Math[d>=1?"floor":"ceil"](d/o),c=Math[c>=1?"floor":"ceil"](c/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();h=t.clientX-b.left,m=t.clientY-b.top}return t.deltaX=d,t.deltaY=c,t.deltaFactor=o,t.offsetX=h,t.offsetY=m,t.deltaMode=0,s.unshift(t,p,d,c),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){o=null}function r(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var i,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var p=a.length;p;)e.event.fixHooks[a[--p]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),n.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,n,r){if(null==e.fn.select2){var i=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var r=e.extend(!0,{},t);new n(e(this),r)}),this;if("string"==typeof t){var r;return this.each(function(){var n=e(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2.");var i=Array.prototype.slice.call(arguments,1);r=n[t].apply(n,i)}),e.inArray(t,i)>-1?this:r}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=r),n}),{define:n.define,require:n.require}}(),i=n.require("jquery.select2");return t.fn.select2.amd=n,i})}).call(t,n(245))},1913:function(module,exports,__webpack_require__){(function(jQuery){!function(){var e=!1;window.JQClass=function(){},JQClass.classes={},JQClass.extend=function t(n){function r(){!e&&this._init&&this._init.apply(this,arguments)}var i=this.prototype;e=!0;var o=new this;e=!1;for(var a in n)o[a]="function"==typeof n[a]&&"function"==typeof i[a]?function(e,t){return function(){var n=this._super;this._super=function(t){return i[e].apply(this,t||[])};var r=t.apply(this,arguments);return this._super=n,r}}(a,n[a]):n[a];return r.prototype=o,r.prototype.constructor=r,r.extend=t,r}}(),function($){function camelCase(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var e=camelCase(this.name);$[e]=this,$.fn[e]=function(t){var n=Array.prototype.slice.call(arguments,1);return $[e]._isNotChained(t,n)?$[e][t].apply($[e],[this[0]].concat(n)):this.each(function(){if("string"==typeof t){if("_"===t[0]||!$[e][t])throw"Unknown method: "+t;$[e][t].apply($[e],[this].concat(n))}else $[e]._attach(this,t)})}},setDefaults:function(e){$.extend(this.defaultOptions,e||{})},_isNotChained:function(e,t){return"option"===e&&(0===t.length||1===t.length&&"string"==typeof t[0])||$.inArray(e,this._getters)>-1},_attach:function(e,t){if(e=$(e),!e.hasClass(this._getMarker())){e.addClass(this._getMarker()),t=$.extend({},this.defaultOptions,this._getMetadata(e),t||{});var n=$.extend({name:this.name,elem:e,options:t},this._instSettings(e,t));e.data(this.name,n),this._postAttach(e,n),this.option(e,t)}},_instSettings:function(e,t){return{}},_postAttach:function(e,t){},_getMetadata:function(d){try{var f=d.data(this.name.toLowerCase())||"";f=f.replace(/'/g,'"'),f=f.replace(/([a-zA-Z0-9]+):/g,function(e,t,n){var r=f.substring(0,n).match(/"/g);return r&&r.length%2!=0?t+":":'"'+t+'":'}),f=$.parseJSON("{"+f+"}");for(var g in f){var h=f[g];"string"==typeof h&&h.match(/^new Date\((.*)\)$/)&&(f[g]=eval(h))}return f}catch(e){return{}}},_getInst:function(e){return $(e).data(this.name)||{}},option:function(e,t,n){e=$(e);var r=e.data(this.name);if(!t||"string"==typeof t&&null==n){var i=(r||{}).options;return i&&t?i[t]:i}if(e.hasClass(this._getMarker())){var i=t||{};"string"==typeof t&&(i={},i[t]=n),this._optionsChanged(e,r,i),$.extend(r.options,i)}},_optionsChanged:function(e,t,n){},destroy:function(e){e=$(e),e.hasClass(this._getMarker())&&(this._preDestroy(e,this._getInst(e)),e.removeData(this.name).removeClass(this._getMarker()))},_preDestroy:function(e,t){}}),$.JQPlugin={createPlugin:function(e,t){"object"==typeof e&&(t=e,e="JQPlugin"),e=camelCase(e);var n=camelCase(t.name);JQClass.classes[n]=JQClass.classes[e].extend(t),new JQClass.classes[n]}}}(jQuery)}).call(exports,__webpack_require__(245))},1918:function(e,t,n){var r,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=[n(1117),n(1698),n(245),n(1119),n(14),n(401)],void 0!==(i=function(e,t,n,r,i,s){return new(function(t){function s(){return this.handleDuplicateXhr=o(this.handleDuplicateXhr,this),this.form=o(this.form,this),this.delete=o(this.delete,this),this.post=o(this.post,this),this.patch=o(this.patch,this),this.put=o(this.put,this),this.get=o(this.get,this),s.__super__.constructor.apply(this,arguments)}return a(s,t),s.prototype.request=function(t){var o,a,s,l,p,u,d,c,f,h,m,g,y,b,v,w,k,T;return v=t.url,f=t.method,s=t.data,u=t.form,c=t.inOpts,w=!1,null!=u&&u&&(w=!0),a=w?"application/x-www-form-urlencoded; charset=UTF-8":"application/json","/"!==v[0]&&0!==v.indexOf("http")&&(v="/"+v),(null!=c?c.plainText:void 0)&&(a="text/html; charset=UTF-8"),l=!(w||(null!=c?c.plainText:void 0))&&"json",h={url:v,method:f,dataType:l,contentType:a,headers:{twProjectsVer:"2.0","Content-Type":a,"Time-Zone":"undefined"!=typeof app&&null!==app&&null!=(m=app.loggedInUser)&&null!=(g=m.localization)?g.timezoneJavaRefCode():void 0,"Teams-Enabled":!0},emitError:!0},null!=s&&(h.data="get"===f||w?s:JSON.stringify(s),window.devMode&&"string"==typeof h.data&&(h.data=h.data.replace(/\u2063/g,""))),null!=c&&n.extend(h,c),null!=h.longRun&&n.extend(h.headers,{"Long-Run":c.longRun}),null!=("undefined"!=typeof app&&null!==app&&null!=(y=app.loggedInUser)?y.socketId:void 0)&&"get"!==f&&n.extend(h.headers,{"Socket-id":app.loggedInUser.socketId}),"get"===f&&window.initialData&&window.initialData.enabled&&(o=v,(null!=s?s.length:void 0)&&(o+=(-1===v.indexOf("?")?"?":"&")+n.param(s)),initialData[o])?(window.devMode&&console.info("API CACHE FOUND for ",o),b=initialData[o],delete initialData[o],p={getResponseHeader:function(){return null}},d=null==(null!=h?h.camelize:void 0)||h.camelize?r.camelize(b):b,e.resolve({response:d,xhr:p,id:0,lastUpdated:null})):(k=n.ajax(h),(null!=c?c.cancelDuplicates:void 0)&&(T=(null!=c?c.xhrKey:void 0)||f+"_"+v,this.handleDuplicateXhr(T,k)),e.resolve(k).then(function(t){return function(n){var o,a,s,l,p;return a="post"!==f?0:parseInt(k.getResponseHeader("id"),10),s=k.getResponseHeader("X-lastUpdated"),s=s?i(s,"YYYY-MM-DDTHH:mm:ssZ").toDate():null,d=null==(null!=h?h.camelize:void 0)||h.camelize?r.camelize(n):n,o=k.getResponseHeader("appVersionNo"),null!=o&&app.latestAvailableVersion(o),p=k.getResponseHeader("promptBrowserReload"),null!=p&&app.promptBrowserReload(p),l=k.getResponseHeader("outageErrorMessage"),null!=l&&app.outageErrorMessage(l),delete t.xhrs[k.xhrKey],e.resolve({response:d,xhr:k,id:a,lastUpdated:s})}}(this),function(t){return function(n){return n.httpRequestOptions=h,"abort"===n.statusText&&(h.emitError=!1),h.emitError&&t.emit("error",n),e.reject(n)}}(this)))},s.prototype.get=function(e,t,n){return this.request({url:e,data:t,method:"get",inOpts:n})},s.prototype.put=function(e,t,n){return this.request({url:e,data:t,method:"put",inOpts:n})},s.prototype.patch=function(e,t,n){return this.request({url:e,data:t,method:"patch",inOpts:n})},s.prototype.post=function(e,t,n){return this.request({url:e,data:t,method:"post",inOpts:n})},s.prototype.delete=function(e,t,n){return this.request({url:e,data:t,method:"delete",inOpts:n})},s.prototype.form=function(e,t,n,r){return this.request({url:e,data:t,method:n,form:!0,inOpts:r})},s.prototype.handleDuplicateXhr=function(e,t){return null!=this.xhrs[e]?(this.xhrs[e].abort(),delete this.xhrs[t.xhrKey],this.xhrs[e]=t,!1):(this.xhrs[e]=t,!0)},s.prototype.xhrs={},s}(t))}.apply(t,r))&&(e.exports=i)},1920:function(e,t,n){(function(r){var i,o,a=function(e,t){return function(){return e.apply(t,arguments)}};i=[n(164)],void 0!==(o=function(e){var t,n;return n=function(t){return/<script/i.test(e.unwrap(t))?r("<div>").text(e.unwrap(t)).html():t},t=function(){function e(e,t,r,i,o){this.OnClickClose=a(this.OnClickClose,this),this.OnClickButton=a(this.OnClickButton,this),this.OnClick=a(this.OnClick,this),this.Remove=a(this.Remove,this);var s,l,p,u,d,c,f,h,m,g,y,b;this.flash=e,this.type=t,this.title=n(r),this.message=n(i),this.allowMultiple=null!=(l=o.allowMultiple)&&l,this.image=null!=(p=o.image)?p:"",this.backgroundColor=null!=(d=o.backgroundColor)?d:"#ffffff",this.buttonText=null!=(c=o.buttonText)?c:"",this.showButton=null!=(f=o.showButton)&&f,this.showCloseButton=null!=(h=o.showCloseButton)&&h,this.timer=null!=(m=o.timer)?m:app.consts.ALERT.timeout,this.tapToDismiss=null==(g=o.tapToDismiss)||g,null!=o.onClick&&(this.OnClick=o.onClick),o.onClickButton&&(this.OnClickButton=o.onClickButton),o.onCloseCallback&&(this.OnCloseCallback=o.onCloseCallback),this.customTemplate=null!=(y=o.customTemplate)?y:null,this.customTemplateParams=null!=(b=o.customTemplateParams)?b:null,null!=o.undo&&(this.timer=null!=(u=o.timer)?u:app.consts.ALERT.undoTimeout,this.OnClickButton=o.undo,this.showButton=!0,this.buttonText=app.tl("Undo"),this.type="success"),this.cssClass=o.cssClass?o.cssClass:(s=["w-toaster__box--"+this.type],this.image&&s.push("w-toaster__box--has-image"),s.join(" ")),this.timer>0&&setTimeout(this.Remove,this.timer)}return e.prototype.Remove=function(){this.flash.Remove(this)},e.prototype.OnClick=function(){return this.tapToDismiss&&this.Remove(),!0},e.prototype.OnClickButton=function(){return this.tapToDismiss&&this.Remove(),!0},e.prototype.OnClickClose=function(){return this.Remove(),null!=this.OnCloseCallback&&this.OnCloseCallback(),!0},e}(),function(){function n(){this.alerts=e.observableArray(null)}return n.prototype.Info=function(e,t,n){return this.Add("info",e,t,n)},n.prototype.Warn=function(e,t,n){return this.Add("warn",e,t,n)},n.prototype.Success=function(e,t,n){return this.Add("success",e,t,n)},n.prototype.Error=function(e,t,n){return this.Add("error",e,t,n)},n.prototype.Special=function(e,t,n){return this.Add(null,e,t,n)},n.prototype.Add=function(e,n,r,i){var o,a;return null==n&&(n=""),null==r&&(r=""),null==i&&(i={}),null!=r&&"object"==typeof r&&(i=r,r=""),(null!=(a=i.text)?a.length:void 0)&&0===r.length&&(r=i.text),e=e||i.type||"special",o=new t(this,e,n,r,i),o.allowMultiple?this.alerts.push(o):this.alerts([o]),o},n.prototype.Remove=function(e){var t;(t=this.alerts().indexOf(e))>=0&&this.alerts.splice(t,1)},n.prototype.Clear=function(){this.alerts().length>0&&this.alerts([])},n}()}.apply(t,i))&&(e.exports=o)}).call(t,n(245))},1921:function(t,n,r){(function(i,o){var a,s,l=function(e,t){return function(){return e.apply(t,arguments)}};a=[r(164),r(1716)],void 0!==(s=function(t,n,r){return function(){function n(e){this.waitForPasteData=l(this.waitForPasteData,this),this.removeOrAbort=l(this.removeOrAbort,this),this.app=e,this.uploaders=[],i(document).bind("drop dragover",function(e){i("span.ppdt.attach").each(function(e,t){"hidden"!==i(t).css("display")&&i(t).is(":visible")&&i(t).parent().click()})}),i(document).bind("drop",function(e){var t,n,r,o;null!==e.originalEvent.dataTransfer&&(e.originalEvent.dataTransfer,i(".fileover").removeClass("fileover"),i(".file-over").removeClass("file-over"),r=e.originalEvent.dataTransfer.getData("Text"),o=i(e.target).parent().find("input[type=text]:visible,textarea:visible"),t=e.originalEvent.clientX,n=e.originalEvent.clientY,o=o.filter(function(){var e,r,o,a;return e=i(this),o=e.offset(),a=e.width(),r=e.height(),o.left<t&&o.left+a>t&&o.top<n&&o.top+r>n}),1===o.length&&o.val(o.val()+r),e.preventDefault())}),i(document).bind("keydown",function(t){return function(n){var r,o,a,s,l;if((n.ctrlKey||n.metaKey)&&"v"===String.fromCharCode(n.keyCode).toLowerCase()&&e.utility.IsFirefox()&&!n.target.classList.contains("fr-element")&&!n.target.classList.contains("fr-view")){if(e.ffPasteTimer=0,o=i(":focus"),o.is("textarea, input")||"true"===o.attr("contentEditable"))return!0;for(a=t.uploaders.length-1;a>=0;){if(!t.uploaders[a].disabled){r=t.uploaders[a];break}a--}r&&null!=(null!=r?r.dropZone:void 0)&&((null!=(l=r.dzOverlay)?l.is(":visible"):void 0)||r.dropZone.is("body"))&&(s="ffPasteUpload"+a,r.dropZone.prepend('<div style="width: 0px; height: 0px; overflow: hidden;" contenteditable id="'+s+'" class="upload-global-FF-paste-box"></div>'),t.ffPasteBox=r.dropZone.find("#ffPasteUpload"+a),t.ffPasteBox.focus(),e.s3UploadManager.waitForPasteData(t.ffPasteBox[0],o,r))}}}(this)),i(document).bind("paste",function(e){var t,n,r;n=/^image\/(p?jpeg|gif|png)$/i,t=/data:image\/(p?jpeg|gif|png);base64,(.*?)/,r=void 0,window.clipboardData&&window.clipboardData.getData?r=window.clipboardData.getData("Text"):e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(r=e.originalEvent.clipboardData.getData("text/plain")),void 0!==r&&r.length?(e.isTextPasted=!0,t.test(r)?e.isTextPasted=!1:e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items&&1===e.originalEvent.clipboardData.items.length&&n.test(e.originalEvent.clipboardData.items[0].type)&&(e.isTextPasted=!1)):e.isTextPasted=!1,(o(e.target).hasClass("redactor_editor")||o(e.target).hasClass("fr-view"))&&(e.isTextPasted=!0)})}return n.prototype.push=function(e){this.uploaders.push(e)},n.prototype.removeAndCancelAll=function(){var e,t,n,r;for(t=1;t<this.uploaders.length;){for(r=this.uploaders[t].jqXHRArray,n=0;n<r.length;)r[n].abort(),n++;try{this.uploaders[t].fileInput.fileupload("disable")}catch(t){e=t,console.log(e)}this.uploaders[t].fileInput.remove(),this.uploaders.splice(t,1),t++}},n.prototype.removeAndCancelOne=function(t){var n,r,i,o;for(t.dropZone.find(".u-upload-overlay").remove(),i=t.jqXHRArray,r=0;r<i.length;)i[r].abort(),r++;try{t.fileInput.fileupload("disable")}catch(t){console.log(e)}for(t.fileInput.remove(),n=1;n<this.uploaders.length;)(null!=(o=this.uploaders[n])?o.uniqueKey:void 0)===t.uniqueKey&&this.uploaders.splice(n,1)},n.prototype.cancelAttachmentsUpload=function(e,n){var r,i,o,a,s,l;if(null!=n){if(Array.isArray(n))if(n.length>1){for(r=!0,l=t.utils.arrayFilter(t.unwrap(e.files.OArray),function(e){return e.ref!==n.ref}),o=0,a=l.length;o<a;o++)i=l[o],this.removeOrAbort(e,i);s=n.map(function(e){return e.ref})}else n=n[0],Array.isArray(n);if(!r||null==r){if(null==(i=t.utils.arrayFirst(t.unwrap(e.files.OArray),function(e){return e.ref===n.ref})))return;this.removeOrAbort(e,i),s=i.ref}e.uniqueKey.indexOf(!1)&&this.attachmentsEdited(e.uniqueKey,"remove-inline",s)}},n.prototype.removeOrAbort=function(e,t){var n;t.uploadCancelled=!0,"inactive"===(n=t.status())||"complete"===n?this.attachmentsEdited(e.uniqueKey,"remove-cancelled",t.ref):t.jqXHR.abort()},n.prototype.attachmentsEdited=function(e,t,n){null==n&&(n=null),app.ko.postbox.publish("widget-file-dropzone-"+e,{action:"attachmentsEdited",subType:t,itemId:n})},n.prototype.removeInactive=function(){var e,t;for(e=1,t=[];e<this.uploaders.length;){if(!i.contains(document.body,this.uploaders[e].dropZone[0])){if(void 0!==i.data(this.uploaders[e].fileInput,"blueimp-fileupload"))try{this.uploaders[e].fileInput.fileupload("disable")}catch(e){console.log(_error)}this.uploaders[e].fileInput.remove(),this.uploaders.splice(e,1)}t.push(e++)}return t},n.prototype.isPasteAllowed=function(e){var t,n,r;if(t=void 0,null===document.activeElement||!document.activeElement.hasAttribute("contenteditable")||i(document.activeElement).hasClass("upload-global-FF-paste-box")){if(n=i("*:focus"),n.is("textarea, input")&&!n.parents(".is-drop-zone").is("body")&&!n.parents(".is-drop-zone").not("body").length)return!1;for(r=this.uploaders.length-1;r>=0;){if(!this.uploaders[r].disabled){t=this.uploaders[r];break}r--}return null!==t&&t.form.is(e)}},n.prototype.hasSpaceToUploadFile=function(e,t){return app.api.get("files/availablebytes.json").then(function(n){return this.availableBytes=parseFloat(n.response.availableBytes,10),t(this.availableBytes-e.size>0)})},n.prototype.waitForPasteData=function(e,t,n){var r,i,o,a,s,l,p;if(l=2e3,e.childNodes&&e.childNodes.length>0){if(r=e.innerHTML,a={image:-1!==r.indexOf("<img")&&-1!==r.indexOf("src="),base64:-1!==r.indexOf("base64,"),png:-1!==r.indexOf("iVBORw0K")},a.image&&a.base64&&a.png)s=r.split('<img src="'),s=s[1].split('" alt="">'),i=app.utility.stripBase64ImageDataPrefix(s[0]);else if(p=e.querySelector("img"),null===(i=app.utility.extractBase64FromImg(p,!1)))return void console.warn("Failed encoding img to base64 from clipboard");if(o=app.utility.convertToBlob(i,"image/png"),null!=(null!=n?n.dropZone:void 0)&&n.dropZone.is(":visible")&&(n.fileInput.fileupload("add",{files:o}),n.dropZone.find(".upload-global-FF-paste-box").remove()),e.innerHTML="",app.ffPasteTimer=0,null!=(null!=t?t[0]:void 0))return t.focus()}else{if(app.ffPasteTimer<l)return app.ffPasteTimer+=20,setTimeout(function(r){return function(){return app.s3UploadManager.waitForPasteData(e,t,n)}}(),20);if(null!=(null!=n?n.dropZone:void 0))return n.dropZone.find(".upload-global-FF-paste-box").remove()}},n}()}.apply(n,a))&&(t.exports=s)}).call(n,r(245),r(245))},1922:function(e,t,n){(function(n){var r,i,o=function(e,t){return function(){return e.apply(t,arguments)}};r=[],void 0!==(i=function(){return function(){function e(e){var t,r,i,a,s,l,p;null==e&&(e={}),this.findParentTipped=o(this.findParentTipped,this),this.startTimeout=o(this.startTimeout,this),this.display=o(this.display,this),this.timeoutHandle=null,this.currentlyDisplayed=null,this.restartTimerOnConsecutiveCalls=null==(t=e.restartTimerOnConsecutiveCalls)||t,this.duration=null!=(r=e.duration)?r:1500,this.tippedOptions=null!=(i=e.tippedOptions)?i:null,this.passedOnShow=null!=(a=null!=(s=this.tippedOptions)?s.onShow:void 0)?a:null,this.passedAfterHide=null!=(l=null!=(p=this.tippedOptions)?p.afterHide:void 0)?l:null,this.defaultTippedOptions={position:"bottommiddle",fadeOut:100,showOn:!1,hideOn:{element:!1,tooltip:"click"},hideOnClickOutside:!1,hideOthers:!1,hideAfter:99999,containment:!1,zIndex:9999999,skin:"dark"},this.options=n.extend(!0,{},this.defaultTippedOptions,this.tippedOptions),this.options.onShow=function(e){return function(t,r){n(t).closest(".tpd-tooltip").addClass("tpd-force-dark-skin"),e.startTimeout(r),"function"==typeof e.passedOnShow&&e.passedOnShow(t,r)}}(this),this.options.afterHide=function(e){return function(t,n){Tipped.remove(n),e.timeoutHandle=null,e.currentlyDisplayed=null,"function"==typeof e.passedAfterHide&&e.passedAfterHide(t,n)}}(this)}return e.prototype.display=function(e,t){var n;if(null!=this.currentlyDisplayed){if(!this.restartTimerOnConsecutiveCalls&&this.currentlyDisplayed===t)return;if(this.currentlyDisplayed!==t)return void setTimeout(function(n){return function(){return n.display(e,t)}}(this),100)}if(this.restartTimerOnConsecutiveCalls&&null!=this.timeoutHandle)return clearTimeout(this.timeoutHandle),void this.startTimeout(e);n=this.findParentTipped(e),null!=n&&(this.options.container=".tpd-tooltip"),Tipped.create(e,t,this.options).show(),this.currentlyDisplayed=t},e.prototype.startTimeout=function(e){var t;return t=setTimeout(function(t){return function(){var t;t=Tipped.findElement(e),e===t&&Tipped.hide(e)}}(),this.duration),this.timeoutHandle=t},e.prototype.findParentTipped=function(e){var t,n;return null!=(t=Tipped.get(e).tooltips[0])&&null!=(n=t._content)?n[0]:void 0},e.prototype.dispose=function(){return""},e}()}.apply(t,r))&&(e.exports=i)}).call(t,n(245))},1935:function(e,t,n){!function(t,n){e.exports=n()}("undefined"!=typeof self&&self,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=77)}([function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(23)("wks"),i=n(22),o=n(4).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){e.exports=!n(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(9),i=n(72),o=n(71),a=Object.defineProperty;t.f=n(2)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(4),i=n(0),o=n(29),a=n(10),s=n(7),l=function(e,t,n){var p,u,d,c=e&l.F,f=e&l.G,h=e&l.S,m=e&l.P,g=e&l.B,y=e&l.W,b=f?i:i[t]||(i[t]={}),v=b.prototype,w=f?r:h?r[t]:(r[t]||{}).prototype;for(p in f&&(n=t),n)(u=!c&&w&&void 0!==w[p])&&s(b,p)||(d=u?w[p]:n[p],b[p]=f&&"function"!=typeof w[p]?n[p]:g&&u?o(d,r):y&&w[p]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((b.virtual||(b.virtual={}))[p]=d,e&l.R&&v&&!v[p]&&a(v,p,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var r=n(14);e.exports=function(e){return Object(r(e))}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(17);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(3),i=n(16);e.exports=n(2)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports={}},function(e,t,n){var r=n(23)("keys"),i=n(22);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(69),i=n(21);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={defaultEventSendInterval:1e4,requiredAppParams:["product","environment","shardNo","region","installation","user"],requiredInstallationParams:["ID","name","URL","createdDate"],requiredPageParams:["page","url"],requiredUserParams:["ID","firstName","lastName","email","createdDate"],trackerURL:"https://tw-stats.teamwork.com/api/v1",validAppRegions:["US","EU"],validAppProducts:["Projects","Desk","Chat","Spaces","CRM"],validAppEnvironments:["Development","Staging","Beta","Production"]}},function(e,t,n){var r=n(3).f,i=n(7),o=n(1)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){e.exports={default:n(62),__esModule:!0}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(4),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(13),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(25);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(26),i=n(14);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(17),i=n(4).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(73);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports={default:n(75),__esModule:!0}},function(e,t,n){e.exports={default:n(76),__esModule:!0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e,r){var i;/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */
/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */
(function(){"use strict";function o(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function a(e){return e=d(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:o(e)}function s(e,t){for(var n in e)w.call(e,n)&&t(e[n],n,e)}function l(e){return null==e?o(e):k.call(e).slice(8,-1)}function p(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function u(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=y)for(;++n<r;)t(e[n],n);else s(e,t)}(e,function(r,i){n=t(n,r,i,e)}),n}function d(e){return String(e).replace(/^ +| +$/g,"")}var c={function:!0,object:!0},f=c[typeof window]&&window||this,h=c[typeof t]&&t,m=c[typeof e]&&e&&!e.nodeType&&e,g=h&&m&&"object"==typeof r&&r;!g||g.global!==g&&g.window!==g&&g.self!==g||(f=g);var y=Math.pow(2,53)-1,b=/\bOpera/,v=Object.prototype,w=v.hasOwnProperty,k=v.toString,T=function e(t){function n(e){return u(e,function(e,n){var r=n.pattern||p(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=a(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e})}var r=f,i=t&&"object"==typeof t&&"String"!=l(t);i&&(r=t,t=null);var o=r.navigator||{},c=o.userAgent||"";t||(t=c);var h,m,g,y,v,w=i?!!o.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(k.toString()),T=i?"Object":"ScriptBridgingProxyObject",I=i?"Object":"Environment",C=i&&r.java?"JavaPackage":l(r.java),x=i?"Object":"RuntimeObject",S=/\bJava/.test(C)&&r.java,j=S&&l(r.environment)==I,O=S?"a":"\u03b1",P=S?"b":"\u03b2",_=r.document||{},D=r.operamini||r.opera,A=b.test(A=i&&D?D["[[Class]]"]:l(D))?A:D=null,E=t,M=[],L=null,U=t==c,F=U&&D&&"function"==typeof D.version&&D.version(),N=u([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,n){return e||RegExp("\\b"+(n.pattern||p(n))+"\\b","i").exec(t)&&(n.label||n)}),R=u(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,n){return e||RegExp("\\b"+(n.pattern||p(n))+"\\b","i").exec(t)&&(n.label||n)}),$=n([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),B=u({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},function(e,n,r){return e||(n[$]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec($)]||RegExp("\\b"+p(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r}),H=u(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,n){var r=n.pattern||p(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),a(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e});if(N&&(N=[N]),B&&!$&&($=n([B])),(h=/\bGoogle TV\b/.exec($))&&($=h[0]),/\bSimulator\b/i.test(t)&&($=($?$+" ":"")+"Simulator"),"Opera Mini"==R&&/\bOPiOS\b/.test(t)&&M.push("running in Turbo/Uncompressed mode"),"IE"==R&&/\blike iPhone OS\b/.test(t)?(B=(h=e(t.replace(/like iPhone OS/,""))).manufacturer,$=h.product):/^iP/.test($)?(R||(R="Safari"),H="iOS"+((h=/ OS ([\d_]+)/i.exec(t))?" "+h[1].replace(/_/g,"."):"")):"Konqueror"!=R||/buntu/i.test(H)?B&&"Google"!=B&&(/Chrome/.test(R)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test($))||/\bAndroid\b/.test(H)&&/^Chrome/.test(R)&&/\bVersion\//i.test(t)?(R="Android Browser",H=/\bAndroid\b/.test(H)?H:"Android"):"Silk"==R?(/\bMobi/i.test(t)||(H="Android",M.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&M.unshift("accelerated")):"PaleMoon"==R&&(h=/\bFirefox\/([\d.]+)\b/.exec(t))?M.push("identifying as Firefox "+h[1]):"Firefox"==R&&(h=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(H||(H="Firefox OS"),$||($=h[1])):!R||(h=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(R))?(R&&!$&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(h+"/")+8))&&(R=null),(h=$||B||H)&&($||B||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(H))&&(R=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(H)?H:h)+" Browser")):"Electron"==R&&(h=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&M.push("Chromium "+h):H="Kubuntu",F||(F=u(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",p(R),"(?:Firefox|Minefield|NetFront)"],function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null})),(h=("iCab"==N&&parseFloat(F)>3?"WebKit":/\bOpera\b/.test(R)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(N)&&"WebKit"||!N&&/\bMSIE\b/i.test(t)&&("Mac OS"==H?"Tasman":"Trident")||"WebKit"==N&&/\bPlayStation\b(?! Vita\b)/i.test(R)&&"NetFront")&&(N=[h]),"IE"==R&&(h=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(R+=" Mobile",H="Windows Phone "+(/\+$/.test(h)?h:h+".x"),M.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(R="IE Mobile",H="Windows Phone 8.x",M.unshift("desktop mode"),F||(F=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=R&&"Trident"==N&&(h=/\brv:([\d.]+)/.exec(t))&&(R&&M.push("identifying as "+R+(F?" "+F:"")),R="IE",F=h[1]),U){if(y="global",v=null!=(g=r)?typeof g[y]:"number",/^(?:boolean|number|string|undefined)$/.test(v)||"object"==v&&!g[y])l(h=r.runtime)==T?(R="Adobe AIR",H=h.flash.system.Capabilities.os):l(h=r.phantom)==x?(R="PhantomJS",F=(h=h.version||null)&&h.major+"."+h.minor+"."+h.patch):"number"==typeof _.documentMode&&(h=/\bTrident\/(\d+)/i.exec(t))?(F=[F,_.documentMode],(h=+h[1]+4)!=F[1]&&(M.push("IE "+F[1]+" mode"),N&&(N[1]=""),F[1]=h),F="IE"==R?String(F[1].toFixed(1)):F[0]):"number"==typeof _.documentMode&&/^(?:Chrome|Firefox)\b/.test(R)&&(M.push("masking as "+R+" "+F),R="IE",F="11.0",N=["Trident"],H="Windows");else if(S&&(E=(h=S.lang.System).getProperty("os.arch"),H=H||h.getProperty("os.name")+" "+h.getProperty("os.version")),j){try{F=r.require("ringo/engine").version.join("."),R="RingoJS"}catch(e){(h=r.system)&&h.global.system==r.system&&(R="Narwhal",H||(H=h[0].os||null))}R||(R="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(h=r.process)&&("object"==typeof h.versions&&("string"==typeof h.versions.electron?(M.push("Node "+h.versions.node),R="Electron",F=h.versions.electron):"string"==typeof h.versions.nw&&(M.push("Chromium "+F,"Node "+h.versions.node),R="NW.js",F=h.versions.nw)),R||(R="Node.js",E=h.arch,H=h.platform,F=(F=/[\d.]+/.exec(h.version))?F[0]:null));H=H&&a(H)}if(F&&(h=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(F)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(U&&o.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(L=/b/i.test(h)?"beta":"alpha",F=F.replace(RegExp(h+"\\+?$"),"")+("beta"==L?P:O)+(/\d+\+?/.exec(h)||"")),"Fennec"==R||"Firefox"==R&&/\b(?:Android|Firefox OS)\b/.test(H))R="Firefox Mobile";else if("Maxthon"==R&&F)F=F.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test($))"Xbox 360"==$&&(H=null),"Xbox 360"==$&&/\bIEMobile\b/.test(t)&&M.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(R)&&(!R||$||/Browser|Mobi/.test(R))||"Windows CE"!=H&&!/Mobi/i.test(t))if("IE"==R&&U)try{null===r.external&&M.unshift("platform preview")}catch(e){M.unshift("embedded")}else(/\bBlackBerry\b/.test($)||/\bBB10\b/.test(t))&&(h=(RegExp($.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||F)?(H=((h=[h,/BB10/.test(t)])[1]?($=null,B="BlackBerry"):"Device Software")+" "+h[0],F=null):this!=s&&"Wii"!=$&&(U&&D||/Opera/.test(R)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==R&&/\bOS X (?:\d+\.){2,}/.test(H)||"IE"==R&&(H&&!/^Win/.test(H)&&F>5.5||/\bWindows XP\b/.test(H)&&F>8||8==F&&!/\bTrident\b/.test(t)))&&!b.test(h=e.call(s,t.replace(b,"")+";"))&&h.name&&(h="ing as "+h.name+((h=h.version)?" "+h:""),b.test(R)?(/\bIE\b/.test(h)&&"Mac OS"==H&&(H=null),h="identify"+h):(h="mask"+h,R=A?a(A.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(h)&&(H=null),U||(F=null)),N=["Presto"],M.push(h));else R+=" Mobile";(h=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(h=[parseFloat(h.replace(/\.(\d)$/,".0$1")),h],"Safari"==R&&"+"==h[1].slice(-1)?(R="WebKit Nightly",L="alpha",F=h[1].slice(0,-1)):F!=h[1]&&F!=(h[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(F=null),h[1]=(/\bChrome\/([\d.]+)/i.exec(t)||0)[1],537.36==h[0]&&537.36==h[2]&&parseFloat(h[1])>=28&&"WebKit"==N&&(N=["Blink"]),U&&(w||h[1])?(N&&(N[1]="like Chrome"),h=h[1]||((h=h[0])<530?1:h<532?2:h<532.05?3:h<533?4:h<534.03?5:h<534.07?6:h<534.1?7:h<534.13?8:h<534.16?9:h<534.24?10:h<534.3?11:h<535.01?12:h<535.02?"13+":h<535.07?15:h<535.11?16:h<535.19?17:h<536.05?18:h<536.1?19:h<537.01?20:h<537.11?"21+":h<537.13?23:h<537.18?24:h<537.24?25:h<537.36?26:"Blink"!=N?"27":"28")):(N&&(N[1]="like Safari"),h=(h=h[0])<400?1:h<500?2:h<526?3:h<533?4:h<534?"4+":h<535?5:h<537?6:h<538?7:h<601?8:"8"),N&&(N[1]+=" "+(h+="number"==typeof h?".x":/[.+]/.test(h)?"":"+")),"Safari"==R&&(!F||parseInt(F)>45)&&(F=h)),"Opera"==R&&(h=/\bzbov|zvav$/.exec(H))?(R+=" ",M.unshift("desktop mode"),"zvav"==h?(R+="Mini",F=null):R+="Mobile",H=H.replace(RegExp(" *"+h+"$"),"")):"Safari"==R&&/\bChrome\b/.exec(N&&N[1])&&(M.unshift("desktop mode"),R="Chrome Mobile",F=null,/\bOS X\b/.test(H)?(B="Apple",H="iOS 4.3+"):H=null),F&&0==F.indexOf(h=/[\d.]+$/.exec(H))&&t.indexOf("/"+h+"-")>-1&&(H=d(H.replace(h,""))),N&&!/\b(?:Avant|Nook)\b/.test(R)&&(/Browser|Lunascape|Maxthon/.test(R)||"Safari"!=R&&/^iOS/.test(H)&&/\bSafari\b/.test(N[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(R)&&N[1])&&(h=N[N.length-1])&&M.push(h),M.length&&(M=["("+M.join("; ")+")"]),B&&$&&$.indexOf(B)<0&&M.push("on "+B),$&&M.push((/^on /.test(M[M.length-1])?"":"on ")+$),H&&(h=/ ([\d.+]+)$/.exec(H),m=h&&"/"==H.charAt(H.length-h[0].length-1),H={architecture:32,family:h&&!m?H.replace(h[0],""):H,version:h?h[1]:null,toString:function(){var e=this.version;return this.family+(e&&!m?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(h=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(E))&&!/\bi686\b/i.test(E)?(H&&(H.architecture=64,H.family=H.family.replace(RegExp(" *"+h),"")),R&&(/\bWOW64\b/i.test(t)||U&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(t))&&M.unshift("32-bit")):H&&/^OS X/.test(H.family)&&"Chrome"==R&&parseFloat(F)>=39&&(H.architecture=64),t||(t=null);var Y={};return Y.description=t,Y.layout=N&&N[0],Y.manufacturer=B,Y.name=R,Y.prerelease=L,Y.product=$,Y.ua=t,Y.version=R&&F,Y.os=H||{architecture:null,family:null,version:null,toString:function(){return"null"}},Y.parse=e,Y.toString=function(){return this.description||""},Y.version&&M.unshift(F),Y.name&&M.unshift(R),H&&R&&(H!=String(H).split(" ")[0]||H!=R.split(" ")[0]&&!$)&&M.push($?"("+H+")":"on "+H),M.length&&(Y.description=M.join(" ")),Y}();f.platform=T,void 0===(i=function(){return T}.call(t,n,t,e))||(e.exports=i)}).call(this)}).call(this,n(33)(e),n(32))},function(e,t,n){var r=n(5),i=n(0),o=n(8);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(6),i=n(15);n(35)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){n(36),e.exports=n(0).Object.keys},function(e,t,n){e.exports={default:n(37),__esModule:!0}},function(e,t,n){var r=n(1)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){var r=n(25),i=n(1)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(40),i=n(1)("iterator"),o=n(11);e.exports=n(0).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";var r=n(3),i=n(16);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(11),i=n(1)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(9);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){"use strict";var r=n(29),i=n(5),o=n(6),a=n(44),s=n(43),l=n(24),p=n(42),u=n(41);i(i.S+i.F*!n(39)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,d,c=o(e),f="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,y=0,b=u(c);if(g&&(m=r(m,h>2?arguments[2]:void 0,2)),void 0==b||f==Array&&s(b))for(n=new f(t=l(c.length));t>y;y++)p(n,y,g?m(c[y],y):c[y]);else for(d=b.call(c),n=new f;!(i=d.next()).done;y++)p(n,y,g?a(d,m,[i.value,y],!0):i.value);return n.length=y,n}})},function(e,t,n){var r=n(7),i=n(6),o=n(12)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(4).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(3),i=n(9),o=n(15);e.exports=n(2)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(9),i=n(48),o=n(21),a=n(12)("IE_PROTO"),s=function(){},l=function(){var e,t=n(28)("iframe"),r=o.length;for(t.style.display="none",n(47).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){"use strict";var r=n(49),i=n(16),o=n(19),a={};n(10)(a,n(1)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){e.exports=n(10)},function(e,t){e.exports=!0},function(e,t,n){"use strict";var r=n(52),i=n(5),o=n(51),a=n(10),s=n(11),l=n(50),p=n(19),u=n(46),d=n(1)("iterator"),c=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,h,m,g,y){l(n,t,h);var b,v,w,k=function(e){if(!c&&e in x)return x[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",I="values"==m,C=!1,x=e.prototype,S=x[d]||x["@@iterator"]||m&&x[m],j=S||k(m),O=m?I?k("entries"):j:void 0,P="Array"==t&&x.entries||S;if(P&&(w=u(P.call(new e)))!==Object.prototype&&w.next&&(p(w,T,!0),r||"function"==typeof w[d]||a(w,d,f)),I&&S&&"values"!==S.name&&(C=!0,j=function(){return S.call(this)}),r&&!y||!c&&!C&&x[d]||a(x,d,j),s[t]=j,s[T]=f,m)if(b={values:I?j:k("values"),keys:g?j:k("keys"),entries:O},y)for(v in b)v in x||o(x,v,b[v]);else i(i.P+i.F*(c||C),t,b);return b}},function(e,t,n){var r=n(13),i=n(14);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),p=s.length;return l<0||l>=p?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===p||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(54)(!0);n(53)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){n(55),n(45),e.exports=n(0).Array.from},function(e,t,n){e.exports={default:n(56),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=(r=n(57))&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=(r=n(20))&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"string"!=typeof e?e:""+e[0].toUpperCase()+e.substr(1)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(31)),a=r(n(59)),s=r(n(30)),l=r(n(58)),p=r(n(38));t.capitalizeKeys=function(e){return(0,p.default)(e).reduce(function(t,n){return t[i(n)]=e[n],t},{})},t.isAppDataValid=function(e){var t=u.default.requiredAppParams,n=[{paramName:"region",validValues:u.default.validAppRegions},{paramName:"product",validValues:u.default.validAppProducts},{paramName:"environment",validValues:u.default.validAppEnvironments}],r=!0;return t.forEach(function(t){void 0===e[t]&&(console.error('"'+t+'" param must be passed when initializing userTracker'),r=!1)}),n.forEach(function(t){if(-1===t.validValues.indexOf(e[t.paramName])){var n='"'+t.paramName+'" param must be one of '+t.validValues.map(function(e){return'"'+e+'"'}).join(", ");console.error(n),r=!1}}),u.default.requiredInstallationParams.forEach(function(t){void 0===e.installation[t]&&(console.error('"installation.'+t+'" param must be passed when initializing userTracker'),r=!1)}),u.default.requiredUserParams.forEach(function(t){void 0===e.user[t]&&(console.error('"user.'+t+'" param must be passed when initializing userTracker'),r=!1)}),r},t.isPageDataValid=function(e){var t=!0;return u.default.requiredPageParams.forEach(function(n){void 0===e[n]&&(console.error('"'+n+'" param must be specified for all page views'),t=!1)}),t},t.generateUserData=function(e){var t=e.region,n=e.product,r=e.release,i=e.shardNo,o=e.installation,a=e.user,s=e.productData,l={environment:e.environment,product:n,release:r,shardNo:i,region:t,device:{os:{name:d.os.family,version:d.os.version},browser:{name:d.name,version:d.version}},installationId:o.ID,installationName:o.name,installationURL:o.URL,installationCreatedDate:o.createdDate,firstName:a.firstName,lastName:a.lastName,email:a.email,userId:a.ID,userCreatedDate:a.createdDate,productData:s,events:[]};return null!=a.industry&&(l.industry=a.industry),l},t.generateProductData=function(e,t){if(null==e||0===(0,p.default)(e).length&&e.constructor===Object)return{};var n=i(t);return s.default.apply(Object,[{}].concat((0,l.default)((0,p.default)(e).map(function(t){return(0,a.default)({},n+" "+("string"!=typeof t?t:i(t).replace(/([a-z0-9])([A-Z])/g,"$1 $2")),e[t])}))))},t.postData=function(e){var t=new XMLHttpRequest;t.open("post",e.url,e.isAsync),null!=e.cb&&t.addEventListener("load",e.cb),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send((0,o.default)(e.data))},t.isLocalStorageAvailable=function(){var e=void 0;try{e=window.localStorage;var t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==e.length}};var u=r(n(18)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(34))},function(e,t,n){var r=n(5);r(r.S+r.F*!n(2),"Object",{defineProperty:n(3).f})},function(e,t,n){n(61);var r=n(0).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=(r=n(20))&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(13),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(27),i=n(24),o=n(67);e.exports=function(e){return function(t,n,a){var s,l=r(t),p=i(l.length),u=o(a,p);if(e&&n!=n){for(;p>u;)if((s=l[u++])!=s)return!0}else for(;p>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(7),i=n(27),o=n(68)(!1),a=n(12)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,p=[];for(n in s)n!=a&&r(s,n)&&p.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(p,n)||p.push(n));return p}},function(e,t,n){"use strict";var r=n(15),i=n(66),o=n(65),a=n(6),s=n(26),l=Object.assign;e.exports=!l||n(8)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=a(e),l=arguments.length,p=1,u=i.f,d=o.f;l>p;)for(var c,f=s(arguments[p++]),h=u?r(f).concat(u(f)):r(f),m=h.length,g=0;m>g;)d.call(f,c=h[g++])&&(n[c]=f[c]);return n}:l},function(e,t,n){var r=n(17);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){e.exports=!n(2)&&!n(8)(function(){return 7!=Object.defineProperty(n(28)("div"),"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(70)})},function(e,t,n){n(74),e.exports=n(0).Object.assign},function(e,t,n){var r=n(0),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(31)),o=r(n(30)),a=r(n(64)),s=r(n(63)),l=n(60),p=r(n(18));e.exports=function(){function e(t){var n=this;if((0,a.default)(this,e),this.useLocalStorage=!1,this.isAppDataValid=(0,l.isAppDataValid)(t),this.isAppDataValid){var r=t.eventSendInterval||p.default.defaultEventSendInterval;this.appData=(0,l.generateUserData)(t),this.productData=(0,l.generateProductData)(this.appData.productData,this.appData.product),this.eventsStorageKey=this.appData.product+"_user"+this.appData.userId+"_events","undefined"!=typeof window&&(this.useLocalStorage=(0,l.isLocalStorageAvailable)(),this.restoreCachedEvents(),window.addEventListener("beforeunload",function(){return n.sendEventsOnUnload()},!1)),this.sendPeriodicEvents(r)}}return(0,s.default)(e,[{key:"addEvent",value:function(e){if(this.isAppDataValid){var t={timestamp:Date.now(),eventType:"action"},n=(0,o.default)({},t,e);n.properties=(0,l.capitalizeKeys)(e.properties),this.appData.events.push(n),localStorage.setItem(this.eventsStorageKey,(0,i.default)(this.appData.events))}}},{key:"addPageView",value:function(e){if(this.isAppDataValid&&(0,l.isPageDataValid)(e)){var t={name:"Page View",eventType:"pageView",timestamp:Date.now(),properties:{URL:e.url,Page:e.page,Section:e.section}};this.appData.events.push(t),localStorage.setItem(this.eventsStorageKey,(0,i.default)(this.appData.events))}}},{key:"restoreCachedEvents",value:function(){var e=this;if(this.useLocalStorage){var t=JSON.parse(localStorage.getItem(this.eventsStorageKey));Array.isArray(t)&&t.forEach(function(t){return e.appData.events.push(t)})}}},{key:"clearEvents",value:function(){this.appData.events.length=0,localStorage.removeItem(this.eventsStorageKey)}},{key:"sendPeriodicEvents",value:function(e){var t=this;setInterval(function(){t.sendEvents()},e)}},{key:"sendEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isAppDataValid&&0!==this.appData.events.length){var t=this.appData;t.productData=this.productData,(0,l.postData)({url:p.default.trackerURL+"/events.json",data:t,isAsync:!e,cb:this.clearEvents.bind(this)})}}},{key:"sendEventsOnUnload",value:function(){this.sendEvents(!0)}},{key:"sendProfileUpdate",value:function(){if(this.isAppDataValid){var e={name:this.appData.firstName+" "+this.appData.lastName,email:this.appData.email,userId:this.appData.userId,userCreatedDate:this.appData.userCreatedDate,installationId:this.appData.installationId,installationName:this.appData.installationName,installationURL:this.appData.installationURL,installationCreatedDate:this.appData.installationCreatedDate,productData:this.productData};null!=this.appData.industry&&(e.industry=this.appData.industry),(0,l.postData)({url:p.default.trackerURL+"/profiles.json",data:e,isAsync:!0})}}}]),e}()}])})},2159:function(e,t,n){(function(e){var t=t||{};t.plugin=n(1913),function(e){var t="timeEntry";e.JQPlugin.createPlugin({name:t,defaultOptions:{appendText:"",showSeconds:!1,unlimitedHours:!1,timeSteps:[1,1,1],initialField:null,noSeparatorEntry:!1,tabToExit:!1,useMouseWheel:!0,defaultTime:null,minTime:null,maxTime:null,spinnerImage:"spinnerDefault.png",spinnerSize:[20,20,8],spinnerBigImage:"",spinnerBigSize:[40,40,16],spinnerIncDecOnly:!1,spinnerRepeat:[500,250],beforeShow:null,beforeSetTime:null},regionalOptions:{"":{show24Hours:!1,separator:":",ampmPrefix:"",ampmNames:["AM","PM"],spinnerTexts:["Now","Previous field","Next field","Increment","Decrement"]}},_getters:["getOffset","getTime","isDisabled"],_appendClass:t+"-append",_controlClass:t+"-control",_expandClass:t+"-expand",_disabledInputs:[],_instSettings:function(e,t){return{_field:0,_selectedHour:0,_selectedMinute:0,_selectedSecond:0}},_postAttach:function(e,t){e.on("focus."+t.name,this._doFocus).on("blur."+t.name,this._doBlur).on("click."+t.name,this._doClick).on("keydown."+t.name,this._doKeyDown).on("keypress."+t.name,this._doKeyPress).on("paste."+t.name,function(e){setTimeout(function(){n._parseTime(t)},1)})},_optionsChanged:function(t,n,r){var i=this._extractTime(n);e.extend(n.options,r),n.options.show24Hours=n.options.show24Hours||n.options.unlimitedHours,n._field=0,i&&this._setTime(n,new Date(0,0,0,i[0],i[1],i[2])),t.next("span."+this._appendClass).remove(),t.parent().find("span."+this._controlClass).remove(),e.fn.mousewheel&&t.unmousewheel();var o=n.options.spinnerImage?e('<span class="'+this._controlClass+'" style="display: inline-block; background: url(\''+n.options.spinnerImage+"') 0 0 no-repeat; width: "+n.options.spinnerSize[0]+"px; height: "+n.options.spinnerSize[1]+'px;"></span>'):null;t.after(n.options.appendText?'<span class="'+this._appendClass+'">'+n.options.appendText+"</span>":"").after(o||""),n.options.useMouseWheel&&e.fn.mousewheel&&t.mousewheel(this._doMouseWheel),o&&o.mousedown(this._handleSpinner).mouseup(this._endSpinner).mouseover(this._expandSpinner).mouseout(this._endSpinner).mousemove(this._describeSpinner)},enable:function(e){this._enableDisable(e,!1)},disable:function(e){this._enableDisable(e,!0)},_enableDisable:function(t,n){var r=this._getInst(t);r&&(t.disabled=n,t.nextSibling&&"span"===t.nextSibling.nodeName.toLowerCase()&&this._changeSpinner(r,t.nextSibling,n?5:-1),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),n&&this._disabledInputs.push(t))},isDisabled:function(t){return e.inArray(t,this._disabledInputs)>-1},_preDestroy:function(n,r){n=e(n).off("."+t),e.fn.mousewheel&&n.unmousewheel(),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===n[0]?null:e}),n.siblings("."+this._appendClass+",."+this._controlClass).remove()},setTime:function(t,n){var r=this._getInst(t);r&&(null===n||""===n?e(t).val(""):this._setTime(r,n?e.isArray(n)?n:"object"==typeof n?new Date(n.getTime()):n:null))},getTime:function(e){var t=this._getInst(e),n=t?this._extractTime(t):null;return n?new Date(0,0,0,n[0],n[1],n[2]):null},getOffset:function(e){var t=this._getInst(e),n=t?this._extractTime(t):null;return n?1e3*(3600*n[0]+60*n[1]+n[2]):0},_doFocus:function(t){var r=t.nodeName&&"input"===t.nodeName.toLowerCase()?t:this;if(n._lastInput===r||n.isDisabled(r))return void(n._focussed=!1);var i=n._getInst(r);n._focussed=!0,n._lastInput=r,n._blurredInput=null,e.extend(i.options,e.isFunction(i.options.beforeShow)?i.options.beforeShow.apply(r,[r]):{}),n._parseTime(i,t.nodeName?null:t),setTimeout(function(){n._showField(i)},10)},_doBlur:function(e){n._blurredInput=n._lastInput,n._lastInput=null},_doClick:function(e){var t=e.target,r=n._getInst(t),i=r._field;n._focussed||(r._field=n._getSelection(r,t,e)),i!==r._field&&(r._lastChr=""),n._showField(r),n._focussed=!1},_getSelection:function(t,n,r){var i=0,o=[t.elem.val().split(t.options.separator)[0].length,2,2];if(null!==n.selectionStart)for(var a=0,s=0;s<=Math.max(1,t._secondField,t._ampmField)&&(a+=s!==t._ampmField?o[s]+t.options.separator.length:t.options.ampmPrefix.length+t.options.ampmNames[0].length,i=s,!(n.selectionStart<a));s++);else if(n.createTextRange&&null!=r)for(var l=e(r.srcElement),p=n.createTextRange(),u=r.clientX+document.documentElement.scrollLeft-(l.offset().left+parseInt(function(e){return{thin:2,medium:4,thick:6}[e]||e}(l.css("border-left-width")),10))-p.offsetLeft,s=0;s<=Math.max(1,t._secondField,t._ampmField);s++){var a=s!==t._ampmField?s*fieldSize+2:t._ampmField*fieldSize+t.options.ampmPrefix.length+t.options.ampmNames[0].length;if(p.collapse(),p.moveEnd("character",a),i=s,u<p.boundingWidth)break}return i},_doKeyDown:function(e){if(e.keyCode>=48)return!0;var t=n._getInst(e.target);switch(e.keyCode){case 9:return!!t.options.tabToExit||(e.shiftKey?n._changeField(t,-1,!0):n._changeField(t,1,!0));case 35:e.ctrlKey?n._setValue(t,""):(t._field=Math.max(1,t._secondField,t._ampmField),n._adjustField(t,0));break;case 36:e.ctrlKey?n._setTime(t):(t._field=0,n._adjustField(t,0));break;case 37:n._changeField(t,-1,!1);break;case 38:n._adjustField(t,1);break;case 39:n._changeField(t,1,!1);break;case 40:n._adjustField(t,-1);break;case 46:n._setValue(t,"");break;case 8:t._lastChr="";default:return!0}return!1},_doKeyPress:function(e){var t=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);if(t<" ")return!0;var r=n._getInst(e.target);return n._handleKeyPress(r,t),!1},_handleKeyPress:function(e,t){if(t===e.options.separator)this._changeField(e,1,!1);else if(t>="0"&&t<="9"){var n=parseInt(t,10),r=parseInt(e._lastChr+t,10),i=0!==e._field?e._selectedHour:e.options.unlimitedHours?r:e.options.show24Hours?r<24?r:n:(r>=1&&r<=12?r:n>0?n:e._selectedHour)%12+(e._selectedHour>=12?12:0),o=1!==e._field?e._selectedMinute:r<60?r:n,a=e._field!==e._secondField?e._selectedSecond:r<60?r:n,s=this._constrainTime(e,[i,o,a]);this._setTime(e,e.options.unlimitedHours?s:new Date(0,0,0,s[0],s[1],s[2])),e.options.noSeparatorEntry&&e._lastChr?this._changeField(e,1,!1):e._lastChr=e.options.unlimitedHours&&0===e._field?e._lastChr+t:t}else if(!e.options.show24Hours&&((t=t.toLowerCase())===e.options.ampmNames[0].substring(0,1).toLowerCase()&&e._selectedHour>=12||t===e.options.ampmNames[1].substring(0,1).toLowerCase()&&e._selectedHour<12)){var l=e._field;e._field=e._ampmField,this._adjustField(e,1),e._field=l,this._showField(e)}},_doMouseWheel:function(e,t){if(!n.isDisabled(e.target)){var r=n._getInst(e.target);r.elem.focus(),r.elem.val()||n._parseTime(r),n._adjustField(r,t),e.preventDefault()}},_expandSpinner:function(t){var r=n._getSpinnerTarget(t),i=n._getInst(n._getInput(r));if(!n.isDisabled(i.elem[0])&&i.options.spinnerBigImage){i._expanded=!0;var o=e(r).offset(),a=null;e(r).parents().each(function(){var t=e(this);return"relative"!==t.css("position")&&"absolute"!==t.css("position")||(a=t.offset()),!a}),e('<div class="'+n._expandClass+'" style="position: absolute; left: '+(o.left-(i.options.spinnerBigSize[0]-i.options.spinnerSize[0])/2-(a?a.left:0))+"px; top: "+(o.top-(i.options.spinnerBigSize[1]-i.options.spinnerSize[1])/2-(a?a.top:0))+"px; width: "+i.options.spinnerBigSize[0]+"px; height: "+i.options.spinnerBigSize[1]+"px; background: transparent url("+i.options.spinnerBigImage+') no-repeat 0px 0px; z-index: 10;"></div>').mousedown(n._handleSpinner).mouseup(n._endSpinner).mouseout(n._endExpand).mousemove(n._describeSpinner).insertAfter(r)}},_getInput:function(t){return e(t).siblings("."+this._getMarker())[0]},_describeSpinner:function(e){var t=n._getSpinnerTarget(e),r=n._getInst(n._getInput(t));t.title=r.options.spinnerTexts[n._getSpinnerRegion(r,e)]},_handleSpinner:function(t){var r=n._getSpinnerTarget(t),i=n._getInput(r);if(!n.isDisabled(i)){i===n._blurredInput&&(n._lastInput=i,n._blurredInput=null);var o=n._getInst(i);n._doFocus(i);var a=n._getSpinnerRegion(o,t);n._changeSpinner(o,r,a),n._actionSpinner(o,a),n._timer=null,n._handlingSpinner=!0,a>=3&&o.options.spinnerRepeat[0]&&(n._timer=setTimeout(function(){n._repeatSpinner(o,a)},o.options.spinnerRepeat[0]),e(r).one("mouseout",n._releaseSpinner).one("mouseup",n._releaseSpinner))}},_actionSpinner:function(e,t){switch(e.elem.val()||n._parseTime(e),t){case 0:this._setTime(e);break;case 1:this._changeField(e,-1,!1);break;case 2:this._changeField(e,1,!1);break;case 3:this._adjustField(e,1);break;case 4:this._adjustField(e,-1)}},_repeatSpinner:function(e,t){n._timer&&(n._lastInput=n._blurredInput,this._actionSpinner(e,t),this._timer=setTimeout(function(){n._repeatSpinner(e,t)},e.options.spinnerRepeat[1]))},_releaseSpinner:function(e){clearTimeout(n._timer),n._timer=null},_endExpand:function(t){n._timer=null;var r=n._getSpinnerTarget(t),i=n._getInput(r),o=n._getInst(i);e(r).remove(),o._expanded=!1},_endSpinner:function(e){n._timer=null;var t=n._getSpinnerTarget(e),r=n._getInput(t),i=n._getInst(r);n.isDisabled(r)||n._changeSpinner(i,t,-1),n._handlingSpinner&&(n._lastInput=n._blurredInput),n._lastInput&&n._handlingSpinner&&n._showField(i),n._handlingSpinner=!1},_getSpinnerTarget:function(e){return e.target||e.srcElement},_getSpinnerRegion:function(t,n){var r=this._getSpinnerTarget(n),i=e(r).offset(),o=[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop],a=t.options.spinnerIncDecOnly?99:n.clientX+o[0]-i.left,s=n.clientY+o[1]-i.top,l=t.options[t._expanded?"spinnerBigSize":"spinnerSize"],p=t.options.spinnerIncDecOnly?99:l[0]-1-a,u=l[1]-1-s;if(l[2]>0&&Math.abs(a-p)<=l[2]&&Math.abs(s-u)<=l[2])return 0;var d=Math.min(a,s,p,u);return d===a?1:d===p?2:d===s?3:4},_changeSpinner:function(t,n,r){e(n).css("background-position","-"+(r+1)*t.options[t._expanded?"spinnerBigSize":"spinnerSize"][0]+"px 0px")},_parseTime:function(e,t){var r=this._extractTime(e);if(r)e._selectedHour=r[0],e._selectedMinute=r[1],e._selectedSecond=r[2];else{var i=this._constrainTime(e);e._selectedHour=i[0],e._selectedMinute=i[1],e._selectedSecond=e.options.showSeconds?i[2]:0}e._secondField=e.options.showSeconds?2:-1,e._ampmField=e.options.show24Hours?-1:e.options.showSeconds?3:2,e._lastChr="";var o=function(){""!==e.elem.val()&&n._showTime(e)};"number"==typeof e.options.initialField?(e._field=Math.max(0,Math.min(Math.max(1,e._secondField,e._ampmField),e.options.initialField)),o()):setTimeout(function(){e._field=n._getSelection(e,e.elem[0],t),o()},0)},_extractTime:function(e,t){t=t||e.elem.val();var n=t.split(e.options.separator);if(""===e.options.separator&&""!==t&&(n[0]=t.substring(0,2),n[1]=t.substring(2,4),n[2]=t.substring(4,6)),n.length>=2){var r=!e.options.show24Hours&&t.indexOf(e.options.ampmNames[0])>-1,i=!e.options.show24Hours&&t.indexOf(e.options.ampmNames[1])>-1,o=parseInt(n[0],10);o=isNaN(o)?0:o,o=((r||i)&&12===o?0:o)+(i?12:0);var a=parseInt(n[1],10);a=isNaN(a)?0:a;var s=n.length>=3?parseInt(n[2],10):0;return s=isNaN(s)||!e.options.showSeconds?0:s,this._constrainTime(e,[o,a,s])}return null},_constrainTime:function(e,t){if(null===t||void 0===t){var n=this._determineTime(e.options.defaultTime,e)||new Date;t=[n.getHours(),n.getMinutes(),n.getSeconds()]}for(var r=!1,i=0;i<e.options.timeSteps.length;i++)r?t[i]=0:e.options.timeSteps[i]>1&&(t[i]=Math.round(t[i]/e.options.timeSteps[i])*e.options.timeSteps[i],r=!0);return t},_showTime:function(e){var t=(e.options.unlimitedHours?e._selectedHour:this._formatNumber(e.options.show24Hours?e._selectedHour:(e._selectedHour+11)%12+1))+e.options.separator+this._formatNumber(e._selectedMinute)+(e.options.showSeconds?e.options.separator+this._formatNumber(e._selectedSecond):"")+(e.options.show24Hours?"":e.options.ampmPrefix+e.options.ampmNames[e._selectedHour<12?0:1]);this._setValue(e,t),this._showField(e)},_showField:function(e){var t=e.elem[0];if(!e.elem.is(":hidden")&&n._lastInput===t){for(var r=[e.elem.val().split(e.options.separator)[0].length,2,2],i=0,o=0;o<e._field;)i+=r[o]+(o===Math.max(1,e._secondField)?0:e.options.separator.length),o++;var a=i+(e._field!==e._ampmField?r[o]:e.options.ampmPrefix.length+e.options.ampmNames[0].length);if(t.setSelectionRange)t.setSelectionRange(i,a);else if(t.createTextRange){var s=t.createTextRange();s.moveStart("character",i),s.moveEnd("character",a-e.elem.val().length),s.select()}t.disabled||t.focus()}},_formatNumber:function(e){return(e<10?"0":"")+e},_setValue:function(e,t){t!==e.elem.val()&&e.elem.val(t).trigger("change")},_changeField:function(e,t,n){var r=""===e.elem.val()||e._field===(-1===t?0:Math.max(1,e._secondField,e._ampmField));return r||(e._field+=t),this._showField(e),e._lastChr="",r&&n},_adjustField:function(e,t){""===e.elem.val()&&(t=0),e.options.unlimitedHours?this._setTime(e,[e._selectedHour+(0===e._field?t*e.options.timeSteps[0]:0),e._selectedMinute+(1===e._field?t*e.options.timeSteps[1]:0),e._selectedSecond+(e._field===e._secondField?t*e.options.timeSteps[2]:0)]):this._setTime(e,new Date(0,0,0,e._selectedHour+(0===e._field?t*e.options.timeSteps[0]:0)+(e._field===e._ampmField?12*t:0),e._selectedMinute+(1===e._field?t*e.options.timeSteps[1]:0),e._selectedSecond+(e._field===e._secondField?t*e.options.timeSteps[2]:0)))},_setTime:function(t,n){if(t.options.unlimitedHours&&e.isArray(n))var r=n;else{n=this._determineTime(n,t);var r=n?[n.getHours(),n.getMinutes(),n.getSeconds()]:null}r=this._constrainTime(t,r),n=new Date(0,0,0,r[0],r[1],r[2]);var n=this._normaliseTime(n),i=this._normaliseTime(this._determineTime(t.options.minTime,t)),o=this._normaliseTime(this._determineTime(t.options.maxTime,t));if(t.options.unlimitedHours){for(;r[2]<0;)r[2]+=60,r[1]--;for(;r[2]>59;)r[2]-=60,r[1]++;for(;r[1]<0;)r[1]+=60,r[0]--;for(;r[1]>59;)r[1]-=60,r[0]++;i=null!=t.options.minTime&&e.isArray(t.options.minTime)?t.options.minTime:[0,0,0],r[0]<i[0]?r=i.slice(0,3):r[0]===i[0]&&(r[1]<i[1]?(r[1]=i[1],r[2]=i[2]):r[1]===i[1]&&r[2]<i[2]&&(r[2]=i[2])),null!=t.options.maxTime&&e.isArray(t.options.maxTime)&&(r[0]>t.options.maxTime[0]?r=t.options.maxTime.slice(0,3):r[0]===t.options.maxTime[0]&&(r[1]>t.options.maxTime[1]?(r[1]=t.options.maxTime[1],r[2]=t.options.maxTime[2]):r[1]===t.options.maxTime[1]&&r[2]>t.options.maxTime[2]&&(r[2]=t.options.maxTime[2])))}else i&&o&&i>o?n<i&&n>o&&(n=Math.abs(n-i)<Math.abs(n-o)?i:o):n=i&&n<i?i:o&&n>o?o:n,r[0]=n.getHours(),r[1]=n.getMinutes(),r[2]=n.getSeconds();e.isFunction(t.options.beforeSetTime)&&(n=t.options.beforeSetTime.apply(t.elem[0],[this.getTime(t.elem[0]),n,i,o]),r[0]=n.getHours(),r[1]=n.getMinutes(),r[2]=n.getSeconds()),t._selectedHour=r[0],t._selectedMinute=r[1],t._selectedSecond=r[2],this._showTime(t)},_determineTime:function(t,r){return t?"string"==typeof t?function(e){var t=n._extractTime(r,e),i=new Date,o=t?t[0]:i.getHours(),a=t?t[1]:i.getMinutes(),s=t?t[2]:i.getSeconds();if(!t)for(var l=/([+-]?[0-9]+)\s*(s|S|m|M|h|H)?/g,p=l.exec(e);p;){switch(p[2]||"s"){case"s":case"S":s+=parseInt(p[1],10);break;case"m":case"M":a+=parseInt(p[1],10);break;case"h":case"H":o+=parseInt(p[1],10)}p=l.exec(e)}return i=new Date(0,0,10,o,a,s,0),/^!/.test(e)&&(i.getDate()>10?i=new Date(0,0,10,23,59,59):i.getDate()<10&&(i=new Date(0,0,10,0,0,0))),i}(t):"number"==typeof t?function(e){var t=new Date;return t.setTime(t.getTime()+1e3*e),t}(t):e.isArray(t)?function(e){return new Date(0,0,0,e[0],e[1]||0,e[2]||0,0)}(t):t:null},_normaliseTime:function(e){return e?(e.setFullYear(1900),e.setMonth(0),e.setDate(0),e):null}});var n=e.timeEntry}(e)}).call(t,n(245))},2160:function(e,t,n){n(1244);!function(e){var t={},n=e.prototype.stopCallback;e.prototype.stopCallback=function(e,r,i,o){return!!this.paused||!t[i]&&!t[o]&&n.call(this,e,r,i)},e.prototype.bindGlobal=function(e,n,r){if(this.bind(e,n,r),e instanceof Array)for(n=0;n<e.length;n++)t[e[n]]=!0;else t[e]=!0},e.init()}(Mousetrap)},2161:function(e,t,n){n(1244);!function(e){var t=e.prototype.stopCallback;e.prototype.stopCallback=function(e,n,r){return!!this.paused||t.call(this,e,n,r)},e.prototype.pause=function(){this.paused=!0},e.prototype.unpause=function(){this.paused=!1},e.init()}(Mousetrap)},3523:function(e,t,n){var r,i,o;!function(a){"use strict";i=[n(245)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var r,i,o;return{send:function(a,s){r=e('<form style="display:none;"></form>'),r.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),i=e('<iframe src="javascript:false;" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];i.unbind("load").bind("load",function(){var t;try{if(t=i.contents(),!t.length||!t[0].firstChild)throw new Error}catch(e){t=void 0}s(200,"success",{iframe:t}),e('<iframe src="javascript:false;"></iframe>').appendTo(r),r.remove()}),r.prop("target",i.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(r)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),r.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),r.submit(),t&&t.length&&n.fileInput.each(function(n,r){var i=e(t[n]);e(r).prop("name",i.prop("name")),i.replaceWith(r)})}),r.append(i).appendTo(document.body)},abort:function(){i&&i.unbind("load").prop("src","javascript".concat(":false;")),r&&r.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})})},3524:function(e,t,n){var r,i;/*!
 * Bootstrap-select v1.10.0 (http://silviomoreto.github.io/bootstrap-select)
 *
 * Copyright 2013-2016 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
!function(o,a){r=[n(245)],void 0!==(i=function(e){return a(e)}.apply(t,r))&&(e.exports=i)}(0,function(e){!function(e){"use strict";function t(t){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return e.each(n,function(){t=t.replace(this.re,this.ch)}),t}function n(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n="(?:"+Object.keys(t).join("|")+")",r=new RegExp(n),i=new RegExp(n,"g"),o=null==e?"":""+e;return r.test(o)?o.replace(i,function(e){return t[e]}):o}function r(t,n){var r=arguments,o=t,a=n;[].shift.apply(r);var s,l=this.each(function(){var t=e(this);if(t.is("select")){var n=t.data("selectpicker"),l="object"==typeof o&&o;if(n){if(l)for(var p in l)l.hasOwnProperty(p)&&(n.options[p]=l[p])}else{var u=e.extend({},i.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),l);u.template=e.extend({},i.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},t.data().template,l.template),t.data("selectpicker",n=new i(this,u,a))}"string"==typeof o&&(s=n[o]instanceof Function?n[o].apply(n,r):n.options[o])}});return void 0!==s?s:l}String.prototype.includes||function(){var e={}.toString,t=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),n="".indexOf,r=function(t){if(null==this)throw new TypeError;var r=String(this);if(t&&"[object RegExp]"==e.call(t))throw new TypeError;var i=r.length,o=String(t),a=o.length,s=arguments.length>1?arguments[1]:void 0,l=s?Number(s):0;return l!=l&&(l=0),!(a+Math.min(Math.max(l,0),i)>i)&&-1!=n.call(r,o,l)};t?t(String.prototype,"includes",{value:r,configurable:!0,writable:!0}):String.prototype.includes=r}(),String.prototype.startsWith||function(){var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t={}.toString,n=function(e){if(null==this)throw new TypeError;var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var r=n.length,i=String(e),o=i.length,a=arguments.length>1?arguments[1]:void 0,s=a?Number(a):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),r);if(o+l>r)return!1;for(var p=-1;++p<o;)if(n.charCodeAt(l+p)!=i.charCodeAt(p))return!1;return!0};e?e(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),Object.keys||(Object.keys=function(e,t,n){n=[];for(t in e)n.hasOwnProperty.call(e,t)&&n.push(t);return n}),e.fn.triggerNative=function(e){var t,n=this[0];n.dispatchEvent?("function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event"),t.initEvent(e,!0,!1)),n.dispatchEvent(t)):(n.fireEvent&&(t=document.createEventObject(),t.eventType=e,n.fireEvent("on"+e,t)),this.trigger(e))},e.expr[":"].icontains=function(t,n,r){var i=e(t);return(i.data("tokens")||i.text()).toUpperCase().includes(r[3].toUpperCase())},e.expr[":"].ibegins=function(t,n,r){var i=e(t);return(i.data("tokens")||i.text()).toUpperCase().startsWith(r[3].toUpperCase())},e.expr[":"].aicontains=function(t,n,r){var i=e(t);return(i.data("tokens")||i.data("normalizedText")||i.text()).toUpperCase().includes(r[3].toUpperCase())},e.expr[":"].aibegins=function(t,n,r){var i=e(t);return(i.data("tokens")||i.data("normalizedText")||i.text()).toUpperCase().startsWith(r[3].toUpperCase())};var i=function(t,n,r){r&&(r.stopPropagation(),r.preventDefault()),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=n,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=i.prototype.val,this.render=i.prototype.render,this.refresh=i.prototype.refresh,this.setStyle=i.prototype.setStyle,this.selectAll=i.prototype.selectAll,this.deselectAll=i.prototype.deselectAll,this.destroy=i.prototype.destroy,this.remove=i.prototype.remove,this.show=i.prototype.show,this.hide=i.prototype.hide,this.init()};i.VERSION="1.10.0",i.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},i.prototype={constructor:i,init:function(){var t=this,n=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==n&&(this.$button.attr("data-id",n),e('label[for="'+n+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){t.$button.addClass("bs-invalid").focus(),t.$element.on({"focus.bs.select":function(){t.$button.focus(),t.$element.off("focus.bs.select")},"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid"),t.$element.off("rendered.bs.select")}})}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",r=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",o=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+n(this.options.liveSearchPlaceholder)+'"')+"></div>":"",s=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",p='<div class="btn-group bootstrap-select'+t+r+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+i+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+o+a+s+'<ul class="dropdown-menu inner" role="menu"></ul>'+l+"</div></div>";return e(p)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menuInner[0].innerHTML=e},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var r=this,i=[],o=0,a=document.createElement("option"),s=-1,l=function(e,t,n,r){return"<li"+(void 0!==n&""!==n?' class="'+n+'"':"")+(void 0!==t&null!==t?' data-original-index="'+t+'"':"")+(void 0!==r&null!==r?'data-optgroup="'+r+'"':"")+">"+e+"</li>"},p=function(e,i,o,a){return'<a tabindex="0"'+(void 0!==i?' class="'+i+'"':"")+(void 0!==o?' style="'+o+'"':"")+(r.options.liveSearchNormalize?' data-normalized-text="'+t(n(e))+'"':"")+(void 0!==a||null!==a?' data-tokens="'+a+'"':"")+">"+e+'<span class="'+r.options.iconBase+" "+r.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(s--,!this.$element.find(".bs-title-option").length)){var u=this.$element[0];a.className="bs-title-option",a.appendChild(document.createTextNode(this.options.title)),a.value="",u.insertBefore(a,u.firstChild),void 0===e(u.options[u.selectedIndex]).attr("selected")&&(a.selected=!0)}return this.$element.find("option").each(function(t){var n=e(this);if(s++,!n.hasClass("bs-title-option")){var a=this.className||"",u=this.style.cssText,d=n.data("content")?n.data("content"):n.html(),c=n.data("tokens")?n.data("tokens"):null,f=void 0!==n.data("subtext")?'<small class="text-muted">'+n.data("subtext")+"</small>":"",h=void 0!==n.data("icon")?'<span class="'+r.options.iconBase+" "+n.data("icon")+'"></span> ':"",m="OPTGROUP"===this.parentNode.tagName,g=this.disabled||m&&this.parentNode.disabled;if(""!==h&&g&&(h="<span>"+h+"</span>"),r.options.hideDisabled&&g&&!m)return void s--;if(n.data("content")||(d=h+'<span class="text">'+d+f+"</span>"),m&&!0!==n.data("divider")){var y=" "+this.parentNode.className||"";if(0===n.index()){o+=1;var b=this.parentNode.label,v=void 0!==n.parent().data("subtext")?'<small class="text-muted">'+n.parent().data("subtext")+"</small>":"";b=(n.parent().data("icon")?'<span class="'+r.options.iconBase+" "+n.parent().data("icon")+'"></span> ':"")+'<span class="text">'+b+v+"</span>",0!==t&&i.length>0&&(s++,i.push(l("",null,"divider",o+"div"))),s++,i.push(l(b,null,"dropdown-header"+y,o))}if(r.options.hideDisabled&&g)return void s--;i.push(l(p(d,"opt "+a+y,u,c),t,"",o))}else!0===n.data("divider")?i.push(l("",t,"divider")):!0===n.data("hidden")?i.push(l(p(d,a,u,c),t,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(s++,i.push(l("",null,"divider",o+"div"))),i.push(l(p(d,a,u,c),t)));r.liObj[t]=s}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),i.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var n,r=this;!1!==t&&this.$element.find("option").each(function(e){var t=r.findLis().eq(r.liObj[e]);r.setDisabled(e,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,t),r.setSelected(e,this.selected,t)}),this.tabIndex();var i=this.$element.find("option").map(function(){if(this.selected){if(r.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var t,n=e(this),i=n.data("icon")&&r.options.showIcon?'<i class="'+r.options.iconBase+" "+n.data("icon")+'"></i> ':"";return t=r.options.showSubtext&&n.data("subtext")&&!r.multiple?' <small class="text-muted">'+n.data("subtext")+"</small>":"",void 0!==n.attr("title")?n.attr("title"):n.data("content")&&r.options.showContent?n.data("content"):i+n.html()+t}}).toArray(),o=this.multiple?i.join(this.options.multipleSeparator):i[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var a=this.options.selectedTextFormat.split(">");if(a.length>1&&i.length>a[1]||1==a.length&&i.length>=2){n=this.options.hideDisabled?", [disabled]":"";var s=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+n).length;o=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(i.length,s):this.options.countSelectedText).replace("{0}",i.length.toString()).replace("{1}",s.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(o=this.options.title),o||(o=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",e.trim(o.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(o),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=e||this.options.style;"add"==t?this.$button.addClass(n):"remove"==t?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){var n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("ul"),o=document.createElement("li"),a=document.createElement("li"),s=document.createElement("a"),l=document.createElement("span"),p=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,u=this.options.liveSearch?document.createElement("div"):null,d=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,c=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",n.className=this.$menu[0].parentNode.className+" open",r.className="dropdown-menu open",i.className="dropdown-menu inner",o.className="divider",l.appendChild(document.createTextNode("Inner text")),s.appendChild(l),a.appendChild(s),i.appendChild(a),i.appendChild(o),p&&r.appendChild(p),u){var f=document.createElement("span");u.className="bs-searchbox",f.className="form-control",u.appendChild(f),r.appendChild(u)}d&&r.appendChild(d),r.appendChild(i),c&&r.appendChild(c),n.appendChild(r),document.body.appendChild(n);var h=s.offsetHeight,m=p?p.offsetHeight:0,g=u?u.offsetHeight:0,y=d?d.offsetHeight:0,b=c?c.offsetHeight:0,v=e(o).outerHeight(!0),w="function"==typeof getComputedStyle&&getComputedStyle(r),k=w?null:e(r),T=parseInt(w?w.paddingTop:k.css("paddingTop"))+parseInt(w?w.paddingBottom:k.css("paddingBottom"))+parseInt(w?w.borderTopWidth:k.css("borderTopWidth"))+parseInt(w?w.borderBottomWidth:k.css("borderBottomWidth")),I=T+parseInt(w?w.marginTop:k.css("marginTop"))+parseInt(w?w.marginBottom:k.css("marginBottom"))+2;document.body.removeChild(n),this.sizeInfo={liHeight:h,headerHeight:m,searchHeight:g,actionsHeight:y,doneButtonHeight:b,dividerHeight:v,menuPadding:T,menuExtras:I}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var t,n,r,i,o=this,a=this.$menu,s=this.$menuInner,l=e(window),p=this.$newElement[0].offsetHeight,u=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,c=this.sizeInfo.searchHeight,f=this.sizeInfo.actionsHeight,h=this.sizeInfo.doneButtonHeight,m=this.sizeInfo.dividerHeight,g=this.sizeInfo.menuPadding,y=this.sizeInfo.menuExtras,b=this.options.hideDisabled?".disabled":"",v=function(){r=o.$newElement.offset().top-l.scrollTop(),i=l.height()-r-p};if(v(),"auto"===this.options.size){var w=function(){var l,p=function(t,n){return function(r){return n?r.classList?r.classList.contains(t):e(r).hasClass(t):!(r.classList?r.classList.contains(t):e(r).hasClass(t))}},m=o.$menuInner[0].getElementsByTagName("li"),b=Array.prototype.filter?Array.prototype.filter.call(m,p("hidden",!1)):o.$lis.not(".hidden"),w=Array.prototype.filter?Array.prototype.filter.call(b,p("dropdown-header",!0)):b.filter(".dropdown-header");v(),t=i-y,o.options.container?(a.data("height")||a.data("height",a.height()),n=a.data("height")):n=a.height(),o.options.dropupAuto&&o.$newElement.toggleClass("dropup",r>i&&n>t-y),o.$newElement.hasClass("dropup")&&(t=r-y),l=b.length+w.length>3?3*u+y-2:0,a.css({"max-height":t+"px",overflow:"hidden","min-height":l+d+c+f+h+"px"}),s.css({"max-height":t-d-c-f-h-g+"px","overflow-y":"auto","min-height":Math.max(l-g,0)+"px"})};w(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",w),l.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",w)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(b).length>this.options.size){var k=this.$lis.not(".divider").not(b).children().slice(0,this.options.size).last().parent().index(),T=this.$lis.slice(0,k+1).filter(".divider").length;t=u*this.options.size+T*m+g,o.options.container?(a.data("height")||a.data("height",a.height()),n=a.data("height")):n=a.height(),o.options.dropupAuto&&this.$newElement.toggleClass("dropup",r>i&&n>t-y),a.css({"max-height":t+d+c+f+h+"px",overflow:"hidden","min-height":""}),s.css({"max-height":t-g+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,n=e.children(".dropdown-menu").outerWidth(),r=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(n,r)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t,n,r=this,i=function(e){r.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),n=e.hasClass("dropup")?0:e[0].offsetHeight,r.$bsContainer.css({top:t.top+n,left:t.left,width:e[0].offsetWidth})};this.$button.on("click",function(){var t=e(this);r.isDisabled()||(i(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass("open",!t.hasClass("open")).append(r.$menu))}),e(window).on("resize scroll",function(){i(r.$newElement)}),this.$element.on("hide.bs.select",function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()})},setSelected:function(e,t,n){n||(n=this.findLis().eq(this.liObj[e])),n.toggleClass("selected",t)},setDisabled:function(e,t,n){n||(n=this.findLis().eq(this.liObj[e])),t?n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,n=e(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),n.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&n.data("spaceSelect")&&(e.preventDefault(),n.data("spaceSelect",!1))}),this.$button.on("click",function(){t.setSize()}),this.$element.on("shown.bs.select",function(){if(t.options.liveSearch||t.multiple){if(!t.multiple){var e=t.liObj[t.$element[0].selectedIndex];if("number"!=typeof e||!1===t.options.size)return;var n=t.$lis.eq(e)[0].offsetTop-t.$menuInner[0].offsetTop;n=n-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2,t.$menuInner[0].scrollTop=n}}else t.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(n){var r=e(this),i=r.parent().data("originalIndex"),o=t.$element.val(),a=t.$element.prop("selectedIndex");if(t.multiple&&n.stopPropagation(),n.preventDefault(),!t.isDisabled()&&!r.parent().hasClass("disabled")){var s=t.$element.find("option"),l=s.eq(i),p=l.prop("selected"),u=l.parent("optgroup"),d=t.options.maxOptions,c=u.data("maxOptions")||!1;if(t.multiple){if(l.prop("selected",!p),t.setSelected(i,!p),r.blur(),!1!==d||!1!==c){var f=d<s.filter(":selected").length,h=c<u.find("option:selected").length;if(d&&f||c&&h)if(d&&1==d)s.prop("selected",!1),l.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected"),t.setSelected(i,!0);else if(c&&1==c){u.find("option:selected").prop("selected",!1),l.prop("selected",!0);var m=r.parent().data("optgroup");t.$menuInner.find('[data-optgroup="'+m+'"]').removeClass("selected"),t.setSelected(i,!0)}else{var g="function"==typeof t.options.maxOptionsText?t.options.maxOptionsText(d,c):t.options.maxOptionsText,y=g[0].replace("{n}",d),b=g[1].replace("{n}",c),v=e('<div class="notify"></div>');g[2]&&(y=y.replace("{var}",g[2][d>1?0:1]),b=b.replace("{var}",g[2][c>1?0:1])),l.prop("selected",!1),t.$menu.append(v),d&&f&&(v.append(e("<div>"+y+"</div>")),t.$element.trigger("maxReached.bs.select")),c&&h&&(v.append(e("<div>"+b+"</div>")),t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(i,!1)},10),v.delay(750).fadeOut(300,function(){e(this).remove()})}}}else s.prop("selected",!1),l.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected"),t.setSelected(i,!0);t.multiple?t.options.liveSearch&&t.$searchbox.focus():t.$button.focus(),(o!=t.$element.val()&&t.multiple||a!=t.$element.prop("selectedIndex")&&!t.multiple)&&t.$element.trigger("changed.bs.select",[i,l.prop("selected"),p]).triggerNative("change")}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),t.options.liveSearch&&!e(n.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){t.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),n.preventDefault(),n.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$element.change(function(){t.render(!1)})},liveSearchListener:function(){var r=this,i=e('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){r.$menuInner.find(".active").removeClass("active"),r.$searchbox.val()&&(r.$searchbox.val(""),r.$lis.not(".is-hidden").removeClass("hidden"),i.parent().length&&i.remove()),r.multiple||r.$menuInner.find(".selected").addClass("active"),setTimeout(function(){r.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(r.$searchbox.val()){var o=r.$lis.not(".is-hidden").removeClass("hidden").children("a");o=r.options.liveSearchNormalize?o.not(":a"+r._searchStyle()+'("'+t(r.$searchbox.val())+'")'):o.not(":"+r._searchStyle()+'("'+r.$searchbox.val()+'")'),o.parent().addClass("hidden"),r.$lis.filter(".dropdown-header").each(function(){var t=e(this),n=t.data("optgroup");0===r.$lis.filter("[data-optgroup="+n+"]").not(t).not(".hidden").length&&(t.addClass("hidden"),r.$lis.filter("[data-optgroup="+n+"div]").addClass("hidden"))});var a=r.$lis.not(".hidden");a.each(function(t){var n=e(this);n.hasClass("divider")&&(n.index()===a.first().index()||n.index()===a.last().index()||a.eq(t+1).hasClass("divider"))&&n.addClass("hidden")}),r.$lis.not(".hidden, .no-results").length?i.parent().length&&i.remove():(i.parent().length&&i.remove(),i.html(r.options.noneResultsText.replace("{0}",'"'+n(r.$searchbox.val())+'"')).show(),r.$menuInner.append(i))}else r.$lis.not(".is-hidden").removeClass("hidden"),i.parent().length&&i.remove();r.$lis.filter(".active").removeClass("active"),r.$searchbox.val()&&r.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),e(this).focus()})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(e){return void 0!==e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},changeAll:function(t){void 0===t&&(t=!0),this.findLis();for(var n=this.$element.find("option"),r=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",t),i=r.length,o=[],a=0;i>a;a++){var s=r[a].getAttribute("data-original-index");o[o.length]=n.eq(s)[0]}e(o).prop("selected",t),this.render(!1),this.$element.trigger("changed.bs.select").triggerNative("change")},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){e=e||window.event,e&&e.stopPropagation(),this.$button.trigger("click")},keydown:function(n){var r,i,o,a,s,l,p,u,d,c=e(this),f=c.is("input")?c.parent().parent():c.parent(),h=f.data("this"),m=":not(.disabled, .hidden, .dropdown-header, .divider)",g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(h.options.liveSearch&&(f=c.parent().parent()),h.options.container&&(f=h.$menu),r=e("[role=menu] li",f),d=h.$newElement.hasClass("open"),!d&&(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||n.keyCode>=65&&n.keyCode<=90)&&(h.options.container?h.$button.trigger("click"):(h.setSize(),h.$menu.parent().addClass("open"),d=!0),h.$searchbox.focus()),h.options.liveSearch&&(/(^9$|27)/.test(n.keyCode.toString(10))&&d&&0===h.$menu.find(".active").length&&(n.preventDefault(),h.$menu.parent().removeClass("open"),h.options.container&&h.$newElement.removeClass("open"),h.$button.focus()),r=e("[role=menu] li"+m,f),c.val()||/(38|40)/.test(n.keyCode.toString(10))||0===r.filter(".active").length&&(r=h.$menuInner.find("li"),r=h.options.liveSearchNormalize?r.filter(":a"+h._searchStyle()+"("+t(g[n.keyCode])+")"):r.filter(":"+h._searchStyle()+"("+g[n.keyCode]+")"))),r.length){if(/(38|40)/.test(n.keyCode.toString(10)))i=r.index(r.find("a").filter(":focus").parent()),a=r.filter(m).first().index(),s=r.filter(m).last().index(),o=r.eq(i).nextAll(m).eq(0).index(),l=r.eq(i).prevAll(m).eq(0).index(),p=r.eq(o).prevAll(m).eq(0).index(),h.options.liveSearch&&(r.each(function(t){e(this).hasClass("disabled")||e(this).data("index",t)}),i=r.index(r.filter(".active")),a=r.first().data("index"),s=r.last().data("index"),o=r.eq(i).nextAll().eq(0).data("index"),l=r.eq(i).prevAll().eq(0).data("index"),p=r.eq(o).prevAll().eq(0).data("index")),u=c.data("prevIndex"),38==n.keyCode?(h.options.liveSearch&&i--,i!=p&&i>l&&(i=l),a>i&&(i=a),i==u&&(i=s)):40==n.keyCode&&(h.options.liveSearch&&i++,-1==i&&(i=0),i!=p&&o>i&&(i=o),i>s&&(i=s),i==u&&(i=a)),c.data("prevIndex",i),h.options.liveSearch?(n.preventDefault(),c.hasClass("dropdown-toggle")||(r.removeClass("active").eq(i).addClass("active").children("a").focus(),c.focus())):r.eq(i).children("a").focus();else if(!c.is("input")){var y,b,v=[];r.each(function(){e(this).hasClass("disabled")||e.trim(e(this).children("a").text().toLowerCase()).substring(0,1)==g[n.keyCode]&&v.push(e(this).index())}),y=e(document).data("keycount"),y++,e(document).data("keycount",y),b=e.trim(e(":focus").text().toLowerCase()).substring(0,1),b!=g[n.keyCode]?(y=1,e(document).data("keycount",y)):y>=v.length&&(e(document).data("keycount",0),y>v.length&&(y=1)),r.eq(v[y-1]).children("a").focus()}if((/(13|32)/.test(n.keyCode.toString(10))||/(^9$)/.test(n.keyCode.toString(10))&&h.options.selectOnTab)&&d){if(/(32)/.test(n.keyCode.toString(10))||n.preventDefault(),h.options.liveSearch)/(32)/.test(n.keyCode.toString(10))||(h.$menuInner.find(".active a").click(),c.focus());else{var w=e(":focus");w.click(),w.focus(),n.preventDefault(),e(document).data("spaceSelect",!0)}e(document).data("keycount",0)}(/(^9$|27)/.test(n.keyCode.toString(10))&&d&&(h.multiple||h.options.liveSearch)||/(27)/.test(n.keyCode.toString(10))&&!d)&&(h.$menu.parent().removeClass("open"),h.options.container&&h.$newElement.removeClass("open"),h.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var o=e.fn.selectpicker;e.fn.selectpicker=r,e.fn.selectpicker.Constructor=i,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=o,this},e(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',i.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);r.call(t,t.data())})})}(e)})},3526:function(e,t,n){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.6",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return i<n&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&"bottom":!(i+a<=e-r)&&"bottom";var s=null==this.affixed,l=s?i:o.top,p=s?a:t;return null!=n&&i<=n?"top":null!=r&&l+p>=e-r&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),p=e.Event(l+".bs.affix");if(this.$element.trigger(p),p.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(e)}).call(t,n(245))},3527:function(e,t,n){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.6",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(e)}).call(t,n(245))},3528:function(e,t,n){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.6",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),e(n.target).is('input[type="radio"]')||e(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(e)}).call(t,n(245))},3529:function(e,t,n){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var r="prev"==e?-1:1,i=(n+r)%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var p=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:p,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var c=e.Event("slid.bs.carousel",{relatedTarget:p,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(e)}).call(t,n(245))},3530:function(e,t,n){(function(e){+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.6",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"))&&t.transitioning)){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return i.call(this);this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(e)}).call(t,n(245))},3531:function(e,t,n){(function(e){+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(e)}).call(t,n(245))},3532:function(e,t,n){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.6",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(e)}).call(t,n(245))},3533:function(e,t,n){(function(e){+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.6",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(e)}).call(t,n(245))},3534:function(e,t,n){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(e)}).call(t,n(245))},3535:function(e,t,n){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,p=l.test(s);p&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=o[0].offsetWidth,c=o[0].offsetHeight;if(p){var f=s,h=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+c>h.bottom?"top":"top"==s&&u.top-c<h.top?"bottom":"right"==s&&u.right+d>h.width?"left":"left"==s&&u.left-d<h.left?"right":s,o.removeClass(f).addClass(s)}var m=this.getCalculatedOffset(s,u,d,c);this.applyPlacement(m,s);var g=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var l=r[0].offsetWidth,p=r[0].offsetHeight;"top"==n&&p!=o&&(t.top=t.top+o-p);var u=this.getViewportAdjustedDelta(n,t,l,p);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(n),c=d?2*u.left-i+l:2*u.top-o+p,f=d?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(c,r[0][f],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&o.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=r?{top:0,left:0}:t.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,a,s,o)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:l>a.top+a.height&&(i.top=a.top+a.height-l)}else{var p=t.left-o,u=t.left+o+n;p<a.left?i.left=a.left-p:u>a.right&&(i.left=a.left+a.width-u)}return i},n.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},n.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(e)}).call(t,n(245))},3536:function(e,t,n){(function(e){+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(e)}).call(t,n(245))},3537:function(e,t,n){var r,i,o;!function(){var a=function(e){function t(e,t){if(e.indexOf)return e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function n(e,n){var r=t(e,n);-1!==r&&e.splice(r,1)}function r(e,t){return"[object "+t+"]"===Object.prototype.toString.call(e)}function i(e){return r(e,"RegExp")}function o(e){return r(e,"Array")}function a(e){return"function"==typeof e}function s(e){return null===e||"null"===e?null:"true"===e||"false"!==e&&(e===h||"undefined"===e?h:""===e||isNaN(e)?e:parseFloat(e))}function l(e){for(var t=e.length,n=[];t--;)n[t]=s(e[t]);return n}function p(e,t){for(var n,r,i,a,l=(e||"").replace("?","").split("&"),p=-1,u={};r=l[++p];)n=r.indexOf("="),a=r.substring(0,n),i=decodeURIComponent(r.substring(n+1)),!1!==t&&(i=s(i)),a in u?o(u[a])?u[a].push(i):u[a]=[u[a],i]:u[a]=i;return u}function u(){this.bypassed=new e.Signal,this.routed=new e.Signal,this._routes=[],this._prevRoutes=[],this._piped=[],this.resetState()}function d(t,n,r,o){var a=i(t),s=o.patternLexer;this._router=o,this._pattern=t,this._paramsIds=a?null:s.getParamIds(t),this._optionalParamsIds=a?null:s.getOptionalParamsIds(t),this._matchRegexp=a?t:s.compilePattern(t,o.ignoreCase),this.matched=new e.Signal,this.switched=new e.Signal,n&&this.matched.add(n),this._priority=r||0}var c,f,h;return f=""===/t(.+)?/.exec("t")[1],u.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,resetState:function(){this._prevRoutes.length=0,this._prevMatchedRequest=null,this._prevBypassedRequest=null},create:function(){return new u},addRoute:function(e,t,n){var r=new d(e,t,n,this);return this._sortedInsert(r),r},removeRoute:function(e){n(this._routes,e),e._destroy()},removeAllRoutes:function(){for(var e=this.getNumRoutes();e--;)this._routes[e]._destroy();this._routes.length=0},parse:function(e,t){if(e=e||"",t=t||[],this.ignoreState||e!==this._prevMatchedRequest&&e!==this._prevBypassedRequest){var n,r=this._getMatchedRoutes(e),i=0,o=r.length;if(o)for(this._prevMatchedRequest=e,this._notifyPrevRoutes(r,e),this._prevRoutes=r;i<o;)n=r[i],n.route.matched.dispatch.apply(n.route.matched,t.concat(n.params)),n.isFirst=!i,this.routed.dispatch.apply(this.routed,t.concat([e,n])),i+=1;else this._prevBypassedRequest=e,this.bypassed.dispatch.apply(this.bypassed,t.concat([e]));this._pipeParse(e,t)}},_notifyPrevRoutes:function(e,t){for(var n,r=0;n=this._prevRoutes[r++];)n.route.switched&&this._didSwitch(n.route,e)&&n.route.switched.dispatch(t)},_didSwitch:function(e,t){for(var n,r=0;n=t[r++];)if(n.route===e)return!1;return!0},_pipeParse:function(e,t){for(var n,r=0;n=this._piped[r++];)n.parse(e,t)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(e){var t=this._routes,n=t.length;do{--n}while(t[n]&&e._priority<=t[n]._priority);t.splice(n+1,0,e)},_getMatchedRoutes:function(e){for(var t,n=[],r=this._routes,i=r.length;(t=r[--i])&&((!n.length||this.greedy||t.greedy)&&t.match(e)&&n.push({route:t,params:t._getParamsArray(e)}),this.greedyEnabled||!n.length););return n},pipe:function(e){this._piped.push(e)},unpipe:function(e){n(this._piped,e)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}},c=new u,c.VERSION="0.12.2",c.NORM_AS_ARRAY=function(e,t){return[t.vals_]},c.NORM_AS_OBJECT=function(e,t){return[t]},d.prototype={greedy:!1,rules:void 0,match:function(e){return e=e||"",this._matchRegexp.test(e)&&this._validateParams(e)},_validateParams:function(e){var t,n=this.rules,r=this._getParamsObject(e);for(t in n)if("normalize_"!==t&&n.hasOwnProperty(t)&&!this._isValidParam(e,t,r))return!1;return!0},_isValidParam:function(e,n,r){var s=this.rules[n],l=r[n],p=!1,u=0===n.indexOf("?");return null==l&&this._optionalParamsIds&&-1!==t(this._optionalParamsIds,n)?p=!0:i(s)?(u&&(l=r[n+"_"]),p=s.test(l)):o(s)?(u&&(l=r[n+"_"]),p=this._isValidArrayRule(s,l)):a(s)&&(p=s(l,e,r)),p},_isValidArrayRule:function(e,n){if(!this._router.ignoreCase)return-1!==t(e,n);"string"==typeof n&&(n=n.toLowerCase());for(var r,i=e.length;i--;)if(r=e[i],("string"==typeof r?r.toLowerCase():r)===n)return!0;return!1},_getParamsObject:function(e){for(var n,r,i=this._router.shouldTypecast,o=this._router.patternLexer.getParamValues(e,this._matchRegexp,i),a={},l=o.length;l--;)r=o[l],this._paramsIds&&(n=this._paramsIds[l],0===n.indexOf("?")&&r&&(a[n+"_"]=r,r=p(r,i),o[l]=r),f&&""===r&&-1!==t(this._optionalParamsIds,n)&&(r=void 0,o[l]=r),a[n]=r),a[l]=r;return a.request_=i?s(e):e,a.vals_=o,a},_getParamsArray:function(e){var t=this.rules?this.rules.normalize_:null;return t=t||this._router.normalizeFn,t&&a(t)?t(e,this._getParamsObject(e)):this._getParamsObject(e).vals_},interpolate:function(e){var t=this._router.patternLexer.interpolate(this._pattern,e);if(!this._validateParams(t))throw new Error("Generated string doesn't validate against `Route.rules`.");return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose(),this.switched.dispose(),this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}},u.prototype.patternLexer=function(){function e(e,t){var n,r=[];for(e.lastIndex=0;n=e.exec(t);)r.push(n[1]);return r}function t(t){return e(c,t)}function n(t){return e(f.OP.rgx,t)}function r(e,t){return e=e||"",e&&(y===h?e=e.replace(u,""):y===g&&(e=e.replace(d,"")),e=i(e,"rgx","save"),e=e.replace(p,"\\$&"),e=i(e,"rRestore","res"),y===h&&(e="\\/?"+e)),y!==m&&(e+="\\/?"),new RegExp("^"+e+"$",t?"i":"")}function i(e,t,n){var r,i;for(i in f)f.hasOwnProperty(i)&&(r=f[i],e=e.replace(r[t],r[n]));return e}function a(e,t,n){var r=t.exec(e);return r&&(r.shift(),n&&(r=l(r))),r}function s(e,t){if(t=t||{},"string"!=typeof e)throw new Error("Route pattern should be a string.");var n=function(e,n){var r;if(n="?"===n.substr(0,1)?n.substr(1):n,null!=t[n]){if("object"==typeof t[n]){var i,a=[];for(var s in t[n])if(i=t[n][s],o(i))for(var l in i)"[]"==s.slice(-2)?a.push(encodeURI(s.slice(0,-2))+"[]="+encodeURI(i[l])):a.push(encodeURI(s+"="+i[l]));else a.push(encodeURI(s+"="+i));r="?"+a.join("&")}else r=String(t[n]);if(-1===e.indexOf("*")&&-1!==r.indexOf("/"))throw new Error('Invalid value "'+r+'" for segment "'+e+'".')}else{if(-1!==e.indexOf("{"))throw new Error("The segment "+e+" is required.");r=""}return r};return f.OS.trail||(f.OS.trail=new RegExp("(?:"+f.OS.id+")+$")),e.replace(f.OS.rgx,f.OS.save).replace(c,n).replace(f.OS.trail,"").replace(f.OS.rRestore,"/")}var p=/[\\.+*?\^$\[\](){}\/'#]/g,u=/^\/|\/$/g,d=/\/$/g,c=/(?:\{|:)([^}:]+)(?:\}|:)/g,f={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},h=1,m=2,g=3,y=h;return function(){var e,t;for(e in f)f.hasOwnProperty(e)&&(t=f[e],t.id="__CR_"+e+"__",t.save="save"in t?t.save.replace("{{id}}",t.id):t.id,t.rRestore=new RegExp(t.id,"g"))}(),{strict:function(){y=m},loose:function(){y=h},legacy:function(){y=g},getParamIds:t,getOptionalParamsIds:n,getParamValues:a,compilePattern:r,interpolate:s}}(),c};i=[n(1910)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}()},3540:function(e,t,n){var r,i,o;/*!
 * Hasher <http://github.com/millermedeiros/hasher>
 * @author Miller Medeiros
 * @version 1.2.0 (2013/11/11 03:18 PM)
 * Released under the MIT License
 */
!function(){var a=function(e){return function(t){function n(e){return String(e||"").replace(/\W/g,"\\$&")}function r(e){if(!e)return"";var t=new RegExp("^"+n(f.prependHash)+"|"+n(f.appendHash)+"$","g");return e.replace(t,"")}function i(){var e=k.exec(f.getURL()),t=e&&e[1]||"";try{return f.raw?t:decodeURIComponent(t)}catch(e){return t}}function o(){return y?y.contentWindow.frameHash:null}function a(){y=v.createElement("iframe"),y.src="about:blank",y.style.display="none",v.body.appendChild(y)}function s(){if(y&&h!==o()){var e=y.contentWindow.document;e.open(),e.write("<html><head><title>"+v.title+'</title><script type="text/javascript">var frameHash="'+h+'";<\/script></head><body>&nbsp;</body></html>'),e.close()}}function l(e,t){if(h!==e){var n=h;h=e,S&&(t?y.contentWindow.frameHash=e:s()),f.changed.dispatch(r(e),r(n))}}function p(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function u(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function d(e){e=Array.prototype.slice.call(arguments);var t=e.join(f.separator);return t=t?f.prependHash+t.replace(I,"")+f.appendHash:t}function c(e){return e=encodeURI(e),C&&j&&(e=e.replace(/\?/,"%3F")),e}var f,h,m,g,y,b,v=t.document,w=(t.history,e.Signal),k=/#(.*)$/,T=/(\?.*)|(\#.*)/,I=/^\#/,C=!1,x="onhashchange"in t&&7!==v.documentMode,S=C&&!x,j="file:"===location.protocol;return b=S?function(){var e=i(),t=o();t!==h&&t!==e?f.setHash(r(t)):e!==h&&l(e)}:function(){var e=i();e!==h&&l(e)},f={VERSION:"1.2.0",raw:!1,appendHash:"",prependHash:"/",separator:"/",changed:new w,stopped:new w,initialized:new w,init:function(){g||(h=i(),x?p(t,"hashchange",b):(S&&(y||a(),s()),m=setInterval(b,25)),g=!0,f.initialized.dispatch(r(h)))},stop:function(){g&&(x?u(t,"hashchange",b):(clearInterval(m),m=null),g=!1,f.stopped.dispatch(r(h)))},isActive:function(){return g},getURL:function(){return t.location.href},getBaseURL:function(){return f.getURL().replace(T,"")},setHash:function(e){(e=d.apply(null,arguments))!==h&&(l(e),e===h&&(f.raw||(e=c(e)),t.location.hash="#"+e))},replaceHash:function(e){(e=d.apply(null,arguments))!==h&&(l(e,!0),e===h&&(f.raw||(e=c(e)),t.location.replace("#"+e)))},getHash:function(){return r(h)},getHashAsArray:function(){return f.getHash().split(f.separator)},dispose:function(){f.stop(),f.initialized.dispose(),f.stopped.dispose(),f.changed.dispose(),y=f=t.hasher=null},toString:function(){return'[hasher version="'+f.VERSION+'" hash="'+f.getHash()+'"]'}},f.initialized.memorize=!0,f}(window)};i=[n(1910)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}()},3548:function(e,t,n){var r,i,o;!function(a){"use strict";i=[n(245)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){"use strict";function t(t){return!t.nodeName||-1!==e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function n(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var r=e.scrollTo=function(t,n,r){return e(window).scrollTo(t,n,r)};return r.defaults={axis:"xy",duration:0,limit:!0},e.fn.scrollTo=function(i,o,a){"object"==typeof o&&(a=o,o=0),"function"==typeof a&&(a={onAfter:a}),"max"===i&&(i=9e9),a=e.extend({},r.defaults,a),o=o||a.duration;var s=a.queue&&1<a.axis.length;return s&&(o/=2),a.offset=n(a.offset),a.over=n(a.over),this.each(function(){function l(t){var n=e.extend({},a,{queue:!0,duration:o,complete:t&&function(){t.call(d,f,a)}});c.animate(h,n)}if(null!==i){var p,u=t(this),d=u?this.contentWindow||window:this,c=e(d),f=i,h={};switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=n(f);break}f=u?e(f):e(f,d);case"object":if(0===f.length)return;(f.is||f.style)&&(p=(f=e(f)).offset())}var m=e.isFunction(a.offset)&&a.offset(d,f)||a.offset;e.each(a.axis.split(""),function(e,t){var n="x"===t?"Left":"Top",i=n.toLowerCase(),o="scroll"+n,g=c[o](),y=r.max(d,t);p?(h[o]=p[i]+(u?0:g-c.offset()[i]),a.margin&&(h[o]-=parseInt(f.css("margin"+n),10)||0,h[o]-=parseInt(f.css("border"+n+"Width"),10)||0),h[o]+=m[i]||0,a.over[i]&&(h[o]+=f["x"===t?"width":"height"]()*a.over[i])):(n=f[i],h[o]=n.slice&&"%"===n.slice(-1)?parseFloat(n)/100*y:n),a.limit&&/^\d+$/.test(h[o])&&(h[o]=0>=h[o]?0:Math.min(h[o],y)),!e&&1<a.axis.length&&(g===h[o]?h={}:s&&(l(a.onAfterFirst),h={}))}),l(a.onAfter)}})},r.max=function(n,r){var i="x"===r?"Width":"Height",o="scroll"+i;if(!t(n))return n[o]-e(n)[i.toLowerCase()]();var i="client"+i,a=n.ownerDocument||n.document,s=a.documentElement,a=a.body;return Math.max(s[o],a[o])-Math.min(s[i],a[i])},e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var n=this.get(t);if(t.options.interrupt&&t._last&&t._last!==n)return e(t.elem).stop();var r=Math.round(t.now);n!==r&&(e(t.elem)[t.prop](r),t._last=this.get(t))}},r})},3549:function(e,t,n){var r,i,o;!function(a,s){i=[t,e,n(164),n(1166)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var t=0;t<O.length;t++)if(O[t].name===e)return O[t]}function a(e,t){var n={name:e,drake:t};return O.push(n),n}function s(e,t){var n=(0,b.default)(t);return l(n),a(e,n)}function l(e){e.on("drop",c),e.on("remove",f),e.on("cancel",h)}function p(e,t){var n=e.drake.containers.indexOf(t);e.drake.containers.splice(n,1),e.drake.containers.length||u(e)}function u(e){var t=O.indexOf(e);O.splice(t,1),e.drake.destroy()}function d(e,t){var n=(0,b.default)([e],t);return l(n),n}function c(e,t,n){var r=y.default.dataFor(e),i=y.default.contextFor(e),o=x(n,w),a=o.indexOf(r),s=x(t,w),l=Array.prototype.indexOf.call(t.children,e);t.removeChild(e),o.splice(a,1),s.splice(l,0,r);var p=x(t,k);p&&p.call(i,r,a,o,l,s)}function f(e,t){var n=y.default.dataFor(e),r=x(t,w),i=r.indexOf(n),o=y.default.contextFor(e);r.splice(i,1);var a=x(t,T);a&&a.call(o,n,i,r)}function h(e,t){var n=y.default.dataFor(e),r=x(t,w),i=r.indexOf(n);t.removeChild(e),r.splice(i,1),r.splice(i,0,n)}function m(e,t){var n={data:t.data||e()};return v.forEach(function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}function g(e,t){var n=o(t.group);n?n.drake.containers.push(e):n=a(t.group,d(e,t)),j(e,function(){return p(n,e)})}var y=i(n),b=i(r),v=["afterAdd","afterMove","afterRender","as","beforeRemove"],w="ko_dragula_list",k="ko_dragula_afterDrop",T="ko_dragula_afterDelete",I=y.default.unwrap,C=y.default.utils.domData.set,x=y.default.utils.domData.get,S=y.default.bindingHandlers.foreach,j=y.default.utils.domNodeDisposal.addDisposeCallback,O=[];y.default.bindingHandlers.dragula={init:function(e,t,n,r,i){var o=I(t())||{},a=m(t,o);return C(e,w,a.data),C(e,k,o.afterDrop),C(e,T,o.afterDelete),S.init(e,function(){return a},n,r,i),o.group?g(e,o):function(){var t=d(e,o);j(e,function(){return t.destroy()})}(),{controlsDescendantBindings:!0}},update:function(e,t,n,r,i){var o=I(t())||{},a=m(t,o);C(e,w,a.data),C(e,k,o.afterDrop),C(e,T,o.afterDelete),S.update(e,function(){return a},n,r,i)}},t.exports={add:a,options:s,find:o,destroy:u}})},3550:function(e,t,n){!function(e){e(n(164),t)}(function(e,t,n){var r,i,o,a={},s=1;t.subscriptions=a,e.subscribable.call(t),t.topicCache={},t.serializer=e.toJSON,t.publish=function(e,n){e&&(t.topicCache[e]={value:n,serialized:t.serializer(n)},t.notifySubscribers(n,e))},o=t.subscribe,t.subscribe=function(e,r,i,l){var p,u,d;if(e)return"boolean"==typeof i&&(l=i,i=n),p=o.call(t,r,i,e),p.subId=++s,a[s]=p,l&&(u=t.topicCache[e])!==n&&r.call(i,u.value),d=p.dispose,p.dispose=function(){delete a[p.subId],d.call(p)},p},t.reset=function(){var e;for(var n in a)a.hasOwnProperty(n)&&(e=a[n])&&"function"==typeof e.dispose&&e.dispose();t.topicCache={}},t.defaultComparer=function(e,n){return n&&t.serializer(e)===n.serialized},i=function(){var e,t=this;t.willDisposePostbox||(t.willDisposePostbox=!0,e=t.dispose,t.dispose=function(){var n,r,i,o,a=t.postboxSubs;if(a)for(n in a)if(a.hasOwnProperty(n)&&(r=a[n]))for(i in r)r.hasOwnProperty(i)&&(o=r[i])&&"function"==typeof o.dispose&&o.dispose();e&&e.call(t)})},e.subscribable.fn.publishOn=function(e,n,o){var l,p,u;return i.call(this),e&&("function"==typeof n?o=n:l=n,o=o||t.defaultComparer,r.call(this,e,"publishOn"),p=this.subscribe(function(n){o.call(this,n,t.topicCache[e])||t.publish(e,n)},this),p.id=++s,a[s]=p,u=p.dispose,p.dispose=function(){delete this.postboxSubs[e].publishOn,delete a[p.id],u.call(p)}.bind(this),this.postboxSubs[e].publishOn=p,l||t.publish(e,this())),this},r=function(e,t){var n=this.postboxSubs=this.postboxSubs||{};n[e]=n[e]||{},n[e][t]&&n[e][t].dispose()},e.subscribable.fn.stopPublishingOn=function(e){return r.call(this,e,"publishOn"),this},e.subscribable.fn.subscribeTo=function(o,a,s){var l,p,u,d,c,f=this;return i.call(this),"function"==typeof a?s=a:l=a,o&&e.isWriteableObservable(this)&&(r.call(this,o,"subscribeTo"),u=function(e){f(s?s.call(f,e):e)},d=t.subscribe(o,u),this.postboxSubs[o].subscribeTo=d,c=d.dispose,d.dispose=function(){delete this.postboxSubs[o].subscribeTo,c.call(d)}.bind(this),l&&(p=t.topicCache[o])!==n&&u(p.value)),this},e.subscribable.fn.unsubscribeFrom=function(e){return r.call(this,e,"subscribeTo"),this},e.subscribable.fn.syncWith=function(e,t,n,r){return this.subscribeTo(e,t).publishOn(e,n,r),this},e.subscribable.fn.stopSyncingWith=function(e){return this.unsubscribeFrom(e).stopPublishingOn(e),this},e.postbox=t})},3551:function(e,t,n){var r,i,o;/*! Knockout projections plugin - version 1.1.0
------------------------------------------------------------------------------
Copyright (c) Microsoft Corporation
All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 
THIS CODE IS PROVIDED *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions and limitations under the License.
------------------------------------------------------------------------------
*/
!function(a){"use strict";function s(e,t,n,r,i,o,a){this.inputItem=t,this.stateArrayIndex=n,this.mappingOptions=i,this.arrayOfState=o,this.outputObservableArray=a,this.outputArray=this.outputObservableArray.peek(),this.isIncluded=null,this.suppressNotification=!1,this.outputArrayIndex=e.observable(r),this.disposeFuncFromMostRecentMapping=null,this.mappedValueComputed=e.computed(this.mappingEvaluator,this),this.mappedValueComputed.subscribe(this.onMappingResultChanged,this),this.previousMappedValue=this.mappedValueComputed.peek()}function l(e,t){if(!e)return null;switch(e.status){case"added":return e.index;case"deleted":return e.index+t;default:throw new Error("Unknown diff status: "+e.status)}}function p(e,t,n,r,i,o,a,l,p){var u="number"==typeof t.moved,d=u?n[t.moved]:new s(e,t.value,r,i,o,a,l);return a.splice(r,0,d),d.isIncluded&&p.splice(i,0,d.mappedValueComputed.peek()),u&&(d.stateArrayIndex=r,d.setOutputArrayIndexSilently(i)),d}function u(e,t,n,r,i){var o=t.splice(n,1)[0];o.isIncluded&&i.splice(r,1),"number"!=typeof e.moved&&o.dispose()}function d(e,t,n){return e.stateArrayIndex=t,e.setOutputArrayIndexSilently(n),n+(e.isIncluded?1:0)}function c(e,t){for(var n={},r=0;r<e.length;r++){var i=e[r];"added"===i.status&&"number"==typeof i.moved&&(n[i.moved]=t[i.moved])}return n}function f(e,t,n){return n.length&&t[e.index]?t[e.index].outputArrayIndex.peek():n.length}function h(e,t,n,r,i,o){return t.subscribe(function(t){if(t.length){for(var a=c(t,n),s=0,h=t[0],m=0,g=h&&f(h,n,r),y=h.index;h||y<n.length;y++)if(l(h,m)===y){switch(h.status){case"added":var b=p(e,h,a,y,g,o,n,i,r);b.isIncluded&&g++,m++;break;case"deleted":u(h,n,y,g,r),m--,y--;break;default:throw new Error("Unknown diff status: "+h.status)}s++,h=t[s]}else y<n.length&&(g=d(n[y],y,g));i.valueHasMutated()}},null,"arrayChange")}function m(e,t){var n=this,r=[],i=[],o=e.observableArray(i),a=n.peek();if("function"==typeof t&&(t={mapping:t}),t.mappingWithDisposeCallback){if(t.mapping||t.disposeItem)throw new Error("'mappingWithDisposeCallback' cannot be used in conjunction with 'mapping' or 'disposeItem'.")}else if(!t.mapping)throw new Error("Specify either 'mapping' or 'mappingWithDisposeCallback'.");for(var l=0;l<a.length;l++){var p=a[l],u=new s(e,p,l,i.length,t,r,o),d=u.mappedValueComputed.peek();r.push(u),u.isIncluded&&i.push(d)}var c=h(e,n,r,i,o,t),f=e.computed(o).extend({trackArrayChanges:!0}),m=f.dispose;return f.dispose=function(){c.dispose(),e.utils.arrayForEach(r,function(e){e.dispose()}),m.call(this,arguments)},b(e,f),f}function g(e,t){return m.call(this,e,function(e){return t(e)?e:w})}function y(e){function t(e,t){return function(){return t.apply(this,[e].concat(Array.prototype.slice.call(arguments,0)))}}e[k]={map:t(e,m),filter:t(e,g)}}function b(e,t){return e.utils.extend(t,e[k]),t}function v(e){e.projections={_exclusionMarker:w},y(e),b(e,e.observableArray.fn)}var w={};s.prototype.dispose=function(){this.mappedValueComputed.dispose(),this.disposeResultFromMostRecentEvaluation()},s.prototype.disposeResultFromMostRecentEvaluation=function(){if(this.disposeFuncFromMostRecentMapping&&(this.disposeFuncFromMostRecentMapping(),this.disposeFuncFromMostRecentMapping=null),this.mappingOptions.disposeItem){var e=this.mappedValueComputed();this.mappingOptions.disposeItem(e)}},s.prototype.mappingEvaluator=function(){null!==this.isIncluded&&this.disposeResultFromMostRecentEvaluation();var e;if(this.mappingOptions.mapping)e=this.mappingOptions.mapping(this.inputItem,this.outputArrayIndex);else{if(!this.mappingOptions.mappingWithDisposeCallback)throw new Error("No mapping callback given.");var t=this.mappingOptions.mappingWithDisposeCallback(this.inputItem,this.outputArrayIndex);if(!("mappedValue"in t))throw new Error("Return value from mappingWithDisposeCallback should have a 'mappedItem' property.");e=t.mappedValue,this.disposeFuncFromMostRecentMapping=t.dispose}var n=e!==w;return this.isIncluded!==n&&(null!==this.isIncluded&&this.moveSubsequentItemsBecauseInclusionStateChanged(n),this.isIncluded=n),e},s.prototype.onMappingResultChanged=function(e){e!==this.previousMappedValue&&(this.isIncluded&&this.outputArray.splice(this.outputArrayIndex.peek(),1,e),this.suppressNotification||this.outputObservableArray.valueHasMutated(),this.previousMappedValue=e)},s.prototype.moveSubsequentItemsBecauseInclusionStateChanged=function(e){var t,n,r=this.outputArrayIndex.peek();if(e)for(this.outputArray.splice(r,0,null),t=this.stateArrayIndex+1;t<this.arrayOfState.length;t++)n=this.arrayOfState[t],n.setOutputArrayIndexSilently(n.outputArrayIndex.peek()+1);else for(this.outputArray.splice(r,1),t=this.stateArrayIndex+1;t<this.arrayOfState.length;t++)n=this.arrayOfState[t],n.setOutputArrayIndexSilently(n.outputArrayIndex.peek()-1)},s.prototype.setOutputArrayIndexSilently=function(e){this.suppressNotification=!0,this.outputArrayIndex(e),this.suppressNotification=!1};var k="_ko.projections.cache";!function(){if(void 0!==e&&void 0!==e.exports){var a=n(164);v(a),e.exports=a}else i=[n(164)],r=v,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}()}()},3552:function(e,t,n){var r,i,o;!function(a){i=[n(164)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){if(!e.virtualElements)throw Error("Repeat requires at least Knockout 2.1");var t=e.bindingFlags||{},n=e.utils.unwrapObservable,r="__ko_proto__";if(e.version>="3.0.0"){var i=e.bindingProvider.instance,o=i.preprocessNode;i.preprocessNode=function(e){var t,n;if((!o||!(t=o.call(this,e)))&&1===e.nodeType&&(n=e.getAttribute("data-bind"))&&/^\s*repeat\s*:/.test(n)){var r=e.ownerDocument.createComment("ko "+n),i=e.ownerDocument.createComment("/ko");e.parentNode.insertBefore(r,e),e.parentNode.insertBefore(i,e.nextSibling),e.removeAttribute("data-bind"),t=[r,e,i]}return t}}e.virtualElements.allowedBindings.repeat=!0,e.bindingHandlers.repeat={flags:t.contentBind|t.canUseVirtual,init:function(t,i,o,a,s){var l=n(i());if(l&&"object"==typeof l&&!("length"in l))var p=l.index,u=l.item,d=l.step,c=l.reverse,f=l.bind,h=l.init,m=l.update;p=p||"$index",u=u||e.bindingHandlers.repeat.itemName||"$item",d=d||1,c=c||!1;var g,y=t.parentNode;if(8==t.nodeType){var b=e.utils.arrayFilter(e.virtualElements.childNodes(t),function(e){return 1==e.nodeType});if(1!==b.length)throw Error("Repeat binding requires a single element to repeat");e.virtualElements.emptyNode(t),g=c?t:t.nextSibling,t=b[0]}else{var v=t.getAttribute("data-bind");e.cleanNode(t),t.removeAttribute("data-bind"),g=t.ownerDocument.createComment("ko_repeatplaceholder "+v),y.replaceChild(g,t)}f||(f=t.getAttribute("data-repeat-bind"))&&t.removeAttribute("data-repeat-bind");var w=t.cloneNode(!0);"string"==typeof f&&(w.setAttribute("data-bind",f),f=null);var k,T,I=0,C=e.observable();return h&&h(y),{controlsDescendantBindings:!0,subscribable:e.computed(function(){function t(t){var i=function(r){var i=k[t];return arguments.length?(e.isObservable(i)?i(r):T&&T.splice?T.splice(t,1,r):k[t]=r,this):(C(),n(i))};return i[r]=e.observable,i}var o=i(),a=n(o),l=0;a&&"object"==typeof a?("length"in a?(k=a,l=k.length):("foreach"in a&&(k=n(o=a.foreach),k&&"object"==typeof k&&"length"in k?l=k.length||0:(l=k||0,k=null)),"count"in a&&(l=n(a.count)||l),"limit"in a&&(l=Math.min(l,n(a.limit))||l)),T=k&&e.isObservable(o)?o:null):l=a||0;for(;I>l;I-=d)e.removeNode(c?g.nextSibling:g.previousSibling);for(C.notifySubscribers();I<l;I+=d){var h=w.cloneNode(!0);if(y.insertBefore(h,c?g.nextSibling:g),h.setAttribute("data-repeat-index",I),k&&"$data"==u)var b=s.createChildContext(t(I));else{var b=s.extend();k&&(b[u]=t(I))}if(b[p]=I,f)var v=e.applyBindingsToNode(h,function(e,t,n){return k?function(){return f.call(s.$data,e,t,n)}:function(){return f.call(s.$data,t,n)}}(b[u],I,b),b,!0),x=v&&v.shouldBindDescendants;(!f||v&&!1!==x)&&e.applyBindings(b,h)}m&&m(y)},null,{disposeWhenNodeIsRemoved:g})}}}})},3554:function(e,t,n){var r,i,o;!function(a,s){i=[n(164)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e){function t(t,n){var r=c(n.$switchValueAccessor());return"boolean"==typeof r?t?r:!r:"boolean"==typeof t?t:t instanceof Array?-1!==e.utils.arrayIndexOf(t,r):t==r}function n(e,n){return!t(e,n)}function r(e){return function(){return e}}function i(i,o,a){var s=o?n:t;return i||(i="if"),a||(a=r),{flags:f[i].flags,init:function(t,n,r,o,p){if(!p.$switchSkipNextArray)throw Error("case binding must only be used with a switch binding");if(p.$switchIndex!==l)throw Error("case binding cannot be nested");if(p.$switchIndex=p.$switchSkipNextArray.push(e.observable(!1))-1,p.$caseValue=e.observable(),e.computed(function(){var e,t,r,i=p.$switchIndex,o=i===p.$switchSkipNextArray.length-1;i&&p.$switchSkipNextArray[i-1]()?(e=!1,t=!0):(e=c(n()),e===p.$else?(e=p.$switchDefault()||o,t=!1):r=t=e=s(e,p)),p.$caseValue(e),p.$switchSkipNextArray[i](t),r?p.$switchDefault(!1):!t&&o&&p.$switchDefault(!0)},null,{disposeWhenNodeIsRemoved:t}),f[i].init)return f[i].init(t,a(p.$caseValue),r,o,p)},update:function(e,t,n,r,o){if(f[i].update)return f[i].update(e,a(o.$caseValue),n,r,o)}}}function o(e,t,n){return p.allowedBindings[e]&&(p.allowedBindings[n]=!0),i(e,"casenot"===t)}function a(e,t,n){return o(t,e,n)}function s(e,t){f[e]=i("if",t),d[e]=!1,p.allowedBindings[e]=!0,f[e].makeSubkeyHandler=a,f[e].getNamespacedHandler=o}var l;if(!e.virtualElements)throw Error("Switch-case requires at least Knockout 2.1");var p=e.virtualElements,u=e.bindingFlags||{},d=e.bindingRewriteValidators||e.jsonExpressionRewriting.bindingRewriteValidators,c=e.utils.unwrapObservable,f=e.bindingHandlers,h={};f.switch={flags:u.contentBind|u.canUseVirtual|u.noValue,init:function(t,n,r,i,o){var a={$switchSkipNextArray:[],$switchValueAccessor:n,$switchDefault:e.observable(!0),$default:h,$else:h},s=[];for(e.computed(function(){var t=c(n());a.$value=t,e.utils.arrayForEach(s,function(e){e.$value=t})},null,{disposeWhenNodeIsRemoved:t}),r=p.firstChild(t);t=r;)switch(r=p.nextSibling(t),t.nodeType){case 1:case 8:i=o.extend(a),i.$switchIndex=l,e.applyBindings(i,t),i.$switchIndex!==l&&s.push(i)}return{controlsDescendantBindings:!0}},preprocess:function(e){return e||"true"}},d.switch=!1,p.allowedBindings.switch=!0,s("case"),s("casenot",!0),f["case.visible"]=i("visible"),f["casenot.visible"]=i("visible",!0),f.switch.makeCaseHandler=i})},3555:function(e,t,n){var r,i,o;/**
 * @license Knockout.Punches
 * Enhanced binding syntaxes for Knockout 3+
 * (c) Michael Best
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 * Version 0.5.1
 */
!function(a){i=[n(164)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){function t(e,t){return r(n(e),"preprocess",t)}function n(t){return"object"==typeof t?t:e.getBindingHandler(t)||(e.bindingHandlers[t]={})}function r(e,t,n){if(e[t]){var r=e[t];e[t]=function(e,t,i){if(e=r.call(this,e,t,i))return n.call(this,e,t,i)}}else e[t]=n;return e}function i(t){var n=e.bindingProvider.instance;if(n.preprocessNode){var r=n.preprocessNode;n.preprocessNode=function(e){var n=r.call(this,e);return n||(n=t.call(this,e)),n}}else n.preprocessNode=t}function o(t,n){var r=e.getBindingHandler;e.getBindingHandler=function(e){var i;return r(e)||(i=e.match(t))&&n(i,e)}}function a(e){if(-1===e.indexOf("|"))return e;var t=e.match(/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'|\|\||[|:]|[^\s|:"'][^|:"']*[^\s|:"']|[^\s|:"']/g);if(t&&t.length>1){t.push("|"),e=t[0];for(var n,r,r,i=!1,o=!1,a=1;r=t[a];++a)"|"===r?(i&&(":"===n&&(e+="undefined"),e+=")"),o=!0,i=!0):(o?e="ko.filters['"+r+"']("+e:i&&":"===r?(":"===n&&(e+="undefined"),e+=","):e+=r,o=!1),n=r}return e}function s(e){t(e,a)}function l(t,n,r){function i(r){o[r]&&(o[r]=function(i,o){function a(){var e={};return e[t]=o(),e}var s=Array.prototype.slice.call(arguments,0);return s[1]=a,e.bindingHandlers[n][r].apply(this,s)})}var o=e.utils.extend({},this);return i("init"),i("update"),o.preprocess&&(o.preprocess=null),e.virtualElements.allowedBindings[n]&&(e.virtualElements.allowedBindings[r]=!0),o}function p(n,r){var i=e.getBindingHandler(n);if(i){var o=i.getNamespacedHandler||l;i.getNamespacedHandler=function(){return t(o.apply(this,arguments),r)}}}function u(t,n,r){if("{"!==t.charAt(0))return t;var i=e.expressionRewriting.parseObjectLiteral(t);e.utils.arrayForEach(i,function(e){r(n+_+e.key,e.value)})}function d(e){t(e,u)}function c(e){return/^([$_a-z][$\w]*|.+(\.\s*[$_a-z][$\w]*|\[.+\]))$/i.test(e)?"function(_x,_y,_z){return("+e+")(_x,_y,_z);}":e}function f(e){t(e,c)}function h(e,t,i){var o=n(e);o._propertyPreprocessors||(r(o,"preprocess",m),o._propertyPreprocessors={}),r(o._propertyPreprocessors,t,i)}function m(t,n,r){if("{"!==t.charAt(0))return t;var i=e.expressionRewriting.parseObjectLiteral(t),o=[],a=this._propertyPreprocessors||{};return e.utils.arrayForEach(i,function(e){var t=e.key,n=e.value;a[t]&&(n=a[t](n,t,r)),n&&o.push("'"+t+"':"+n)}),"{"+o.join(",")+"}"}function g(e){return function(t){return"function("+e+"){return("+t+");}"}}function y(e,n){t(e,g(Array.prototype.slice.call(arguments,1).join()))}function b(e,t,n){function r(e){var i=e.match(/^([\s\S]*)}}([\s\S]*?)\{\{([\s\S]*)$/);i?(r(i[1]),t(i[2]),n(i[3])):n(e)}var i=e.match(/^([\s\S]*?)\{\{([\s\S]*)}}([\s\S]*)$/);i&&(t(i[1]),r(i[2]),t(i[3]))}function v(e){return null==e?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function w(e){function t(e){e&&r.push(document.createTextNode(e))}function n(t){t&&r.push.apply(r,E.wrapExpression(t,e))}if(3===e.nodeType&&e.nodeValue&&-1!==e.nodeValue.indexOf("{{")&&"TEXTAREA"!=(e.parentNode||{}).nodeName){var r=[];if(b(e.nodeValue,t,n),r.length){if(e.parentNode){for(var i=0,o=r.length,a=e.parentNode;i<o;++i)a.insertBefore(r[i],e);a.removeChild(e)}return r}}}function k(e,t){var n,r,i=t?t.ownerDocument:document,o=!0,e=v(e),a=e[0],s=e[e.length-1],l=[];return"#"===a?("/"===s?n=e.slice(1,-1):(n=e.slice(1),o=!1),(r=n.match(/^([^,"'{}()\/:[\]\s]+)\s+([^\s:].*)/))&&(n=r[1]+":"+r[2])):"/"===a||(n="{"===a&&"}"===s?"html:"+v(e.slice(1,-1)):"text:"+v(e)),n&&l.push(i.createComment("ko "+n)),o&&l.push(i.createComment("/ko")),l}function T(){i(w)}function I(t){function n(e){e&&p.push('"'+e.replace(/"/g,'\\"')+'"')}function r(e){e&&(u=e,p.push("ko.unwrap("+e+")"))}if(1===t.nodeType&&t.attributes.length)for(var i=t.getAttribute(M),o=e.utils.arrayPushAll([],t.attributes),a=o.length,s=0;s<a;++s){var l=o[s];if(l.specified&&l.name!=M&&-1!==l.value.indexOf("{{")){var p=[],u="";if(b(l.value,n,r),p.length>1&&(u='""+'+p.join("+")),u){var d=l.name.toLowerCase(),c=L.attributeBinding(d,u,t)||C(d,u,t);i?i+=","+c:i=c,t.setAttribute(M,i),t.removeAttribute(l.name)}}}}function C(t,n,r){return e.getBindingHandler(t)?t+":"+n:"attr."+t+":"+n}function x(){i(I)}var S=e.unwrap,j=e.punches={utils:{addBindingPreprocessor:t,addNodePreprocessor:i,addBindingHandlerCreator:o,setBindingPreprocessor:t,setNodePreprocessor:i}};j.enableAll=function(){T(),x(),d("attr"),d("css"),d("event"),d("style"),e.bindingHandlers.checked.after.push("attr.value"),s("text"),s("html"),p("attr",a),f("click"),f("submit"),f("optionsAfterRender"),p("event",c),h("template","beforeRemove",c),h("template","afterAdd",c),h("template","afterRender",c)};var O={};O.uppercase=function(e){return String.prototype.toUpperCase.call(S(e))},O.lowercase=function(e){return String.prototype.toLowerCase.call(S(e))},O.default=function(e,t){return e=S(e),"function"==typeof e?e:"string"==typeof e?""===v(e)?t:e:null==e||0==e.length?t:e},O.replace=function(e,t,n){return String.prototype.replace.call(S(e),t,n)},O.fit=function(e,t,n,r){if(e=S(e),!(t&&(""+e).length>t))return e;switch(n=""+(n||"..."),t-=n.length,e=""+e,r){case"left":return n+e.slice(-t);case"middle":var i=Math.ceil(t/2);return e.substr(0,i)+n+e.slice(i-t);default:return e.substr(0,t)+n}},O.json=function(t,n,r){return e.toJSON(t,r,n)},O.number=function(e){return(+S(e)).toLocaleString()},e.filters=O,j.textFilter={preprocessor:a,enableForBinding:s};var P=/([^\.]+)\.(.+)/,_=".";o(P,function(t,n){var r=t[1],i=e.bindingHandlers[r];if(i){var o=t[2],a=i.getNamespacedHandler||l,s=a.call(i,o,r,n);return e.bindingHandlers[n]=s,s}}),j.namespacedBinding={defaultGetHandler:l,setDefaultBindingPreprocessor:p,addDefaultBindingPreprocessor:p,preprocessor:u,enableForBinding:d},j.wrappedCallback={preprocessor:c,enableForBinding:f},j.preprocessBindingProperty={setPreprocessor:h,addPreprocessor:h};var D=g("$data,$event");if(j.expressionCallback={makePreprocessor:g,eventPreprocessor:D,enableForBinding:y},e.bindingHandlers.on={getNamespacedHandler:function(n){return t(e.getBindingHandler("event"+_+n),D)}},!e.virtualElements.allowedBindings.html){var A=e.bindingHandlers.html.update;e.bindingHandlers.html.update=function(t,n){if(8===t.nodeType){var r=S(n());if(null!=r){var i=e.utils.parseHtmlFragment(""+r);e.virtualElements.setDomNodeChildren(t,i)}else e.virtualElements.emptyNode(t)}else A(t,n)},e.virtualElements.allowedBindings.html=!0}var E=j.interpolationMarkup={preprocessor:w,enable:T,wrapExpression:k},M="data-bind",L=j.attributeInterpolationMarkup={preprocessor:I,enable:x,attributeBinding:C};return j})},3562:function(e,t,n){var r,i;!function(n,o){r=[],void 0!==(i=function(){return n.svg4everybody=o()}.apply(t,r))&&(e.exports=i)}(this,function(){function e(e,t,n){if(n){var r=document.createDocumentFragment(),i=!t.hasAttribute("viewBox")&&n.getAttribute("viewBox");i&&t.setAttribute("viewBox",i);for(var o=n.cloneNode(!0);o.childNodes.length;)r.appendChild(o.firstChild);e.appendChild(r)}}function t(t){t.onreadystatechange=function(){if(4===t.readyState){var n=t._cachedDocument;n||(n=t._cachedDocument=document.implementation.createHTMLDocument(""),n.body.innerHTML=t.responseText,t._cachedTarget={}),t._embeds.splice(0).map(function(r){var i=t._cachedTarget[r.id];i||(i=t._cachedTarget[r.id]=n.getElementById(r.id)),e(r.parent,r.svg,i)})}},t.onreadystatechange()}function n(n){function i(){for(var n=0;n<h.length;){var s=h[n],l=s.parentNode,p=r(l);if(p){var u=s.getAttribute("xlink:href")||s.getAttribute("href");if(!u&&a.attributeName&&(u=s.getAttribute(a.attributeName)),o)if(!a.validate||a.validate(u,p,s)){l.removeChild(s);var d=u.split("#"),g=d.shift(),y=d.join("#");if(g.length){var b=c[g];b||(b=c[g]=new XMLHttpRequest,b.open("GET",g),b.send(),b._embeds=[]),b._embeds.push({parent:l,svg:p,id:y}),t(b)}else e(l,p,document.getElementById(y))}else++n,++m}else++n}(!h.length||h.length-m>0)&&f(i,67)}var o,a=Object(n),s=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,l=/\bAppleWebKit\/(\d+)\b/,p=/\bEdge\/12\.(\d+)\b/,u=/\bEdge\/.(\d+)\b/,d=window.top!==window.self;o="polyfill"in a?a.polyfill:s.test(navigator.userAgent)||(navigator.userAgent.match(p)||[])[1]<10547||(navigator.userAgent.match(l)||[])[1]<537||u.test(navigator.userAgent)&&d;var c={},f=window.requestAnimationFrame||setTimeout,h=document.getElementsByTagName("use"),m=0;o&&i()}function r(e){for(var t=e;"svg"!==t.nodeName.toLowerCase()&&(t=t.parentNode););return t}return n})},3570:function(e,t,n){(function(r){var i,o,a=function(e,t){return function(){return e.apply(t,arguments)}};i=[n(164),n(1359),n(14),n(1245),n(1922)],void 0!==(o=function(e,t,n,i,o){var s;return s="dateInput: ",i.defineBinding("dateInput",function(){function i(){this.OnRomeBack=a(this.OnRomeBack,this),this.OnRomeNext=a(this.OnRomeNext,this),this.parseLimits=a(this.parseLimits,this),this.update=a(this.update,this),this.init=a(this.init,this),this.subscriptions=[]}return i.prototype.init=function(i,a,s,l,p){var u,d,c,f,h,m,g,y,b,v,w,k,T,I;g=null!=(b=s().dateInputOptions)?b:{},c=!!g.allowEmpty,f=g.appendTo,h=null!=(v=g.centerPopup)&&v,this.minMoment=e.observable(),this.maxMoment=e.observable(),null!=g.minMoment&&(this.minMomentInput=e.isObservable(g.minMoment)?g.minMoment:e.observable(g.minMoment),this.minMomentInput.subscribe(function(e){return function(t){e.minMoment(null!=t?t.clone():void 0),e.parseLimits(i)}}(this))),null!=g.maxMoment&&(this.maxMomentInput=e.isObservable(g.maxMoment)?g.maxMoment:e.observable(g.maxMoment),this.maxMomentInput.subscribe(function(e){return function(t){e.maxMoment(null!=t?t.clone():void 0),e.parseLimits(i)}}(this))),this.minMoment("function"==typeof this.minMomentInput?this.minMomentInput().clone():void 0),this.maxMoment("function"==typeof this.maxMomentInput?this.maxMomentInput().clone():void 0),this.parseLimits(i),null!=g.softMinMoment&&(console.assert(e.isObservable(g.softMinMoment)),this.softMinMoment=g.softMinMoment),null!=g.softMaxMoment&&(console.assert(e.isObservable(g.softMaxMoment)),this.softMaxMoment=g.softMaxMoment),null!=g.ignoreSoftLimit&&(console.assert(e.isObservable(g.ignoreSoftLimit)),this.ignoreSoftLimit=g.ignoreSoftLimit),this.subscriptions.push(this.defaultDate=e.pureComputed(function(e){return function(){return("function"==typeof e.softMinMoment?e.softMinMoment():void 0)||("function"==typeof e.softMaxMoment?e.softMaxMoment():void 0)||null}}(this))),this.showMessageOnLimits=null==(w=g.showMessageOnLimits)||w,this.softMinExceededMessage=null!=(k=g.softMinExceededMessage)?k:app.tl("Auto-adjusted to after Start Date"),this.softMaxExceededMessage=null!=(T=g.softMaxExceededMessage)?T:app.tl("Auto-adjusted to before Due Date"),y=t(i,{time:!1,inputFormat:app.loggedInUser.localization.dateFormat(),weekdayFormat:"short",dayFormat:"D",weekStart:app.loggedInUser.localization.startOnSunday()?0:1,required:!c,appendTo:f,min:this.minMoment(),max:this.maxMoment()}),d=r(i),u=r(y.container),d.attr("placeholder",app.tl("No Date")),d.addClass("w-date-input__input"),u.addClass("popup"),h&&u.addClass("rd-center"),m=Math.floor((u.outerWidth()-d.outerWidth())/2),u.css("margin-left",m+"px"),I=function(){var e,t,r,i,o,s,l,p;s=d.val(),r=s?n(s,app.loggedInUser.localization.dateFormat()):null,e=a()(),i=n.isMoment(r)&&r.isValid(),t=n.isMoment(e)&&e.isValid(),i?(y.setValue(r),d.val(r.userFormat()),p=r.year(),l=r.month(),o=r.date(),t?e.year()===p&&e.month()===l&&e.date()===o||a()(e.clone().year(p).month(l).date(o)):a()(n().year(p).month(l).date(o))):t?c&&!s?a()(null):(y.setValue(e.clone()),d.val(e.userFormat())):null===e?d.val(""):a()(null)},y.on("show",function(e){return function(){null==a()()&&null!=("function"==typeof e.defaultDate?e.defaultDate():void 0)&&a()(e.defaultDate())}}(this)),y.on("data",function(e){return function(){I()}}()),d.on("blur",function(e){return function(){I()}}()),d.on("keydown",function(e){return function(e){13===e.keyCode&&I()}}()),y.on("next",this.OnRomeNext),y.on("back",this.OnRomeBack),this.softMinMoment&&this.subscriptions.push(this.softMinMoment.subscribe(function(e){return function(t){var n,r;if("function"==typeof e.ignoreSoftLimit?e.ignoreSoftLimit():void 0)return void e.ignoreSoftLimit(!1);null!=(n=a())()&&null!=t&&n().isBefore(t)&&(n(t.clone()),e.showMessageOnLimits&&null!=(r=e.tempTipped)&&r.display(i,e.softMinExceededMessage))}}(this))),this.softMaxMoment&&this.subscriptions.push(this.softMaxMoment.subscribe(function(e){return function(t){var n,r;if("function"==typeof e.ignoreSoftLimit?e.ignoreSoftLimit():void 0)return void e.ignoreSoftLimit(!1);null!=(n=a())()&&null!=t&&n().isAfter(t)&&(n(t.clone()),e.showMessageOnLimits&&null!=(r=e.tempTipped)&&r.display(i,e.softMaxExceededMessage))}}(this))),this.tempTipped=new o,this.update.apply(this,arguments)},i.prototype.update=function(e,i,o,a,s){var l,p,u,d,c;u=null!=(c=o().dateInputOptions)?c:{},l=!!u.allowEmpty,d=t.find(e),p=i()(),null===p?l?(d.setValue(null),r(e).val("")):i()(n()):n.isMoment(p)&&p.isValid()?(d.setValue(p.clone()),r(e).val(p.userFormat()),this.softMinMoment&&null!=this.ignoreSoftLimit&&this.clickedRomeNext&&(this.ignoreSoftLimit(!0),this.clickedRomeNext=!1),this.softMaxMoment&&null!=this.ignoreSoftLimit&&this.clickedRomeBack&&(this.ignoreSoftLimit(!0),this.clickedRomeBack=!1)):l?i()(null):i()(n())},i.prototype.parseLimits=function(e){var n,r;null!=this.minMoment()&&null!=this.maxMoment()&&this.minMoment().diff(this.maxMoment(),"days")>-1&&(console.warn(s,"`maxMoment` must be at least one day after `minMoment`. Modifying minMoment to one day before maxMoment."),this.minMoment(this.maxMoment().clone().subtract(1,"days").subtract(1,"minute"))),(r=null!=(n=t.find(e))?n.options():void 0)&&(r.min=this.minMoment(),r.max=this.maxMoment(),t(e).options(r))},i.prototype.OnRomeNext=function(e){if(this.softMinMoment&&null!=this.ignoreSoftLimit)return this.ignoreSoftLimit(!0)},i.prototype.OnRomeBack=function(e){if(this.softMaxMoment&&null!=this.ignoreSoftLimit)return this.ignoreSoftLimit(!0)},i.prototype.dispose=function(e){var n,i;return this.subscriptions.forEach(function(e){return e.dispose()}),n=r(e),i=t.find(e),i.destroy(),n.off()},i}())}.apply(t,i))&&(e.exports=o)}).call(t,n(245))},3572:function(e,t,n){var r,i;r=[n(164),n(1185)],void 0!==(i=function(e,t){return e.bindingHandlers.draggable={init:function(e,n){var r,i,o,a,s,l,p,u,d,c,f,h,m,g,y,b,v,w,k;return l=e,k=null!=(y=n().selector)?y:null,a=null!=k?document.querySelector(k):e,console.assert(null!=a),i=null!=(b=n().axis)?b:null,o=null!=(v=n().dragClass)?v:null,p=null!=(w=n().handleDragClass)?w:null,s=!1,u=0,d=0,m=0,g=0,0,r=9,null!=app.cache.get("timerPosition")&&(a.style.left=app.cache.get("timerPosition")),c=function(e){if(!s)return s=!0,window.requestAnimationFrame(function(){return u=m-e.clientX,d=g-e.clientY,m=e.clientX,g=e.clientY,i&&"x"!==i||a.offsetLeft-u>=r&&a.offsetLeft-u+a.clientWidth<=window.innerWidth-r&&(a.style.left=(a.offsetLeft-u)/window.innerWidth*100+"%"),i&&"y"!==i||a.offsetTop-d>=r&&a.offsetTop-d+a.clientHeight<=window.innerHeight-r&&(a.style.top=(a.offsetTop-d)/window.innerHeight*100+"%"),s=!1})},h=function(){return app.cache.set("timerPosition",a.style.left),document.body.style.cursor="auto",null!=o&&a.classList.remove(o),null!=p&&l.classList.remove(p),window.removeEventListener("mousemove",c)},f=function(e){return a.offsetLeft+a.clientWidth>=window.innerWidth-r&&a.clientWidth<window.innerWidth+2*r&&(a.style.left=(window.innerWidth-a.clientWidth-r)/window.innerWidth*100+"%"),document.body.style.cursor="x"===i?"ew-resize":"y"===i?"ns-resize":"move",null!=o&&a.classList.add(o),null!=p&&l.classList.add(p),m=e.clientX,g=e.clientY,window.addEventListener("mouseup",h,!1),window.addEventListener("mousemove",c,!1)},l.addEventListener("mousedown",f,!1),new t(document.body,function(){if(a.offsetLeft+a.clientWidth>=window.innerWidth-r)return a.style.left=(window.innerWidth-a.clientWidth-r)/window.innerWidth*100+"%"})}}}.apply(t,r))&&(e.exports=i)},3573:function(e,t,n){var r,i;r=[n(164),n(1710),n(245)],void 0!==(i=function(e,t,n){return e.bindingHandlers.durationInput={init:function(r,i,o,a,s){var l;return l=n(r),l.addClass("duration-input"),l.on("input",function(){return i()(t.parse(l.val()))}),l.on("blur",function(){return l.val(t.formatHoursAndMinutes(i()()))}),l.val(t.formatHoursAndMinutes(i()())),e.utils.domNodeDisposal.addDisposeCallback(r,function(){return l.off()})},update:function(e,r,i,o,a){var s;if(s=r()(),e!==document.activeElement)return n(e).val(t.formatHoursAndMinutes(s))}}}.apply(t,r))&&(e.exports=i)},3575:function(e,t,n){var r,i,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=[n(164),n(245)],void 0!==(i=function(e,t){var n,r;return r=function(e){var t,n;if(!e||0===e.length)return!0;if(Array.isArray(e)){for(t=0,n=e.length;t<n;t++)if("string"!=typeof e[t])return!1;return!0}return"string"==typeof e},n=function(e){return Array.isArray(e)?e.map(function(e,t,n){return String(e)}):String(e)},e.bindingHandlers.eventDelegate={init:function(t,i,a,s,l){var p,u,d,c,f,h,m,g;if(p=["$component","$data","$parent","$rawData","app"],f=i(),g=[],window.devMode&&console.info("eventDelegate initialised..."),c=function(t,n){var r;for(r=0;r<n.length;)n[r].includes("()")&&(n[r]=n[r].replace("()","")),t=e.unwrap(t[n[r]]),r++;return t},Array.isArray(f))for(d=function(i){return function(i){var a;return a=function(t){var a,s,l,u,d,f,h,m,g,y,b,v,w,k,T,I,C;if(d=t.target,m=app.utility.IsMacPlatform(),b=t.ctrlKey&&!m||t.metaKey&&m,u=null!=(w=d.dataset)?w:null,null==u?s=[]:(s=JSON.parse(null!=(k=u.params)?k:"[]"),Array.isArray(s)||(s=[s]),r(s)||(console.warn("data-params only accepts string or array of strings. Invalid params passed: ",s,"Falling back to convert params to strings."),s=n(s))),y=!1,b&&(y=app.utility.FindDOMItemByDataAttribute("metaLink",d)),y)return window.devMode&&console.info("eventDelegate => metaLink:"+y.dataset.metaLink),window.open(y.dataset.metaLink),void(t.preventDefault?t.preventDefault():t.returnValue=!1);if(!b&&"click"===i&&!1!==(h=app.utility.FindDOMItemByDataAttribute("ignoreLeftClick",d))&&0===t.button)return window.devMode&&console.info("eventDelegate => ignoreLeftClick:"+h),void(t.preventDefault?t.preventDefault():t.returnValue=!1);if(null!=u&&null!=u[i]||(v=app.utility.FindDOMItemByDataAttribute("interceptEvents",d))&&(u=null!=(T=v.dataset)?T:null),s.length||(s=[e.dataFor(d),t]),null!=(null!=u?u[i]:void 0)){if(a=u[i],l="$data",window.devMode&&console.info("eventDelegate => _handler:["+a+"] _scope: ["+l+"]"),s.push(d),a.includes(".")){C=a.split("."),I=C[0],o.call(p,I)>=0&&(l=C[0],C.shift()),console.assert(o.call(p,l)>=0),g="app"===l?app:e.contextFor(d)[l];try{f=c(g,C).apply(g,s)}catch(e){t=e,console.error("couldn't execute path",a),console.error(t)}}else try{f=e.contextFor(d)[l][a].apply(null,s)}catch(e){t=e,console.error("couldn't execute function",a,l),console.error(t)}return!1===f&&t.preventDefault&&t.preventDefault(),t.returnValue=f}},t.addEventListener(i,a),g.push({type:i,handler:a})}}(),h=0,m=f.length;h<m;h++)u=f[h],d(u);return e.utils.domNodeDisposal.addDisposeCallback(t,function(){var e,n,r,i;for(i=[],n=0,r=g.length;n<r;n++)e=g[n],i.push(t.removeEventListener(e.type,e.handler));return i})}}}.apply(t,r))&&(e.exports=i)},3576:function(e,t,n){var r,i;r=[n(164),n(245),n(1185)],void 0!==(i=function(e,t,n){return e.bindingHandlers.twfiltersSticky={init:function(r,i,o,a,s){var l,p,u,d;d=[],u=function(){var e,n,i,o,a,s,u,d,c,f,h,m;if(m=p.scrollTop(),h=p.height(),c=l.outerHeight(),i=t(".app-header__base").outerHeight(),n=t(".app-header__top").outerHeight(),c>=t(".app-content").outerHeight())return void l.removeAttr("style");null==this.lastFiltersWindowPos&&(this.lastFiltersWindowPos=m),null==this.lastFiltersFixedPos&&(this.lastFiltersFixedPos=0),s=m>this.lastFiltersWindowPos,u=m>i,d=u&&c<=h,u?d?(this.lastFiltersFixedPos=0,l.attr("style","position: fixed; top: "+n+"px;")):s?(a=Math.abs(p.height()-l.outerHeight())+n,e=Math.abs(m-this.lastFiltersWindowPos),this.lastFiltersFixedPos=this.lastFiltersFixedPos+e,this.lastFiltersFixedPos>=a?(this.lastFiltersFixedPos=a,l.attr("style","position: fixed; bottom: 0;")):(f=n-this.lastFiltersFixedPos,l.attr("style","position: fixed; top: "+f+"px;"))):(e=Math.abs(this.lastFiltersWindowPos-m),this.lastFiltersFixedPos=this.lastFiltersFixedPos-e,this.lastFiltersFixedPos<=0?(this.lastFiltersFixedPos=0,l.attr("style","position: fixed; top: "+n+"px;")):(f=n-this.lastFiltersFixedPos,l.attr("style","position: fixed; top: "+f+"px;"))):l.removeAttr("style"),this.lastFiltersWindowPos=m,navigator.userAgent.indexOf(!1)&&-1===navigator.userAgent.indexOf("Chrome")&&!d&&u&&p.scrollTop()>=t(document).height()-p.height()&&(o=t(r).parents(".sticky-container").height()-c,l.css("position","relative"),l.css("top",o+"px"))},t(document.body),p=t(window),l=t(r),this.lastFiltersWindowPos=null,this.lastFiltersFixedPos=0,d.push(app.currentRoute.subscribe(function(e){return function(){return e.lastFiltersFixedPos=0,e.lastFiltersWindowPos=0}}(this))),new n(t(".app-body")[0],u),new n(l[0],u),p.on("scroll resize",u),u(),e.utils.domNodeDisposal.addDisposeCallback(l[0],function(){return d.forEach(function(e){return e.dispose()}),p.off("scroll",u)})}}}.apply(t,r))&&(e.exports=i)},3579:function(e,t,n){var r,i,o=function(e,t){return function(){return e.apply(t,arguments)}};r=[n(164),n(1245)],void 0!==(i=function(e,t){return t.defineBinding("loader",function(){function t(){this.stop=o(this.stop,this),this.start=o(this.start,this),this.wrapContentsWithLabel=o(this.wrapContentsWithLabel,this),this.createProgress=o(this.createProgress,this),this.createSpinner=o(this.createSpinner,this),this.subscriptions=[],this.rootClass="w-loader",this.spinnerClass=this.rootClass+"__spinner",this.labelClass=this.rootClass+"__label",this.progressClass=this.rootClass+"__progress",this.openClass=this.rootClass+"--open"}var n,r;return n="loader binding",r={EXPAND:"expand",ZOOM:"zoom"},t.prototype.init=function(t,i,o){var a,s,l,p,u;if(a=null!=(s=o().loaderOptions)?s:{},t.disabled=!1,t.classList.add(this.rootClass),this.mode=null!=(l=a.mode)?l:"expand-right",this.type=this.mode.split("-")[0],this.direction=this.mode.split("--")[0],t.classList.add(this.rootClass+"--"+this.type),t.classList.add(this.rootClass+"--"+this.direction),this.direction!==this.mode&&t.classList.add(this.rootClass+"--"+this.mode),this.type!==r.ZOOM&&null==a.progress||null==t.querySelectorAll("."+this.labelClass)[0]&&this.wrapContentsWithLabel(t),this.disableWhenOpen=null==(p=e.unwrap(a.disableWhenOpen))||p,null!=a.spinnerSelector&&"."!==a.spinnerSelector[0]&&(a.spinnerSelector="."+a.spinnerSelector),this.spinnerEl=t.querySelectorAll(null!=(u=a.spinnerSelector)?u:"."+this.spinnerClass)[0],setTimeout(function(r){return function(){var o;return null==r.spinnerEl&&(r.spinnerEl=r.createSpinner(t)),r.spinnerEl.classList.contains(r.spinnerClass)||r.spinnerEl.classList.add(r.spinnerClass),o=i(),e.isObservable(o)?(r.subscriptions.push(o.subscribe(function(e){return e?r.start(t):r.stop(t)})),t.disable=!!o()):console.error(n+": argument passed to loader binding must be an observable: ",t)}}(this),10),null!=a.progress){if(this.progressEl=this.createProgress(t),"number"!=typeof a.progress())return console.error(n+": progress observable must return a number, given: "+typeof a.progress());this.subscriptions.push(a.progress.subscribe(function(e){return function(n){return e.progressEl.style.display=n<=0?"none":"block",n=Math.max(Math.min(n,1),0),e.progressEl.style.width=(n||0)*t.offsetWidth+"px"}}(this)))}},t.prototype.createSpinner=function(e){var t;return t='<div class="'+this.spinnerClass+'">\n    <div class="'+this.spinnerClass+'-preloader"></div>\n</div>',e.insertAdjacentHTML("beforeend",t),e.lastChild},t.prototype.createProgress=function(e){var t;return t='<div class="'+this.progressClass+'"></div>',e.insertAdjacentHTML("beforeend",t),e.lastChild},t.prototype.wrapContentsWithLabel=function(e){return e.innerHTML="<div class='"+this.labelClass+"'>"+e.innerHTML+"</div>",e.lastChild},t.prototype.start=function(e){return null!=this.hideHandle&&clearTimeout(this.hideHandle),this.spinnerEl.style.display="block",this.disableWhenOpen&&(e.disable=!0),setTimeout(function(t){return function(){return e.classList.add(t.openClass)}}(this),0)},t.prototype.stop=function(e){return e.classList.remove(this.openClass),this.disableWhenOpen&&(e.disable=!1),null!=this.hideHandle&&clearTimeout(this.hideHandle),this.hideHandle=setTimeout(function(e){return function(){return e.spinnerEl.style.display="none"}}(this),500)},t.prototype.dispose=function(e){return this.subscriptions.forEach(function(e){return e.dispose()})},t}())}.apply(t,r))&&(e.exports=i)},3581:function(e,t,n){var r,i;r=[n(164)],void 0!==(i=function(e){e.bindingHandlers.marked={init:function(){return{controlsDescendantBindings:!0}},update:function(t,n){var r,i,o,a,s,l,p,u,d,c,f,h,m,g,y,b,v,w,k,T;null==(s=e.unwrap(n()))||"string"!=(l=typeof s)&&"object"!==l||("string"==typeof s&&(s={value:s}),"string"==typeof(T=e.unwrap(null!=(p=s.value)?p:null))&&(k=e.unwrap(null==(u=s.useMarkdown)||u),b=e.unwrap(null!=(d=s.strip)&&d),o=e.unwrap(null!=(c=s.length)?c:null),i=e.unwrap(null!=(f=s.collapseQuotes)&&f),w=e.unwrap(null!=(h=s.trimWhiteSpace)&&h),a=e.unwrap(null!=(m=s.openExternalLinksInNewTab)&&m),r=e.unwrap(null!=(g=s.class)?g:""),v="",y=T,k&&(app.account.markdownEnabled()?y=app.utility.Markdown(y):(y=app.utility.ReplaceAllUrlsWithAnchors(y),w||(v="white-space:pre-wrap;"))),a&&!b&&(y=app.utility.SetUrlTargetAttributes(y)),b?(y=app.utility.StripHTML(y," "),null!=o&&(y=app.utility.Truncate(y,o))):i&&(y=app.utility.CollapseNestedBlockquotes(y)),e.utils.setHtml(t,'<div style="'+v+'" class="h-typo-formatting '+r+'">'+y+"</div>")))}}}.apply(t,r))&&(e.exports=i)},3582:function(e,t,n){(function(r){var i,o;i=[n(164),n(1911),n(245)],void 0!==(o=function(e,t,n){var i;return e.bindingHandlers.fadeVisible={update:function(t,n){var i;i=n(),e.unwrap(i)?r(t).fadeIn(200):r(t).fadeOut(200)},init:function(t,n){var i;i=n(),r(t).toggle(e.unwrap(i))}},e.bindingHandlers.slideInVisible={update:function(t,n){var i;i=n(),e.unwrap(i)?r(t).slideDown(200):r(t).slideUp(200)},init:function(t,n){var i;i=n(),r(t).toggle(e.unwrap(i))}},e.bindingHandlers.showHide={update:function(t,n){var i;null!=(i=n())&&(null==i.duration&&(i.duration=10),e.unwrap(i.trigger)?r(t).show(i.duration,i.callback):r(t).hide(i.duration,i.callback))}},e.bindingHandlers.tooltip={init:function(t,n){var i,o;i=e.unwrap(n()),o={},e.utils.extend(o,e.bindingHandlers.tooltip.options),e.utils.extend(o,i),r(t).tooltip(o),e.utils.domNodeDisposal.addDisposeCallback(t,function(){return r(t).tooltip("destroy")})},update:function(e,t){var n;return n=t(),null!=n.display&&n.display()&&"manual"===n.trigger?r(e).tooltip("show"):r(e).tooltip("hide")},options:{placement:"right",trigger:"click"}},e.bindingHandlers.thousandFormat={update:function(n,r,i){return e.bindingHandlers.html.update(n,function(){var e;return e=r(),t(e).format("0,0")})}},e.bindingHandlers.abbrNumber={update:function(n,r,i){return e.bindingHandlers.html.update(n,function(){var e;return e=r(),e<1e3?e:t(e).format("0.0a")})}},e.bindingHandlers.controlEnterToSubmit={init:function(t,n){var i,o,a;o=n(),i=null!=(a=o.autofocus)&&a,i&&r(t).focus(),r(t).on("keydown",function(e){if((-1!==window.navigator.appVersion.toLowerCase().indexOf("macintosh")&&e.metaKey||e.ctrlKey)&&13===e.which)return null!=(null!=o?o.submit:void 0)?o.submit():r(e.target).closest("form").submit(),!1}),e.utils.domNodeDisposal.addDisposeCallback(t,function(e){return function(){return r(t).off("keydown")}}())}},e.bindingHandlers.onRendered={init:function(t,n,r,i,o){return e.unwrap(n())(t,r,i,o)}},e.virtualElements.allowedBindings.onRendered=!0,e.bindingHandlers.clickToggle={update:function(t,n,r,i,o){return e.utils.registerEventHandler(t,"click",function(t){var i;null!=(i=n())&&e.isObservable(i)&&(i(!i()),!1!==r.get("clickBubble")||(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()))})}},e.bindingHandlers.autoFocus={init:function(e,t){var r,i;return r=null!=(i=t())?i:50,setTimeout(function(){return n(e).focus()},r)}},e.bindingHandlers.editableText={init:function(t,r){var i,o,a,s,l,p;return a=null!=(s=r().value)?s:r(),o=null==(l=r().enabled)||l,i=null!=(p=r().autofocus)&&p,e.isObservable(o)||(o=e.observable(o)),""!==n(this).text().trim()&&a(n(this).text()),a.subscribe(function(e){if(""!==e.trim())return n(this).text(e)}),o.subscribe(function(e){var r,o,s,l;if(null!=e)return n(t).attr("contenteditable",e),e&&i?(n(t).focus(),l=t.firstChild,r=a().length,o=document.createRange(),o.setStart(l,r),o.setEnd(l,r),s=window.getSelection(),s.removeAllRanges(),s.addRange(o)):void 0}),n(t).on("blur",function(){if(a(n(t).text()),null!=r().submit)return r().submit(a)}),n(t).on("keydown",function(e){return 13!==e.keyCode||(e.preventDefault(),n(t).blur(),!1)})},update:function(t,r){var i,o;return o=e.utils.unwrapObservable(null!=(i=r().value)?i:r()),n(t).text(o)}},e.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}},e.virtualElements.allowedBindings.stopBinding=!0,i=function(e,t,n,r,i){return i.$component=i.$parents[1]},e.bindingHandlers.bindParentComponent={init:function(e,t,n,r,o){i(e,t,n,r,o)}},e.virtualElements.allowedBindings.bindParentComponent=!0,e.bindingHandlers.prepareFragment={init:function(e,t,n,r,o){i(e,t,n,r,o),o.$component.fragmentData=o.$data}},e.virtualElements.allowedBindings.prepareFragment=!0}.apply(t,i))&&(e.exports=o)}).call(t,n(245))},3583:function(e,t,n){var r,i;r=[n(164),n(245),n(1906)],void 0!==(i=function(e,t,n){var r,i;i=function(e){return"."===e?0:Number(e)},r=function(e,n){var r,o,a,s,l,p;if(r=t(e),(o=n()())!==i(r.val())||document.activeElement!==e)return l=r.data("numberInput-regex"),s=r.data("numberInput-fractionDigits"),p=!1,"number"!=typeof o&&(o=i(o),p=!0),a=o.toFixed(s),l.test(a)||(o=0,a=o.toFixed(s),p=!0),r.val(a),r.data("numberInput-oldValue",a),p?n()(o):void 0},e.bindingHandlers.numberInput={init:function(n,o,a){var s,l,p,u,d,c,f,h,m,g,y,b,v;return f=null!=(m=a.get("numberInputOptions"))?m:{},p=null!=(g=f.fractionDigits)?g:0,console.assert("number"==typeof p,"fractionDigits must be a number"),console.assert(isFinite(p),"fractionDigits must be finite"),console.assert(p>=0,"fractionDigits must be >= 0"),console.assert(p===Math.round(p),"fractionDigits must be an integer"),d=null!=(y=f.maxValue)?y:null,c=null!=(b=f.minValue)?b:null,h="^",h+="\\d*",p>0&&(h+="\\.?",h+="\\d{0,"+p+"}"),h+="$",v=new RegExp(h),s=t(n),s.data("numberInput-regex",v),s.data("numberInput-fractionDigits",p),s.data("numberInput-minValue",c),s.data("numberInput-maxValue",d),r(n,o),u=function(){var e,t,n;return t=s.val(),null!=c&&t<c?t=c:null!=d&&t>d&&(t=d),v.test(t)?(s.data("numberInput-oldValue",t),o()(i(t))):(n=s.data("numberInput-oldValue"),e=s.caret("pos"),s.val(n),s.caret("pos",e-(t.length-n.length)))},s.on("input",u),l=function(){var e,t;return e=o()(),t=e.toFixed(p),s.val(t),s.data("numberInput-oldValue",t)},s.on("blur",l),e.utils.domNodeDisposal.addDisposeCallback(n,function(){return s.off("input",u),s.off("blur",l),s.removeData("numberInput-oldValue"),s.removeData("numberInput-regex"),s.removeData("numberInput-fractionDigits"),s.removeData("numberInput-minValue"),s.removeData("numberInput-maxValue")})},update:r}}.apply(t,r))&&(e.exports=i)},3586:function(e,t,n){var r,i,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=[n(164),n(245)],void 0!==(i=function(e,t){return e.bindingHandlers.select2={init:function(n,r,i,a){var s,l,p,u,d,c,f,h,m,g,y,b,v,w,k,T,I,C,x,S,j,O,P,_,D,A,E,M,L,U,F,N,R,$,B,H;T=null,_=t(n),R=[],e.utils.domNodeDisposal.addDisposeCallback(n,function(e){return function(){var e;null!=E.changeCallback&&t(n).off("change",E.changeCallback),null!=E.dblclickCallback&&null!=(e=t(n).data("select2").$container)&&t(e).off("dblclick",E.dblclickCallback),null!=t(n).data("select2")&&t(n).select2("destroy"),R.forEach(function(e){return e.dispose()})}}()),u=i(),E=e.unwrap(u.select2),null==E.endpoint&&null==E.ajax&&null==E.minimumResultsForSearch&&(E.minimumResultsForSearch=10),R.push(e.postbox.subscribe("modal-dragging-close-select2",function(e){return function(){if(null!=_&&null!=_.data("select2"))return _.select2("close")}}())),null==E.selectOnTab&&(E.selectOnTab=!0),null==E.selectOnSpace&&(E.selectOnSpace=!0),E.placeholder&&e.isObservable(E.placeholder)&&(R.push(E.placeholder.subscribe(function(e){return function(e){return E.placeholder=e,_.select2(E)}}())),E.placeholder=e.unwrap(E.placeholder)),null!=E.endpoint&&null==E.ajax&&(e.isObservable(E.endpoint)||(E.endpoint=e.observable(E.endpoint)),h=E.endpoint,H=0,c=0,d=0,O=null!=(x=E.responseType)?x:"normal",$=[],w="",E.key?w=E.key:(C=e.unwrap(h).split(".json")[0].split("/"),w=C[C.length-1]),y=null!=E.idKey?E.idKey:"id",B=null!=E.textKey?E.textKey:"name",F=null!=E.subText&&null!=E.subTextId?e.unwrap(E.subText):"",N=null!=E.subText&&null!=E.subTextId?e.unwrap(E.subTextId):"",A=null!=E.searchKey?E.searchKey:"searchTerm",m=null!=E.groupById?E.groupById:"",g=null!=E.groupByName?E.groupByName:"",I=null!=E.pageSize?E.pageSize:50,v=null!=E.itemClass?E.itemClass:null,f=null!=E.defaultOptions?E.defaultOptions:null,b=null!=E.ignoreIds?E.ignoreIds:null,U=null!=E.sort?E.sort:null,L=null!=(S=E.skipSorting)&&S,P=null!=E.delay?E.delay:E.delay=300,k=null!=E.maximumSelectionLength?E.maximumSelectionLength:1,k>1&&(t(n).attr("multiple","multiple"),E.closeOnSelect=!1,document.body.onkeydown=function(e){return function(e){if(32===e.keyCode)return e.stopImmediatePropagation()}}()),p=function(e,t){var n,r,i,o;for(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),n=t.split("."),r=0,o=n.length;r<o;){if(!((i=n[r])in e))return;e=e[i],++r}return e},l=function(e){return function(e,t,n,r,i){var a,s,l,u,d;for(d=[],s=0,l=i.length;s<l;s++)a=i[s],p(a,n)===r&&(null!=v?a=new v(a):(a.id=a[e],a.text=a[t],null!=E.avatarKey&&(a.avatar=a[E.avatarKey])),null!=b&&b.length>0&&(u=a.id,o.call(b,u)>=0)||d.push(a));return d}}(),null==E.ajaxData&&(E.ajaxData=function(e){return function(e){var t;return t={page:e.page,pageSize:I},t[A]=e.term,t}}()),E.ajax={url:function(){return E.endpoint()},dataType:"json",delay:P,data:E.ajaxData,processResults:function(r){return function(i,a,s){var u,h,k,T,I,C,x,S,j,P,_,D,A,M,R,Y,W,q,z,V,K,G,J,Q,Z,X,ee,te,ne,re,ie,oe,ae,se,le,pe,ue,de,ce;if(null==t(n).data("select2"))return{results:[],pagination:{more:!1}};if(a.page=a.page||1,H=t(n).data("select2").results.data._request.getResponseHeader("X-Records"),c=parseInt(t(n).data("select2").results.data._request.getResponseHeader("X-Page"),10),d=parseInt(t(n).data("select2").results.data._request.getResponseHeader("X-Pages"),10),null==U||"function"!=typeof U||L||(i[w]=i[w].sort(U)),T=(null!=(ee=E.data)?ee.length:void 0)?E.data.filter(function(e){return e.id/1<=0}):[],null!=E.responseHandler)T=E.responseHandler(i);else if(null!=E.groupById){for(ce={},r.uniqueGroupNames=null!=(te=r.uniqueGroupNames)?te:[],ne=i[w],R=0,Y=ne.length;R<Y;R++)_=ne[R],S=p(_,m),j=p(_,g),S in ce||(Q={id:S,text:j,children:l(y,B,m,S,i[w])},T.push(Q),ce[S]=!0,r.uniqueGroupNames.push(j));null!=U||L||T.sort(function(e,t){var n;return null!=(n=e.text)?n.localeCompare(t.text):void 0})}else if("tasks"===O)for($=null!=(re=i.taskLists)?re:[],ue=i.tasks,x=function(e,t,n,r){var i,o,a;for(o=0,i=r.length;o<i;o++)a=r[o],a.taskListId===n.id&&(null==e&&(e={id:n.id,text:n.name,children:[]}),e.children.push(a),a.text=a.name,"completed"===a.status&&(a.text+=" - "+app.tl("Completed")),a.level=t,null!=a.subTasks&&x(e,t+1,n,a.subTasks));return e},G=0,W=$.length;G<W;G++)pe=$[G],null!=(P=x(null,0,pe,ue))&&T.push(P);else if("taskLists"===O){for(I=[],C=[],r.uniqueGroupNames=null!=(ie=r.uniqueGroupNames)?ie:[],$=i.tasklists,J=0,q=$.length;J<q;J++)de=$[J],de.text=de.name;I=e.utils.arrayFilter($,function(e){return!e.complete}),C=e.utils.arrayFilter($,function(e){return e.complete}),u={id:Date.now()+"active",text:app.tl("Active Task Lists"),children:I},h={id:Date.now()+"complete",text:app.tl("Completed Task Lists"),children:C},u.children.length&&(r.uniqueGroupNames.push(u.text),T.push(u)),h.children.length&&(r.uniqueGroupNames.push(h.text),T.push(h))}else if("templateTaskLists"===O){for($=i.tasklists,Z=0,z=$.length;Z<z;Z++)pe=$[Z],pe.text=pe.name+" ("+pe["uncompleted-count"]+" "+app.tl("tasks")+")";T=T.concat($)}else for(oe=i[w],X=0,V=oe.length;X<V;X++)_=oe[X],null!=v?k=new v(_):(k={id:_[y],text:_[B]},""!==N&&parseInt(k.id,10)===parseInt(N,10)&&(A=k.text,D=F,k.text=A+" ("+D+")")),null!=b&&b.length>0&&(ae=k.id,o.call(b,ae)>=0)||T.push(k);if(null!=r.uniqueGroupNames&&setTimeout(function(){var e,n,r,i,o;for(r=this.uniqueGroupNames,i=[],o=0,e=r.length;o<e;o++)n=r[o],i.push(t('.select2-results__option[role=group][aria-label="'+n+'"]').slice(1).find("strong").hide());return i},10),null!=f&&1===a.page)for(se=e.unwrap(f),le=0,K=se.length;le<K;le++)M=se[le],T.unshift(M);return{results:T,pagination:{more:c<d}}}}(this)}),"function"==typeof E.data&&(R.push(E.data.subscribe(function(e){return function(e){var t;return E.data=e,null==E.idKey&&null==E.textKey||null==E.data||void 0===E.data||(E.data=app.utility.translateSelect2Keys(E.data,{id:E.idKey,text:E.textKey},!0)),t=_.val(),null!=_.data("select2")&&_.select2("destroy"),_.empty(),_.select2(E),_.val(t).trigger("change")}}())),E.data=E.data()),"function"==typeof E.value&&(R.push(E.value.subscribe(function(e){return function(e){var t;if((t=_.val())!==e)return _.val(t).trigger("change")}}())),T=E.value,E.value=E.value()),t(n).on("change",function(e){if(null!=E.changeCallback)return E.changeCallback(e)}),(E.selectOnTab||E.selectOnSpace||null!=E.endpoint||null!=E.ajax)&&t(n).on("select2:close",function(e){return function(r){var i;return null==E.endpoint&&null==E.ajax||(e.uniqueIds={},e.uniqueGroupNames=[]),E.selectOnTab&&(i=t(r.target),t(document).on("keydown.select2",function(e){var r,o;if(9===e.which){if(null==i.data("select2"))return;if(r=i.data("select2").$dropdown.find(".select2-results__option--highlighted"))return o=r.data("data").id,i.val(o).trigger("change"),t(n).trigger("select2:select")}})),setTimeout(function(){return t(document).off("keydown.select2")},1)}}(this)),j=function(e){return function(e){var n,r,i;return null==e.avatar?e.text:(r=t('<img alt="" />').attr("src",app.utility.SafeHTML(e.avatar)).attr("onerror","this.src='//cdn.teamwork.com/images/noPhoto2.png'"),n=t('<span class="user-avatar"></span>').append(r),i=t('<span class="user-name"></span>').text(e.text),t("<span></span>").append(n).append(i))}}(),(null!=E.avatarKey||E.hasAvatar)&&(E.templateResult=j,E.templateSelection=j),"tasks"===O&&null==E.templateResult&&(E.templateResult=function(e){return e.level>0?t("<span>").css("paddingLeft",10*e.level+"px").append(app.utility.SafeHTML(e.text)):e.text}),null==E.idKey&&null==E.textKey||null==E.data||void 0===E.data||(E.data=app.utility.translateSelect2Keys(E.data,{id:E.idKey,text:E.textKey})),t(n).select2(E),D=function(){if(app.currentScrollTop()>app.consts.UIDIMENSIONS.HEADERHEIGHT)return t(n).select2("close")},k<2&&t(n).data("select2").on("results:all",function(e){return function(e){var r,i;if(r=t(n).data("select2"),i=r.dropdown.$searchContainer,null!=i?i.hasClass("select2-search--hide"):void 0)return r.$selection.focus()}}()),t(n).on("select2:open",function(e){return function(e){if(t(n).parent().hasClass("filter-section__content"))return setTimeout(function(){return t(window).trigger("resize")},500),t(window).scroll(D)}}()),t(n).on("select2:close",function(e){return function(e){if(t(n).parent().hasClass("filter-section__content"))return t(window).off("scroll",D)}}()),null!=E.autofocus&&E.autofocus&&setTimeout(function(){return t(n).select2("open"),t(n).select2("close")},200),null!=E.dblclickCallback&&null!=(s=t(n).data("select2").$container)&&t(s).on("dblclick",E.dblclickCallback),M=function(r){var i,o;if(i=null,t(i).remove(),null!=(o=e.unwrap(r)))return i=new Option(e.unwrap(o.text),e.unwrap(o.id),!0,!0),i.classList.add("initial-value"),i.dataset.properties=e.toJSON(o),t(n).append(i),app.NextTick(function(){return t(n).trigger("change")})},null!=e.unwrap(E.initialValue)&&null!=E.ajax&&(k>1&&Array.isArray(e.unwrap(E.initialValue))?e.computed(function(){var t,n,r,i,o;for(r=e.unwrap(E.initialValue),i=[],t=0,n=r.length;t<n;t++)o=r[t],i.push(M(o));return i}):e.computed(function(){return M(E.initialValue)}),app.NextTick(function(){var r,i;return r=e.unwrap(E.initialValue),(null!=f?f[0]:void 0)&&r.id!==f[0].id&&(i=new Option(e.unwrap(f[0].text),e.unwrap(f[0].id),!1,!1),t(n).append(i)),t(n).trigger("change")})),(E.tkoDropdownCSS||E.selectOnSpace)&&t(n).on("select2:open",function(e){return function(e){var r;if(r=t(e.currentTarget),E.tkoDropdownCSS&&r.data("select2").$dropdown.addClass(E.tkoDropdownCSS),E.selectOnSpace&&0===r.data("select2").$dropdown.find(".select2-search--dropdown:visible").length)return t(document).on("keydown",function(e){var i,o;if(32===e.which){if(null==r.data("select2"))return;if(i=r.data("select2").$dropdown.find(".select2-results__option--highlighted"))return o=i.data("data").id,r.val(o).trigger("change"),t(n).select2("close")}})}}()),(E.onSelect||T||null!=E.textObservable||null!=E.selectCallback)&&t(n).on("select2:select",function(e){return function(e){var t;if(null!=T&&(t=_.val(),null==E.idKey&&null==E.textKey||null==t||void 0===t||(t=app.utility.translateSelect2Keys(t,{id:E.idKey,text:E.textKey},!0)),T(t)),"function"==typeof E.onSelect&&E.onSelect(),null!=E.textObservable&&E.textObservable(e.params.data.text),null!=E.selectCallback)return E.selectCallback(e)}}()),E.onOpen&&t(n).on("select2:open",E.onOpen),t(n).on("select2:unselect",function(e){return function(e){if(null!=T&&T(Array.isArray(_.val())?_.val():null),"function"==typeof E.onSelect&&E.onSelect(),null!=E.textObservable&&E.textObservable(e.params.data.text),null!=E.selectCallback)return E.selectCallback(e)}}())},update:function(n,r,i,o){var a,s,l,p;a=i(),"value"in a?a.select2.multiple&&a.value().constructor!==Array?t(n).select2("val",a.value().split(",")):(p=a.value(),null!=p&&(p=p.toString()),t(n).val(p).trigger("change")):"value"in r()?(p=e.unwrap(r().value),t(n).val(p).trigger("change")):"selectedOptions"in a&&(s=[],l=function(e){return e},"optionsText"in a&&(l=function(e){var n,r;return r=function(e){return e},"optionsValue"in a&&(r=function(e){return e[a.optionsValue]}),n=t.grep(a.options(),function(t){return r(t)===e}),0===n.length||n.length>1?"UNKNOWN":n[0][a.optionsText]}),t.each(a.selectedOptions(),function(e,t){s.push({id:t,text:l(t)})}),t(n).select2("data",s))}}}.apply(t,r))&&(e.exports=i)},3587:function(e,t,n){var r,i;r=[n(164),n(245),n(1185)],void 0!==(i=function(e,t,n){return e.bindingHandlers.twSticky={init:function(r,i,o,a,s){var l,p,u,d;d=[],u=function(){var e,n,i,o,a,s,u,d,c,f,h,m;if(m=p.scrollTop(),h=p.height(),c=l.outerHeight(),i=t(".app-header__base").outerHeight(),n=t(".app-header__top").outerHeight(),c>=t(".app-content").outerHeight())return void l.removeAttr("style");null==this.lastWindowPos&&(this.lastWindowPos=m),null==this.lastFixedPos&&(this.lastFixedPos=0),s=m>this.lastWindowPos,u=m>i,d=u&&c<=h,u?d?(this.lastFixedPos=0,l.attr("style","position: fixed; top: "+n+"px")):s?(a=Math.abs(p.height()-l.outerHeight())+n,e=Math.abs(m-this.lastWindowPos),this.lastFixedPos=this.lastFixedPos+e,this.lastFixedPos>=a?(this.lastFixedPos=a,l.attr("style","position: fixed; bottom: 0")):(f=n-this.lastFixedPos,l.attr("style","position: fixed; top: "+f+"px;"))):(e=Math.abs(this.lastWindowPos-m),this.lastFixedPos=this.lastFixedPos-e,this.lastFixedPos<=0?(this.lastFixedPos=0,l.attr("style","position: fixed; top: "+n+"px")):(f=n-this.lastFixedPos,l.attr("style","position: fixed; top: "+f+"px;"))):l.removeAttr("style"),this.lastWindowPos=m,navigator.userAgent.indexOf(!1)&&-1===navigator.userAgent.indexOf("Chrome")&&!d&&u&&p.scrollTop()>=t(document).height()-p.height()&&(o=t(r).parents(".sticky-container").height()-c,l.css("position","relative"),l.css("top",o+"px"))},t(document.body),p=t(window),l=t(r),this.lastWindowPos=null,this.lastFixedPos=0,d.push(app.currentRoute.subscribe(function(e){return function(){return e.lastFixedPos=0,e.lastWindowPos=0}}(this))),new n(t(".app-body")[0],u),new n(l[0],u),p.on("scroll resize",u),u(),e.utils.domNodeDisposal.addDisposeCallback(l[0],function(){return d.forEach(function(e){return e.dispose()}),p.off("scroll resize",u)})}}}.apply(t,r))&&(e.exports=i)},3588:function(e,t,n){var r,i;r=[n(164),n(245)],void 0!==(i=function(e,t){return e.bindingHandlers.textareaResize={init:function(n,r){var i,o,a,s,l,p,u,d,c,f,h;i=t(n),u=r().maxHeight,d=r().quickView,o=t(window),h=!1,s=!1,a=parseInt(i.css("font-size")),l=null!=(c=i.attr("id"))?c:"default",i.data("defaultOuterHeight",i.outerHeight()),i.data("manualResize",!1),i.attr("rows")||i.attr("rows","2"),"0px"===i.css("min-height")&&i.css("min-height","50px"),f=function(){var e,t,n,r;return!1===h&&(app.cache.get("textareaResizePref-"+l)&&"default"!==l&&i.attr("rows",Math.round(app.cache.get("textareaResizePref-"+l)/a)),h=!0),d||(n=window.pageXOffset||(document.documentElement||document.body.parentNode||document.body).scrollLeft,r=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop),t=i.height(),i.height("auto"),e=i[0].scrollHeight,!u||e<u?(i.css("overflow","hidden"),i.height((e-10).toString()+"px")):(e>u?i.height(u):i.height(t),i.css("overflow","auto")),i.data("defaultOuterHeight",i.outerHeight()),d?i[0].scrollIntoView():window.scrollTo(n,r)},p=function(e){if(i.height()-e.offsetY<15&&i.width()-e.offsetX<15)return!1===i.data("manualResize")&&(i.off("input click focus",f),i.data("manualResize",!0),i.css("overflow","auto")),o.on("mousemove.changeHeight",function(e){if(!s)return s=!0,window.requestAnimationFrame(function(){var r,o,a;return a=n.getBoundingClientRect().top,o=e.pageY-t(window).scrollTop(),r=o-a,i.height(Math.max(parseInt(i.css("min-height")),r)),s=!1})}),o.on("mouseup.removeMouseEvents",function(){return app.cache.set("textareaResizePref-"+l,i.height()),o.off("mousemove.changeHeight"),o.off("mouseup.removeMouseEvents")})},(!u||u>=i.outerHeight())&&(i.data("defaultOuterHeight",i.outerHeight()),i.on("input click focus",f),i.on("mousedown",p)),e.utils.domNodeDisposal.addDisposeCallback(n,function(e){return function(){return i.off("input click focus mousedown"),o.off("mousemove.changeHeight"),o.off("mouseup.removeMouseEvents")}}())}}}.apply(t,r))&&(e.exports=i)},3589:function(e,t,n){var r,i,o=function(e,t){return function(){return e.apply(t,arguments)}};r=[n(164),n(14),n(245),n(1245),n(1913),n(2159)],void 0!==(i=function(e,t,n,r){var i;return i=function(e){return e.isValid()?new Date(0,0,0,e.hours(),e.minutes(),0):null},r.defineBinding("timeInput",function(){function r(){this.checkMinMax=o(this.checkMinMax,this),this.updateValue=o(this.updateValue,this),this.update=o(this.update,this),this.init=o(this.init,this),this.subscriptions=[]}return r.prototype.init=function(t,r,o,a,s){var l,p,u,d,c,f;p=null!=(u=o().timeInputOptions)?u:{},this.minMoment=e.observable(),this.maxMoment=e.observable(),null!=p.minMoment&&(this.minMomentInput=e.isObservable(p.minMoment)?p.minMoment:e.observable(p.minMoment),null!=(d=this.minMomentInput)&&d.subscribe(function(e){return function(n){e.minMoment(null!=n?n.clone():void 0),e.checkMinMax(r(),t)}}(this))),null!=p.maxMoment&&(this.maxMomentInput=e.isObservable(p.maxMoment)?p.maxMoment:e.observable(p.maxMoment),null!=(c=this.maxMomentInput)&&c.subscribe(function(e){return function(n){e.maxMoment(null!=n?n.clone():void 0),e.checkMinMax(r(),t)}}(this))),this.minMoment("function"==typeof this.minMomentInput?this.minMomentInput().clone():void 0),this.maxMoment("function"==typeof this.maxMomentInput?this.maxMomentInput().clone():void 0),this.timeoutHandle=null,f="HH:MM"!==app.loggedInUser.localization.timeFormat().toUpperCase(),l=n(t),l.addClass("time-input"),l.attr("readonly",!0),l.keydown(function(e){if(8===e.keyCode)return!1}),l.timeEntry({ampmPrefix:"",ampmNames:["am","pm"],timeSteps:[1,1,1],show24Hours:!f,spinnerSize:[0,0,0],spinnerBigSize:[0,0,0],spinnerImage:null}),l.change(function(e){return function(){return e.updateValue(l,r,s)}}(this)),l.dblclick(function(){return l.timeEntry("setTime",new Date)}),l.timeEntry("setTime",i(r()()))},r.prototype.update=function(e,t,r,o,a){var s;s=t()(),n(e).timeEntry("setTime",i(s)),this.lastValue!==s.valueOf()&&(this.checkMinMax(t(),e),this.lastValue=t()().valueOf())},r.prototype.updateValue=function(e,r){var i,o,a,s,l,p;if(i=n(e),p=i.timeEntry("getTime"),a=p.getHours(),s=p.getMinutes(),o=r()(),o.hour()!==a||o.minute()!==s)return l=o.isValid()?o.clone():t(),l.hour(a).minute(s),r()(l),this.checkMinMax(r(),e),this.lastValue=r()().valueOf()},r.prototype.checkMinMax=function(e,t){var n,r;(this.minMoment||this.maxMoment)&&(n=null!=this.maxMoment()&&e().isSameOrAfter(this.maxMoment()),r=null!=this.minMoment()&&e().isSameOrBefore(this.minMoment()),n?(e(this.maxMoment().clone()),this.lastValue!==this.maxMoment().valueOf()&&this.displayTempTipped(t,app.tl("Maximum Reached"))):r?(e(this.minMoment().clone()),this.lastValue!==this.minMoment().valueOf()&&this.displayTempTipped(t,app.tl("Minimum Reached"))):Tipped.visible(t)&&Tipped.hide(t))},r.prototype.displayTempTipped=function(e,t){if(null!=this.currentlyDisplayed){if(this.currentlyDisplayed===t)return;return void setTimeout(function(n){return function(){return n.displayTempTipped(e,t)}}(this),100)}null!=this.timeoutHandle&&clearTimeout(this.timeoutHandle),Tipped.create(e,t,{position:"bottommiddle",fadeOut:100,onShow:function(e){return function(t,n){var r;r=setTimeout(function(){Tipped.hide(n),e.timeoutHandle=null},1500),e.timeoutHandle=r}}(this),afterHide:function(e){return function(t,n){Tipped.remove(n),e.currentlyDisplayed=null}}(this)}).show(),this.currentlyDisplayed=t},r.prototype.dispose=function(e){var t;return this.subscriptions.forEach(function(e){return e.dispose()}),t=n(e),t.timeEntry("destroy"),t.off()},r}())}.apply(t,r))&&(e.exports=i)},4415:function(e,t,n){(function(e){var r,i,o;o=["generic-uploadExternal","header-icons","header-new","header","hybrid-placeholder","hybrid-page-extras","list-state-blank","list-state-error","list-state-loading-new","list-state-loading","list-state-onboarding","modal-add-edit-report","modal-addCompany","modal-addMessage","modal-addMultipleMilestones","modal-addOrEditBoard","modal-addOrEditBudgetNotification","modal-addOrEditCategory","modal-addOrEditClockIn","modal-addOrEditColumnTrigger","modal-addOrEditComment","modal-addOrEditCompany","modal-addOrEditCustomField","modal-addOrEditDashboard","modal-addOrEditDashboardPanel","modal-addOrEditEvent","modal-addOrEditEventType","modal-addOrEditExpense","modal-addOrEditInvoice","modal-addOrEditLink","modal-addOrEditMilestone","modal-addOrEditNewTaskDefaults","modal-addOrEditPerson","modal-addOrEditProject","modal-addOrEditProjectBudget","modal-addOrEditProjectRole","modal-addOrEditProjectsBoard","modal-addOrEditProjectUpdate","modal-addOrEditRange","modal-addOrEditRiskEntry","modal-addOrEditSavedFilter","modal-addOrEditShortcut","modal-addOrEditStatus","modal-addOrEditTaskList","modal-addOrEditTaskListTemplate","modal-addOrEditTaskReminder","modal-addOrEditTeam","modal-addOrEditTimeEntry","modal-addOrEditTimeEstimate","modal-addOrEditTimer","modal-addOrEditWebhook","modal-addPeopleToProject","modal-addTag","modal-addTasksFromTemplate","modal-allTimeLogTime","modal-assignTemplateTaskRoles","modal-attachFilesToTask","modal-boxcomConfig","modal-budgetExceeded","modal-bulkEditProjectPermissions","modal-bulkEditTasks","modal-bulkUpdateTimeLogs","modal-calendarDownloadAgenda","modal-calendarICalFeeds","modal-changeBoardColumn","modal-changePricePlan","modal-changeProjectOwner","modal-changeReceiptReceivers","modal-changeSiteAddress","modal-chooseDefaultProjects","modal-choosePeople","modal-chooseTask","modal-chooseTeams","modal-cloneProject","modal-cloudDisconnect","modal-cloudFileAccess","modal-cloudFileAccessRights","modal-cloudFileBrowser","modal-cloudLinkChooseCategory","modal-cloudStorageDrives","modal-cloudStorageSites","modal-commentProperties","modal-confirm","modal-confirmDeleteFileRevision","modal-contactForm","modal-copyLink","modal-copyRisks","modal-createFolder","modal-createGoogleDriveItems","modal-currentTaskReminders","modal-customizeProjectEmail","modal-customizeTaskListEmail","modal-dashboardOptions","modal-dashboardWalkover","modal-deletedUsers","modal-deleteProjectActivity","modal-dependenciesPicker","modal-documentDropFiles","modal-documentEditor","modal-downgradeToFree","modal-downloadChat","modal-dropboxConfig","modal-dropdown","modal-duplicateCloudFile","modal-duplicateMilestone","modal-editAnnouncement","modal-editCustomCSS","modal-editEventTypes","modal-editImportedUsers","modal-editMessagePostDetails","modal-editNotebookDetails","modal-editOrDeleteRecurringEvent","modal-editPrivacy","modal-editProjectDates","modal-editProjectsChartDates","modal-editProjectsChartFilters","modal-editText","modal-embeddedChatAnnouncement","modal-enable2FactorAuth","modal-enterpriseForm","modal-eventProperties","modal-exportInvoice","modal-exportInvoiceBlinksale","modal-exportInvoiceConnectXero","modal-exportInvoiceFreshbooks","modal-exportInvoiceHarvest","modal-exportInvoiceQuickbooks","modal-exportInvoiceXero","modal-exportInvoiceXeroFile","modal-exportLinks","modal-fileLinkShare","modal-filesAttachedTo","modal-fileSelectVersion","modal-filesLockedFilesWarning","modal-filesReplaceFile","modal-freshbooksConnectV2","modal-freshbooksSelectBusiness","modal-fs-usage-report","modal-ganttChartHelp","modal-ganttChartReport","modal-googleDriveAccessRights","modal-gSuiteDomains","modal-harvestConfirm","modal-hubspot-addLink","modal-importAsana","modal-importBasecamp","modal-importBasecamp3","modal-importPeople","modal-importTasks","modal-importTrello","modal-importWrike","modal-inviteNewUsers","modal-invoiceView","modal-itemNotifications","modal-linkedAccounts","modal-linkOverlay","modal-logIn","modal-manageApps","modal-manageCategories","modal-manageDefaultProjects","modal-manageProjectObservers","modal-microsoftConnectors","modal-microsoftConnectorsConfigure","modal-microsoftConnectorsPersonal","modal-milestoneActivity","modal-milestoneICalFeed","modal-milestoneProperties","modal-moveExpenseProject","modal-moveMilestoneDates","modal-moveMilestoneProject","modal-moveOrCopyItem","modal-movePeopleFromCompany","modal-moveTimeLogProject","modal-moveTimelogs","modal-newDashboardMigration","modal-newLinkToAccount","modal-newUserPermissions","modal-onboardInviteUsers","modal-onboardUser","modal-oneDriveConfig","modal-outage","modal-perUserPricingQuickSet","modal-postByProjectEmail","modal-postStatusViaEmail","modal-previewEvent","modal-previewFile","modal-previewImages","modal-printableTaskDetails","modal-printMilestoneCalendar","modal-printOptions","modal-printOrDownloadNotebook","modal-productAnnouncement","modal-projectActivityReport","modal-projectPicker","modal-projectsAddFiles","modal-projectsEditFileDetails","modal-projectSummarySettings","modal-prompt","modal-quick-add-time","modal-quicklyAddTasks","modal-quicklyAddTasksToTaskList","modal-reactions","modal-recurringTasksPrompt","modal-referralClaim","modal-referralEmail","modal-removeUserFromProject","modal-requestProjectUpdate","modal-saveTaskListAsTemplate","modal-selectExistingFiles","modal-selectInvoice","modal-selectMultipleTasks","modal-selectProjects","modal-sendFeedback","modal-sendInvites","modal-sendTaskReminder","modal-setRates","modal-shareAsLink","modal-shareFilterAsLink","modal-splitMessageThread","modal-startTimer","modal-supportCenter","modal-taskActivity","modal-taskFollowers","modal-taskListReport","modal-taskListTimeReport","modal-taskProperties","modal-trashCan","modal-trialInviteUsers","modal-trialOrPaymentExpiry","modal-turnOnAPIAccess","modal-updateCreditCard","modal-updateSavedTimer","modal-upgradePlan","modal-trialUpgrade","modal-uploadImage","modal-userChangeCompany","modal-userConfirmDelete","modal-userDowngradeToContact","modal-userProjectPermissions","modal-userProjectsAccess","modal-userReassignItems","modal-viewLogs","nav-main","page-basecamp-classic","page-basecamp-next","page-calendar","page-cancel-account","page-company","page-dashboard-sidebar","page-dashboard","page-embed","page-everything","page-gantt","page-home-sidebar","page-home","page-integrations-project-overview-summary","page-integrations-task","page-people","page-person","page-project-sidebar","page-project","page-projects-sidebar","page-projects","page-referral","page-reporting-sidebar","page-reporting","page-search","page-serverstats","page-settings","page-statuses","page-task-templates-sidebar","page-task-templates","page-team","page-test","page-welcome","popup-HubSpot","section-activity-filter","section-activity-list","section-activityTimeline-byProject","section-activityTimeline","section-addOrEditTask","section-audit-history-header-buttons","section-audit-history","section-billing-expenses","section-billing-time","section-board-column","section-boards-list","section-breadcrumbs","section-budget-notifications-list","section-budget-usage-charts-list","section-calendar-filter","section-cards-backlog-filter","section-cards-backlog","section-cards-list","section-clock-ins-list","section-comments-filter","section-comments-list","section-companies-list","section-companiesList-cardsMode","section-companiesList-expandedMode","section-companiesList-listMode","section-company-tab-loggedtime","section-company-tab-profile","section-company-tab-projects","section-completed-tasks-list","section-create-desk-ticket","section-custom-fields-list","section-dashboard-activity","section-dashboard-filter","section-dashboard-latemilestones","section-dashboard-latetasks","section-dashboard-metrics","section-dashboard-todayevents","section-dashboard-todaysmilestones","section-dashboard-todaystasks","section-dashboard-upcomingmilestones","section-dashboard-upcomingtasks","section-dashboard-welcome","section-dashboard-widgets","section-dashboards-filter","section-desk-ticket","section-editTaskPredecessors","section-event-details-header","section-event-details","section-events-filter","section-events-list-new","section-events-list","section-everything-comments-new","section-everything-comments","section-everything-completedTasks","section-everything-files","section-everything-links","section-everything-messages-new","section-everything-messages","section-everything-milestones","section-everything-notebooks","section-everything-reports","section-everything-risks","section-everything-tasks","section-everything-time","section-everything-workload","section-files-cards","section-files-expanded","section-files-filter","section-files-list","section-filtered-tasks","section-flash-alerts","section-gantt","section-help-doc-header","section-help-doc","section-home-activity","section-home-comments","section-home-dashboards","section-home-events","section-home-messages","section-home-projects","section-home-shortcuts","section-home-today","section-home-welcome","section-link-details","section-links-filter","section-links-list","section-messages-filter","section-messages-list","section-milestone-details","section-milestones-calendar","section-milestones-filter-summary","section-milestones-filter","section-milestones-list","section-modals","section-notebooks-filter","section-people-companies","section-people-filter","section-people-list-new","section-people-login-history-new","section-people-loginHistory","section-people-people-cards","section-people-people-expanded","section-people-people-list","section-people-people","section-people-ribbon","section-people-teams","section-person-activitychart","section-person-companyPanel","section-person-tab-activity","section-person-tab-boards","section-person-tab-completed","section-person-tab-details","section-person-tab-events","section-person-tab-integrations","section-person-tab-milestones","section-person-tab-projects","section-person-tab-tasks","section-person-tab-teams","section-person-tab-time","section-person-time-graph","section-portfolio-board","section-product-updates","section-project-billing-header-buttons","section-project-billing","section-project-comments-header-buttons","section-project-comments","section-project-files-cloud-buttons","section-project-files-create","section-project-files-edit","section-project-files-header-buttons","section-project-files","section-project-header-buttons-optionsBut","section-project-links-header-buttons","section-project-links","section-project-messages-create","section-project-messages-edit","section-project-messages-header-buttons","section-project-messages","section-project-milestones-header-buttons","section-project-milestones","section-project-notebooks-collapsedMode","section-project-notebooks-create","section-project-notebooks-edit","section-project-notebooks-gridMode","section-project-notebooks-header-buttons","section-project-notebooks-listMode","section-project-notebooks","section-project-overview-activity","section-project-overview-header-buttons","section-project-overview-header-settings-button","section-project-overview-summary","section-project-overview-upcoming-events","section-project-overview","section-project-people-header-buttons","section-project-people-roles","section-project-people","section-project-report-header-buttons","section-project-report","section-project-risks-header-buttons","section-project-risks","section-project-settings-general","section-project-settings-header-buttons","section-project-settings-integrations","section-project-settings-notifications","section-project-settings-tags","section-project-settings","section-project-task-time","section-project-task","section-project-tasklist","section-project-tasks-board","section-project-tasks-header-buttons","section-project-tasks","section-project-time-header-buttons","section-project-time","section-project-timeline","section-project-updates-header-buttons","section-project-updates-list","section-projects-chart-filter","section-projects-chart","section-projects-list-filter","section-projects-list-new","section-projects-list","section-projects-portfolio-filter","section-projects-portfolio","section-projects-templates","section-quick-view-archived-cards-list","section-quick-view-breakdown","section-quick-view-column-settings","section-quick-view-comments-header-buttons","section-quick-view-events-header-buttons","section-quick-view-grandfathered","section-quick-view-keyboard-shortcuts","section-quick-view-messages-header-buttons","section-quick-view-messages","section-quick-view-people-header-buttons","section-quick-view-people-list","section-quick-view-person","section-quick-view-project-summary-settings","section-quick-view-risks","section-quick-view-shortcuts-header","section-quick-view-shortcuts","section-quick-view-tasks-header-buttons","section-quick-view-tasks","section-quick-view-time","section-quick-view-today-settings","section-quick-view-workload-tasks","section-ranges-list","section-quick-views","section-reassignOptions","section-referral-about","section-referral-banners","section-referral-latest","section-referral-terms","section-referral-tips","section-report-details","section-report-list","section-report-row","section-reporting-reports","section-risks-filter-summary","section-risks-filter","section-risks-list","section-settings-beta-features","section-settings-colortheme","section-settings-customfields","section-settings-email","section-settings-export","section-settings-forms","section-settings-general","section-settings-import","section-settings-integrations","section-settings-invoicehistory","section-settings-logo","section-settings-referral","section-settings-sso","section-settings-subscription","section-settings-subscriptionPerUser","section-settings-tags","section-settings-templates","section-settings-webhooks","section-shortcuts-list","section-sidebar-categories","section-sidebar-filters","section-sidebar-reporting","section-sidebar","section-statuses-overview","section-statuses-timeline","section-subtasks-list-gantt","section-subtasks-list","section-summary-filter-icons","section-tags-list","section-task-card-details","section-task-details","section-tasklist-gantt","section-tasklist-template","section-tasklist-templates-list","section-taskList","section-tasklists-list-gantt","section-tasklists-list","section-tasks-filter-summary","section-tasks-filter","section-tasks-list-gantt","section-tasks-list","section-team-statuses","section-teams-list","section-teams-projects","section-time-filter-summary","section-time-filter","section-tipped-filters","section-welcomeMat","section-workload-filter-summary","section-workload-filter","section-workload-listing","section-workload-manage-tasks","section-workload-manage","section-workload-overview-list","section-workload-overview","section-workload-people-filter","section-workload-planner","sidebar-project-comments","sidebar-project-file","sidebar-project-files","sidebar-project-links","sidebar-project-messages","sidebar-project-milestones","sidebar-project-notebooks","sidebar-project-overview","sidebar-project-task","sidebar-project-tasks","sidebar-project-time","titlebar","ui-blank-card","ui-breadcrumb","ui-checkbox-icon","ui-circle","ui-clocked-in-icon","ui-common-icon","ui-date-range","ui-dropMenu","ui-estimatedTimeInput","ui-filterButton","ui-filterInfo","ui-fullscreenToggleButton","ui-icon-tabs","ui-inlineAlert","ui-input-percent","ui-intro-filters","ui-label","ui-menuActions","ui-metric-chart-donut","ui-metric-chart-horizontal-bar","ui-metric-chart-vertical-bar","ui-metric-range","ui-metric","ui-milestone-icon","ui-pieChart","ui-progressBar","ui-project-dropdown-button","ui-project-header","ui-simple-tabs","ui-sortOptions","ui-tag","ui-text-area","ui-unread-status","widget-activity","widget-add-or-edit-comment","widget-add-or-edit-message","widget-attachment","widget-attachments-list","widget-audit-entry","widget-autosave","widget-available-people-picker","widget-avatar-row","widget-basic-task-row","widget-blog-subscribe-prompt","widget-board-column-label","widget-budget-capacity-used","widget-budget-notification","widget-budget-remaining","widget-budget-usage-chart","widget-color-picker","widget-column-triggers-icon","widget-comment-icon","widget-comment","widget-completedTasks-filter","widget-completedTasks-list","widget-copy-text","widget-create-project-channel","widget-creditcard-notification","widget-crm-deals-list","widget-custom-survey","widget-dashboard-message","widget-dateInput","widget-dateRangePicker","widget-dependenciesPickerTaskList","widget-durationInput","widget-easy-markdown-editor","widget-event","widget-feedback-form","widget-file-actions","widget-file-attachment-dropzone","widget-file-attachment-inline","widget-file-attachment-picker","widget-file-documenteditor","widget-file-integration-options","widget-file-viewer","widget-filter-action","widget-filter-list","widget-filter-people","widget-filter-tags","widget-filter-title","widget-followBtn","widget-followers-list","widget-header-notifications-new","widget-header-notifications","widget-header-trial-actions","widget-include-deleted-users-checkbox","widget-inline-help","widget-inline-modal","widget-integration","widget-inviteBadge","widget-invoice-details","widget-item-notify-picker","widget-item-privacy-picker","widget-itemFilter","widget-custom-field-filter","widget-custom-field-filter-item","widget-labelButtonGroup","widget-letters","widget-link-body","widget-link-custom-fields","widget-link-details-sidebar","widget-link-project-space","widget-links-listing-sidebar","widget-list-picker","widget-live-chat","widget-loadMore","widget-mainTabs","widget-mentions","widget-message","widget-metric-activity-distribution","widget-budget-history","widget-metric-budgets","widget-metric-billable-time","widget-metric-billed-time","widget-metric-events-list","widget-metric-milestones-list","widget-metric-milestones","widget-metric-project-health","widget-metric-project-updates-list","widget-metric-projects-digest","widget-metric-projects-distribution","widget-metric-risks-list","widget-metric-risks","widget-metric-tasks-breakdown","widget-metric-tasks-burndown-settings","widget-metric-tasks-burndown","widget-metric-tasks","widget-milestone-attach-tasklist","widget-milestone-body","widget-milestone-details-sidebar","widget-milestone-sidebar-miniCalendar","widget-milestones-listing-sidebar","widget-month-picker","widget-multiselect-menu","widget-new-user-project-permission-row","widget-newUserPermissions","widget-nps-survey","widget-onboarding-flow","widget-options","widget-paging-next-prev","widget-payment-reminder-new","widget-payment-reminder","widget-people-picker-new","widget-people-picker-tipped-followers","widget-people-picker","widget-permission-row","widget-personal-tasks","widget-presence","widget-privacy-icon","widget-project-card","widget-project-metrics","widget-project-stats-dropdown","widget-project-summary-people","widget-project-template-dropdown","widget-project-template-timeline","widget-project-template","widget-project-update","widget-project","widget-projects-chart","widget-projects-dropdown-new","widget-projects-dropdown","widget-quick-date-set","widget-quick-jump-projects","widget-quick-search","widget-quick-task","widget-quick-view","widget-quickView-header-CalendarTasks","widget-quickView-header","widget-reactions-list","widget-reactions","widget-related-users","widget-repeat-options","widget-report-actions","widget-report-avatar-list","widget-report-filters","widget-report-schedule","widget-report-summary","widget-report-summary-list","widget-risks-filter","widget-search-input","widget-select-tasks","widget-shortcut","widget-sort","widget-sortButtonGroup","widget-spaces-list","widget-start-chat","widget-subTabs","widget-tabs-list","widget-tags-addIcon","widget-tags-bar","widget-tags-editor","widget-tags-list-standalone","widget-tags-list","widget-tags-pickerFormElement","widget-tags-special-hubspot","widget-tags-special","widget-task-breakdown-list","widget-task-card-dropdown","widget-task-card-options","widget-task-card","widget-task-dependents-link","widget-task-dropdown","widget-task-estimated-time","widget-task-files-list","widget-task-harvest-timer","widget-task-input","widget-task-options-simple","widget-task-options","widget-task-predecessors-link","widget-task-related-tasks","widget-task-reminders-list","widget-task-row-gantt","widget-task-row","widget-task-updates-handler","widget-task","widget-tasklist-dropdown","widget-taskTimeline-chart","widget-text-input","widget-time-filter","widget-time-graph-controls","widget-time-list","widget-time-totals","widget-timeGraphControls","widget-timeInput","widget-timeline","widget-timeMomentPicker","widget-timePicker","widget-timer","widget-timeRangeInput","widget-timers-list","widget-tip","widget-tipped-calendar-tasks","widget-tipped-category","widget-tipped-cloud-account-info","widget-tipped-company","widget-tipped-desk-tickets","widget-tipped-event-info","widget-tipped-event-search-page","widget-tipped-file-card-info","widget-tipped-filter","widget-tipped-follow-options","widget-tipped-item-created-by","widget-tipped-last-comments","widget-tipped-likes","widget-tipped-milestone-info","widget-tipped-notebook-versions","widget-tipped-notified-list","widget-tipped-permission-list","widget-tipped-person","widget-tipped-project-people-list","widget-tipped-projectrole-people","widget-tipped-responsible-person","widget-tipped-switch-project","widget-tipped-tags-list","widget-tipped-task-comments","widget-tipped-task-dates","widget-tipped-task-followers","widget-tipped-task-priority","widget-tipped-task-progress","widget-tipped-task-recurring","widget-tipped-task-time","widget-tipped-tasks","widget-tipped-timer-task-info","widget-toggleLinkText","widget-toggleSwitch","widget-tw-autocomplete","widget-typeahead","widget-upgrade-path","widget-uploadBox","widget-uploadDrive","widget-uploadDropbox","widget-uploadOnedrive","widget-uploadOnedriveBusiness","widget-uploadSharePoint","widget-usage-hint","widget-user-metrics","widget-user-project-permission-row","widget-userPicker","widget-workload-filter","widget-wysiwyg-editor"],"undefined"!=typeof window&&null!==window?(r=[n(164)],void 0!==(i=function(e){var t,n,r,i;for(i=[],n=0,r=o.length;n<r;n++)t=o[n],i.push(e.components.register(t,{require:"tko/src/app/components/"+t+"/def"}));return i}.apply(t,r))&&(e.exports=i)):void 0!==e&&null!==e&&(e.exports=o)}).call(t,n(102)(e))},4416:function(e,t,n){(function(e){var r,i,o;o=["f-setting-group","f-subtask-icon"],"undefined"!=typeof window&&null!==window?(r=[n(164)],void 0!==(i=function(e){var t,n,r,i;for(i=[],n=0,r=o.length;n<r;n++)t=o[n],i.push(e.components.register(t,{template:{require:"text!tko/src/app/fragments/"+t+".html"}}));return i}.apply(t,r))&&(e.exports=i)):void 0!==e&&null!==e&&(e.exports=o)}).call(t,n(102)(e))},4419:function(e,t,n){var r,i;r=[n(164),n(14)],void 0!==(i=function(e,t){return e.extenders.duration=function(t,n){var r,i,o;return i=null!=n?n.minDuration:void 0,r=null!=n?n.maxDuration:void 0,o=e.pureComputed({read:t,write:function(e){return t(i&&i.asMilliseconds()>e.asMilliseconds()?i:r&&r.asMilliseconds()<e.asMilliseconds()?r:e)}}),o(t()),o}}.apply(t,r))&&(e.exports=i)},4420:function(e,t,n){var r,i;r=[n(164),n(1709)],void 0!==(i=function(e,t){var n,r;e.extenders.incrementalArray=function(t,n){var i,o,a,s,l,p,u,d,c,f,h,m;if(c=null!=(p=null!=n?n.step:void 0)?p:1,i=null!=(u=null!=n?n.backgroundStep:void 0)?u:10*c,l=null!=(d=null!=n?n.initialCount:void 0)?d:10,"number"!=typeof c)throw new Error('incrementalArray: "step" must be a number');if(isNaN(c))throw new Error('incrementalArray: "step" must be a valid number');if(c<1)throw new Error('incrementalArray: "step" must be at least one');if(c!==Math.floor(c))throw new Error('incrementalArray: "step" must be an integer');if(!e.isObservable(t))throw new Error('incrementalArray: "sourceObservableArray" must be an observable');if(!Array.isArray(t()))throw new Error('incrementalArray: "sourceObservableArray()" must be an Array');return o=[],m=0,h=function(){var e;if(app.tasks.CancelTask(m),e=0===o.length?l:document.hidden?i:c,r(t,o,e)>0)return m=app.tasks.ScheduleTask(h)},h(),f=t.subscribe(function(){return h(),e.tasks.runEarly()}),s=function(){return app.tasks.CancelTask(m),f.dispose()},a=o.observable,a.dispose=s,a},n=function(e,t,n){var r,i;for(i=t,r=e.length;i<r;){if(n(e[i]))return i;i++}return-1},r=function(i,o,a){var s,l,p,u,d,c,f,h,m,g,y;if(f=e.unwrap(i),s=!1,y=0,null==o.source&&(o.source=e.observable(f.slice(0))),!e.isObservable(o.source)||!Array.isArray(o.source()))throw new Error('incrementalArray: Unexpected value in "destinationArray.source"');if(null==o.observable&&(o.observable=e.observable(o)),!e.isObservable(o.observable)||o.observable()!==o)throw new Error('incrementalArray: Unexpected value in "destinationArray.observable"');if(null==o.inSync&&(o.inSync=e.pureComputed(function(){var e,t,n;return o.source().length===o.observable().length&&((e=o.source().length-1)<0||(n=o.source()[e],t=o.observable()[e],n===t||Array.isArray(n)&&Array.isArray(t)&&t.inSync()))})),!e.isPureComputed(o.inSync))throw new Error('"incrementalArray": Unexpected value in "destinationArray.inSync"');for(d=u=0,c=f.length;u<c;d=++u)if(h=f[d],g=Array.isArray(e.unwrap(h)),m=n(o,d,function(e){return e===h||g&&Array.isArray(e)}),m>d&&(o.splice(d,m-d),s=!0),(l=o[d])!==h)if(p=Array.isArray(l),g&&p)y+=r(h,l,a-y);else{if(!(y<a))break;g?(o.splice(d,0,l=[]),y+=r(h,l,a-y),s=!0):(o.splice(d,0,h),y++,s=!0)}return o.length!==d&&(o.length=d,s=!0),t.areEqual(o.source(),f)||o.source(f.slice(0)),s&&o.observable.valueHasMutated(),y}}.apply(t,r))&&(e.exports=i)},4421:function(e,t,n){var r,i;r=[n(164)],void 0!==(i=function(e){return e.extenders.lastModified=function(t,n){var r,i;return null==n&&(n=0),r=e.observable(n),i=e.pureComputed({read:t,write:function(e){return t(e),r(Date.now())}}),i.lastModified=r,i}}.apply(t,r))&&(e.exports=i)},4423:function(e,t,n){var r,i;r=[n(164)],void 0!==(i=function(e){return e.extenders.replaceCharacters=function(e,t){return e.subscribe(function(n){return function(n){var r;if(r=n.replace(t,""),n!==r)return e(r)}}()),e},e.extenders.minMaxNumericValues=function(e,t){return e.subscribe(function(n){return function(n){return null!=t.max&&n>t.max?e(t.max):null!=t.min&&n<t.min?e(t.min):void 0}}()),e}}.apply(t,r))&&(e.exports=i)},4424:function(e,t,n){var r,i;r=[n(164),n(14)],void 0!==(i=function(e,t){return e.extenders.moment=function(t,n){var r,i,o;return o=Number(null!=n?n.roundMinutes:void 0),o=isNaN(o)?0:o,o=Math.floor(o),o=Math.min(60,o),o=Math.max(0,o),r=null!=n?n.defaultMoment:void 0,null!=r&&"function"!=typeof r&&(r=function(){return r}),i=e.pureComputed({read:t,write:function(e){var n;return n=e.clone(),!n.isValid()&&r&&(n=r().clone()),n.isValid()&&o>0&&(n.minute(Math.floor(n.minute()/o)*o),n.second(0),n.millisecond(0)),t(n)}}),i(t()),i}}.apply(t,r))&&(e.exports=i)},4425:function(e,t,n){var r,i;r=[n(164)],void 0!==(i=function(e){return e.extenders.number=function(t,n){var r,i,o,a,s,l;return null==n&&(n={}),null!=(r=n.allowNegative)&&r,null!=(i=n.allowFraction)&&i,null!=(o=n.allowNaN)&&o,null!=(a=n.allowInfinity)&&a,null!=(s=n.precision)?s:null,l=e.pureComputed({read:t,write:function(e){var n,r,i;return n=t(),r=function(){switch(typeof e){case"number":return isFinite(e)?Math.round(e):0;case"string":return r=parseInt(e,10),isFinite(r)?r:0;case"boolean":return+e;default:return 0}}(),i=Math.max(0,r),i!==n?t(i):e!==n?t.notifySubscribers(i):void 0}}).extend({notify:"always"}),l(t()),l}}.apply(t,r))&&(e.exports=i)},4426:function(e,t,n){var r,i,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=[n(164)],void 0!==(i=function(e){var t,n;return t=["reference","shallowClone","deepClone"],n=function(e,t){var r,i,o,a;switch(t){case"reference":return e;case"shallowClone":return Array.isArray(e)?e.slice(0):e;case"deepClone":if(Array.isArray(e)){for(a=[],r=0,o=e.length;r<o;r++)i=e[r],a.push(n(i,t));return a}return e}},e.extenders.syncClone=function(r,i){var a,s,l,p;if(null==i&&(i="shallowClone"),o.call(t,i)<0)throw new Error("syncClone: the param must be one of: "+t.join(", "));return l="push"in r?"observableArray":"observable",a=e[l](n(r(),i)),s=e.observable(!0),p=function(){s()&&a(n(r(),i))},r.subscribe(p),s.subscribe(p),a.enabled=s,a}}.apply(t,r))&&(e.exports=i)},4427:function(e,t,n){var r,i;r=[n(164),n(1119),n(14)],void 0!==(i=function(e,t,n){var r,i,o,a,s,l,p;o={projectHealthGreenLabel:{default:"Good",type:"string",translate:!0},projectHealthAmberLabel:{default:"At Risk",type:"string",translate:!0},projectHealthRedLabel:{default:"Needs Attention",type:"string",translate:!0},hideAutoProvisioningPrompt:{default:!1,type:"boolean"},hasSeenOnboarding:{default:!1,type:"boolean"},ignoredUpgradePrompts:{default:[],type:"array"}},i={};for(p in o)r=o[p],s=t.camelize(p),r.serverName=p,r.name=s,null==r.translate&&(r.translate=!1),i[s]=r;return l=function(e){return function(e){var t,r;if("string"==(r=typeof e)||"boolean"===r||"number"===r)return""+e;if(n.isDuration(e))return""+e.asMinutes();if(n.isMoment(e))return e.toISOString();if(!Array.isArray(e)&&"object"!=typeof e)return console.warn("AccountPreferences.serializeValue: Unsupported type. Returning an empty string."),"";try{return JSON.stringify(e)}catch(e){return t=e,console.error("AccountPreferences.serializeValue: JSON.stringify failed.",t),""}}}(),a=function(e,t,r,i){var o,a,s;if(null==i&&(i=[]),"null"===e)return null;switch(i.length&&-1===i.indexOf(e)&&(e=i[0]),t){case"boolean":switch(typeof e){case"boolean":return e;case"string":return"yes"===(s=e.toLowerCase())||"true"===s||"1"===s;default:return!!e}break;case"number":return a=parseInt(e,10),isNaN(a)?r:a;case"duration":return n.isDuration(e)?e:(a=parseInt(e,10),isNaN(a)||a<0?r:n.duration(a,"minutes"));case"moment":return n.isMoment(e)?e:("today"===r?r=n().startOf("day"):"-1weeks"===r&&(r=n().startOf("day").subtract("1","weeks")),o="string"==typeof e?"today"===e?n().startOf("day"):"-1weeks"===e?n().startOf("day").subtract("1","weeks"):n(new Date(e)):n(e),o.isValid()?o:r);case"array[int]":if("string"==typeof e)try{e=JSON.parse(e)}catch(t){t,e=r}return Array.isArray(e)?e.map(Number):r;case"array":if("string"==typeof e)try{e=JSON.parse(e)}catch(t){t,e=r}return Array.isArray(e)?e:r;case"object":if(("{}"===e||"[]"===e||Array.isArray(e))&&(e=r),"string"==typeof e)try{e=JSON.parse(e)}catch(t){t,e=r}return"object"==typeof e?e:r;case"string":return null!=e?""+e:r;default:return console.warn("AccountPreferences.convertValue: Unsupported type. Returning default value. type =",t),r}},function(){function t(e,t){this.subscriptions=[],this.Update(e)}return t.prototype.Update=function(t){var n,o,l,p,u;this.updatingPreferences=!0,o={};for(s in i)r=i[s],o[s]=r.default;for(s in t)u=t[s],o[s]=u;for(s in o)u=o[s],r=null!=(l=i[s])?l:{name:s,serverName:s,default:"",type:"string"},n=null!=(p=r.accepted)?p:[],console.assert(null!=r.type,"Preference type must be specified"),console.assert(void 0!==r.default,"Preference default value must be specified"),u=a(u,r.type,r.default,n),e.isObservable(this[s])?this[s](u):this._initPreference(r,u);return e.tasks.schedule(function(e){return function(){return e.updatingPreferences=!1}}(this))},t.prototype._initPreference=function(t,n){return this[t.name]=Array.isArray(n)?e.observableArray(n):e.observable(n),this.subscriptions.push(this[t.name].subscribe(function(e){return function(n){if(!e.updatingPreferences)return e._setPreference(t,n)}}(this)))},t.prototype._setPreference=function(t,n){return null==this._preferencesToPersist&&(this._preferencesToPersist={}),this._preferencesToPersist[t.serverName]=l(n),e.tasks.schedule(function(e){return function(){if(null!=e._preferencesToPersist)return app.hybrid.apiDispatch("preferences/hybrid-persist",{prefs:e._preferencesToPersist,scope:"account"}),e._preferencesToPersist=null}}(this))},t.prototype.dispose=function(){this.subscriptions.forEach(function(e){return e.dispose()})},t}()}.apply(t,r))&&(e.exports=i)},4428:function(e,t,n){var r,i;r=[n(165)],void 0!==(i=function(e){return function(){return window.hasLocalStorageSupport||(e.nocache={}),{set:function(t,n,r){return window.hasLocalStorageSupport?e.set("twProjects-"+t,n,r):e.nocache["nocache-twProjects-"+t]=n},get:function(t,n){var r;return null==n&&(n=null),window.hasLocalStorageSupport?(r=e.get("twProjects-"+t),null==r&&(r=n),r):e.nocache["nocache-twProjects-"+t]||n},remove:function(t){return window.hasLocalStorageSupport?e.remove("twProjects-"+t):null!=e.nocache["nocache-twProjects-"+t]?delete e.nocache["nocache-twProjects-"+t]:void 0},flushExpired:function(){if(window.hasLocalStorageSupport)return e.flushExpired()},flush:function(){if(window.hasLocalStorageSupport)return e.flush()}}}}.apply(t,r))&&(e.exports=i)},4431:function(e,t,n){var r,i;r=[n(1117),n(164)],void 0!==(i=function(e,t){return new(function(){function t(){}return t.prototype.getCheckoutRef=function(t,n){var r;return t()&&n&&(new Date-n)/1e3/60<app.consts.CHECKOUT.NEW_REF_IN_MINUTES?e.resolve({ref:t}):(r=app.api.get(app.consts.CHECKOUT.SUBSCRIPTION_URL),e.resolve(r).then(function(e){return function(e){return t(e.response.ref),n=new Date}}()))},t.prototype.getCheckoutBaseHref=function(){var e;return e=app.consts.CHECKOUT.BASE_URL,"EU"===app.account.awsRegion()&&(e=app.consts.CHECKOUT.EU_BASE_URL),window.devMode&&(e=app.consts.CHECKOUT.DEV_BASE_URL),app.utility.GetCookie("CHECKOUTLB").indexOf("beta")>-1&&(e=app.consts.CHECKOUT.BETA_BASE_URL),e},t.prototype.getCheckoutURL=function(t,n,r){var i;return i=this.getCheckoutBaseHref(),e.resolve(this.getCheckoutRef(t,n).then(function(){var e;return e=r+encodeURI(t()),i+e}))},t.prototype.transformDataToOldFormat=function(e){var t,n,r,i,o,a,s,l,p,u,d,c,f,h,m,g;i={installation:{},enterpriseRequests:e.enterpriseRequests,plans:e.plans,addons:e.addons,stripePK:e.stripePK,testMode:e.testMode,usage:e.usage,user:e.user,ISOCountryCodeFromIP:e.ISOCountryCodeFromIP,productCode:e.productCode,introText:e.introText},f=i.addons;for(a in f)t=f[a],t.monthlyPrice=t.monthlyPrice/100;h=i.plans;for(a in h)d=h[a],d.monthlyPrice=d.monthlyPrice/100;for(c=e.installation.apps.projects,i.installation.id=e.installation.id,i.installation.AWSRegion=app.account.awsRegion(),i.installation.name=e.installation.name,i.installation.baseHref=e.installation.baseHref,i.installation.shard=e.installation.shard,i.installation.paymentMethod=c.paymentMethod,i.installation.isPaid=c.isPaid,i.installation.planId=c.pricePlanId,i.installation.paidForUsers=c.paidUsers,i.installation.trialExpiryDate=c.trialUntil,i.installation.paidUntil=c.paidUntil,i.installation.projectsNextBillingDate=null,i.installation.billingPeriod=c.billingPeriod,i.installation.billingAmount=c.billingAmount,i.installation.projectsDiscountCode=c.discountId?"REDACTED":"",i.installation.enterpriseRequestReceived=e.enterpriseRequests.projects,i.installation.VATNumber=e.installation.vatNumber,i.installation.isVATExempt=e.installation.vatExempt,i.installation.autoProvisionUsers=e.installation.autoProvision,i.installation.billingContactEmail=e.installation.billingEmail,i.installation.billingInvoiceNameOverride=e.installation.invoiceTo,n=e.installation.billingAddress,n&&(i.installation.billingStreetAddress1=n.line1,i.installation.billingStreetAddress2=n.line2,i.installation.billingCity=n.city,i.installation.billingZip=n.zip,i.installation.billingState=n.region,n.country&&(i.installation.billingAddressCountryCode=n.country.code,i.installation.billingCountryName=n.country.name)),r=e.installation.billingPhone,r&&(i.installation.billingContactPhone=r.number,r.country&&(i.installation.billingContactPhoneCountryPrefix=r.country.phoneCode)),m=i.plans,s=0,p=m.length;s<p;s++)if(d=m[s],d.maxFileSpaceMB=0,null==d.features&&console.info("didn't match any features for the plan"),null!=d.features)for(g=d.features,l=0,u=g.length;l<u;l++)o=g[l],"storageMB"===o.variable&&(d.maxFileSpaceMB=parseInt(o.value,10));return i},t}())}.apply(t,r))&&(e.exports=i)},4432:function(e,t,n){var r,i,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=[],void 0!==(i=function(){return function(){return{normalizeFields:function(e,t){var n,r,i,o,a,s;if(console.assert(null!=e,"fieldData must be defined"),null==t||!t.length)return[];r=[];for(o in e)s=e[o],-1!==(i=app.utility.FindIndexByKeyValue(t,"customFieldId",o,!0))&&(a=t[i],n=s,n.customFieldId=n.id,n.customFieldInstanceId=a.id,n.value=a.value,n.initialValue=a.value,n.isSelected=!0,delete n.id,r.push(n));return r.sort(function(e,t){return e.customFieldInstanceId-t.customFieldInstanceId}),r},doesFieldTypeHaveOptions:function(e){var t;return t=["dropdown","multiselect"],o.call(t,e)>=0},isCustomFieldValueSet:function(e){var t;return null!=(t=ko.unwrap(e))&&("string"!=typeof e||t.trim().length>0)},formatFieldsForSubmit:function(e){return e.map(function(e){return{customFieldId:e.customFieldId(),value:e.value()}})},validateFields:function(e){var t,n,r,i;for(n="",r=0,i=e.length;r<i;r++)switch(t=e[r],t.type()){case"number-integer":t.value()&&!/^[0-9 -]+$/.test(t.value())&&(n+="<p>"+app.tl("Custom Field [_s] must be a whole number",t.name())+"</p>")}return n},addFilterParams:function(e){return function(e,t,n){var r,i,o,a,s,l,p;if(null!=e){for(console.assert("project"===n||"task"===n,'itemType must be "project"or "task"'),l="project"===n?"projectCustomField":"taskCustomField",t[l]={},p=[],i=0,o=e.length;i<o;i++)r=e[i],t[l][r.fieldId]={},s=app.customFieldsHelper.mapFilterValues({value:r.value,operator:r.operator}),p.push(function(){var e,n,i;for(i=[],e=0,n=s.length;e<n;e++)a=s[e],i.push(t[l][r.fieldId][a.operator]=a.value);return i}());return p}}}(),mapFilterValues:function(e){var t,n,r,i;switch(n=[{operator:e.operator,value:e.value}],e.operator){case"eq":case"not":case"lt":case"gt":case"any":t=Array.isArray(e.value)?e.value.join():e.value,n[0].value=t;break;case"like":case"not-like":n[0].value="%"+e.value+"%";break;case"starts":n[0].operator="like",n[0].value=e.value+"%";break;case"ends":n[0].operator="like",n[0].value="%"+e.value;break;case"range":i=~~e.value[0]-1,r=1+~~e.value[1],n[0].operator="gt",n[0].value=i,n.push({operator:"lt",value:r})}return n}}}}.apply(t,r))&&(e.exports=i)},4434:function(e,t,n){var r,i;r=[n(245),n(1117),n(1187)],void 0!==(i=function(e,t,n){return function(){function r(){var r,i,o,a,s,l,p,u;i=!1,a=null,p=null,u=null,r=null,o=function(e){return null==e||e.classList.contains("currentTaskListsItem")||e.classList.contains("completeTaskListsItem")?e:o(e.parentElement)},l=function(e){a=e,requestAnimationFrame(s)},s=function(){var t,n,r;r=a,a=null,i&&null!=r&&null!=p&&(e(".currentTaskListsItem, .completeTaskListsItem").removeClass("catListDragHover"),t=p.className,p.className=t+" hidden",n=document.elementFromPoint(r.clientX,r.clientY),p.className=t,null!=n&&null!=(u=o(n))&&u.classList.add("catListDragHover"))},n.addDrake("tasks",{revertOnSpill:!0,moves:function(e,t,n,r){return n.classList.contains("w-task-row__drag")},accepts:function(t,n,r,i){return!e.contains(t,n)},dragulaEvents:{drag:function(t){i=!0,r=ko.dataFor(t),e(document).on("mousemove touchmove",l)},cloned:function(e){p=e},dragend:function(n){var o,s,d,c,f;c=r,d=u,i=!1,a=null,p=null,u=null,r=null,e(".currentTaskListsItem, .completeTaskListsItem").removeClass("catListDragHover"),e(document).off("mousemove touchmove",l),null!=d&&(f=parseInt(d.dataset.tasklistId,10),c.taskListId()!==f&&(c.visible(!1),s={"todo-item":{"notify-followers":!1,parentTaskId:0,positionAfterTask:-1,taskListId:f}},c.attachments().length&&(o=ko.mapping.toJS(c.attachments()),s["todo-item"].attachments=o),app.api.put("tasks/"+c.id()+".json",s).then(function(){app.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:c.id(),subType:"task-drop",taskStatus:c.status(),newTaskListId:f,oldTaskListId:c.taskListId(),oldParentTaskId:c.parentTaskId(),taskListId:f,newParentTaskId:0,task:c.Clone()})}).catch(function(e){return function(e){return c.visible(!0),t.reject(e)}}())))}},afterDrop:function(e){var t,n,r,i,o,a,s,l,p,u,d,c,f,h,m,g;g=e.item,h=e.targetIndex,m=e.targetItems,f=e.targetContext,p=(null!=(u=m()[h-1])?u.id():void 0)||-1,"TaskCard"===g.componentName?(a=("function"==typeof g.columnId?g.columnId():void 0)?parseInt(g.columnId(),10):0,r=parseInt(f.$data.boardColumnId,10),0===a?(n={card:{taskId:g.id()}},app.api.post("boards/columns/"+r+"/cards.json",n).then(function(e){return function(){return app.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:"boardColumns",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:r})}}())):(n={cardId:g.id(),positionAfterId:p},a===r?app.api.put("boards/columns/cards/"+g.id()+"/reposition.json",n):(n.boardColumnId=r,app.api.put("boards/columns/cards/"+g.id()+"/move.json",n)))):(l=g.taskListId(),o=(null!=(d=f.$data.task)?d.taskListId():void 0)||f.$data.taskList.id(),s=g.parentTaskId(),i=(null!=(c=f.$data.task)?c.id():void 0)||0,g.isUpdating(!0),n={"todo-item":{"notify-followers":!1,positionAfterTask:p,taskListId:o}},s!==i&&(n["todo-item"].parentTaskId=i),g.attachments().length&&(t=ko.mapping.toJS(g.attachments()),n["todo-item"].attachments=t),app.api.put("tasks/"+g.id()+".json",n).then(function(){var e;g.isUpdating(!1),g.parentTaskId(i),g.taskListId(o),e=l!==o||s!==i?"task-drop":"task-reorder",app.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:g.id(),subType:e,taskListId:o,newTaskListId:o,oldTaskListId:l,newParentTaskId:i,oldParentTaskId:s,taskStatus:g.status(),prevTaskId:p,task:g.Clone()})}).catch(function(){return g.isUpdating(!1),app.ko.postbox.publish("task-move-failed",{newTaskListId:o,oldTaskListId:l,newParentTaskId:i,oldParentTaskId:s})}))}})}return r}()}.apply(t,r))&&(e.exports=i)},4436:function(e,t,n){(function(r){var i,o,a=function(e,t){return function(){return e.apply(t,arguments)}};i=[n(1920),n(401)],void 0!==(o=function(e,t){return function(){function n(t){this.Ajax=a(this.Ajax,this),this.app=t,t.flash=new e(this.app),this.messages={AccessDenied:t.tl("Access Denied"),AccessDeniedDetail:t.tl("The server has denied you access. Your permissions may have been changed. If this continues try logging out and back in again."),NotFound:t.tl("Not Found"),NotFoundDetail:t.tl("Sorry, either that resource does not exist or you do not have permission to access it."),NetworkTimeout:t.tl("Network Timeout"),NetworkTimeoutDetail:t.tl("Please check your internet connection and try again. Email [_s] if you still have problems.","support@teamwork.com"),ServerRejected:t.tl("Server Rejected"),ServerRejectedDetail:t.tl("Sorry the server rejected this request."),ServerError:t.tl("Server Error"),ServerErrorDetail:t.tl("Sorry the server ran into a problem processing this request. The killer monkeys will be automatically dispatched to fix this.")}}return n.prototype.Ajax=function(e,n){var i,o,a,s,l,p,u,d,c,f,h,m,g;if(l={redirectIfAccessDenied:!1},r.extend(l,n),a=["Whoops!","Yikes!","Blimey!","Oh no!","Oh Dear!"],o=a[Math.floor(a.length*Math.random())],h=!1,f=!1,m=!1,c="",null!=l.requestURL?c=l.requestURL.toString():null!=(null!=(p=e.httpRequestOptions)?p.url:void 0)&&(c=e.httpRequestOptions.url.toString()),h=c.indexOf("integrations/")>-1,f=c.indexOf("chat/")>-1,!(m=c.indexOf("spaces/")>-1)){if(401===e.status)if(l.redirectIfAccessDenied)Lightbox.cancel(),app.redirectToLogin();else{if(null!=(u=e.httpRequestOptions)?u.suppressLoginModal:void 0)return;if(app.isShowingLoginModal()||null==("function"==typeof app.currentRoute?app.currentRoute().page:void 0)||"login"===app.currentRoute().page)return;app.showLoginModal()}else if(503===e.status){if(f||m)return void(window.devMode&&console.log("Non-projects 503 detected, Product may not be contactable",e,n));if(null!=e.httpRequestOptions&&("We can't retrieve account details from Dropbox at the moment"===(null!=(d=e.responseJSON)?d.MESSAGE:void 0)&&"./integrations/dropbox.json?getInfo=true"===e.httpRequestOptions.url?window.devMode&&console.log("503 Dropbox account inaccessible",e,n):t.captureMessage("(v"+window.appVersionId+") 503 XHR failure",{extra:{httpRequestOptions:e.httpRequestOptions,status:e.status,response:null!=e.responseJSON?e.responseJSON:e.responseText,xhrType:h?"api-integration":"general"}})),!h)return void(window.devMode&&console.log("503 detected",e,n))}else 404===e.status?(app.flash.Error(this.messages.NotFound,l.custom404Text||this.messages.NotFoundDetail),app.currentRoute().project&&app.currentRoute().project.LoadUpdate().error(function(e){return function(){return app.GoTo("dashboard")}}())):403===e.status?app.flash.Error(this.messages.AccessDenied,"access denied"===e.statusText.toLowerCase()?this.messages.AccessDeniedDetail:e.statusText):400===e.status?null!=e.responseJSON&&e.responseJSON.message?app.flash.Error("<strong>"+o+"</strong> ",e.responseJSON.message):null!=e.responseJSON&&e.responseJSON.MESSAGE?app.flash.Error("<strong>"+o+"</strong> ",e.responseJSON.MESSAGE):null!=e.responseJSON&&null!=e.responseJSON.errors?(i=function(){var t,n;t=e.responseJSON.errors,n=[];for(s in t)g=t[s],n.push(g);return n}(),null!=i[0].Message?app.flash.Error("<strong>"+o+"</strong> ",i[0].Message):app.flash.Error("<strong>"+o+"</strong> ",i[0])):app.flash.Error(this.messages.ServerRejected,this.messages.ServerRejectedDetail):0===e.status?app.flash.Error(this.messages.NetworkTimeout,this.messages.NetworkTimeoutDetail):null!=e.responseJSON&&null!=e.responseJSON.message?app.flash.Error(o,e.responseJSON.message):null!=e.responseJSON&&null!=e.responseJSON.MESSAGE?app.flash.Error(o,e.responseJSON.MESSAGE):null!=e.responseJSON&&null!=e.responseJSON.errors?app.flash.Error("<strong>"+o+"</strong> &mdash; "+e.responseJSON.errors[0]):app.flash.Error(this.messages.ServerError,this.messages.ServerErrorDetail);return l.redirect&&app.GoTo("dashboard"),!0}},n}()}.apply(t,i))&&(e.exports=o)}).call(t,n(245))},4437:function(e,t,n){var r;void 0!==(r=function(){return new(function(){function e(){}return e.prototype.trackEvent=function(e,t){if(null==t&&(t={}),null!=e)return null==app.userTracker?void console.log("cannot record event '"+e+"', tracker not yet initialized"):void app.userTracker.addEvent({name:e,properties:t})},e.prototype.trackPageView=function(e){return null==app.userTracker?void console.log("cannot record '"+e.page+"' page view, tracker not yet initialized"):null==e.url||null==e.page||null==e.section?void console.log("cannot record page view, incorrect params passed"):void app.userTracker.addPageView({url:e.url,page:e.page,section:app.utility.Capitalize(e.section)})},e.prototype.trackQuickAdd=function(e,t){null==t&&(t=!1),app.trackerHelper.trackEvent("Quick Add Item",{itemType:e,usedShortCut:t})},e}())}.call(t,n,t,e))&&(e.exports=r)},4438:function(e,t,n){var r,i,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=[n(164),n(1117),n(401)],void 0!==(i=function(e,t,n){var r;return r={projectupdates:[229855,10573,268126],disablingdirectfileuploads:[116,3552,9585,13067,16383,19104,24942,25421,27813,31652,32797,33159,35300,37369,44261,45321,46141,47468,49136,49694,52908,52940,56447,56709,58595,58913,63021,66431,69228,71783,72549,72995,73057,73786,74088,74409,74536,76715,77343,78303,81376,85094,85295,88325,89699,92117,95196,97690,97985,99252,99771,106005,106630,107327,108308,111210,115769,117138,118918,119070,119224,119549,121057,121494,122233,125379,125767,125885,126945,127106,128910,129308,130324,130648,131093,131244,131709,131880,132780,134769,134906,135421,136332,136469,137645,138599,140489,140582,140830,143983,144660,144824,144867,144995,145759,146198,146621,147356,147633,151844,155683,156104,156254,157348,160446,160674,161190,162683,162809,166878,167826,167913,169357,169703,170462,170831,171014,171504,172765,203273,203370,204683,205260,207435,207610,208128,209339,212766,212993,213193,213874,213970,214443,214862,215303,217140,219608,219634,219695,219800,222327,225902,226455,226746,229442,229930,231062,232988,234059,235604,236131,237548,240298,240558,240604,241054,242243,242656,243517,243998,244136,247863,248956,249282,249445,249831,253774,254023,254130,254481,254885,256367,258099,258260,260494,260829,260932,261980,262623,263272,263464,264162,264345,265489,266683,267741,271467,272188,272972,273958,274487,274922,275871,277243,277324,279970,281108,283085,286591,287012,287217,288562,288564,289399,289649,290083,290749,291507,292912,294953,295961,298216,301407,301697,302088,303559,305219,305602,305669,305720,306614,310492,310607,310642,310683,311171,311873,312761,314026,314123,314434,314992,316305,317414,318635,319995,320834,323049,323113,323395,323478,324272,325448,326043,327196,327888,327948,328568,331421,331519,331928,332422,333746,335843,337246,337316,338659,339219,339513,339529,340194,340712,343730,345034,345272,345957,346116,346781,347372,348090,348234,348847,349349,349560,349822,350332,350690,351108,351171,351834,353552,354319,354479,354507,354790,356001,357755,357826,359368,359714,362198,363417,363747,364208,367853,368509,369515,370949,371702,372638,373265,373758,373958,375893,376586,377746,378126,378687,380112,381099,381227,382769,383107,383413,383861,384264,385731,386027,386226,386356,386644,386890,386962,386998,388699,388813,390747,391322,393848,395694,396184,396334,396840,397343,397481,397950,398333,398758,399344,399789,399866,400138,400911,401457,401936,403248,403296,404721,405202,407369,407660,409142,409594,409689,409943,410097,410262,410736,410996,411956,412194,412273,412487,413130,413452,415923,417325,417512,418725,418748,418883,422446,422466,423748,423933,423979,424120,424726,425658,426135,427237,427554,427650,428368,428585,429295,430126,430433,431237,431659,432988,433086,433912,434681,435393,435555,435784,436333,436931,437485,437792,438071,442438,442644,442689,442792,444268,444435,444860,445437,445477,445515,445645,445991,447681,448716,451452,451558,453396,455415,455722,455782,456345,456711,456824,457505,457808,458039,459481,460388,461243,462275,462468,463524,463577,463714,464261,464639,465368,465375,465571,465736,466972,468107,468268,468448,468489,468581,468598,468741,469042,469195,469266,469342,469824,470105,470149,470440,470495,470648,471092,471141,471282,471554,472495,472522,473076,473708,474345,474657,474881,475077,475127,475134,475280,475393,475613,475620,475927,475941,476176,476231,476245,476661,477646,477726,477750,477790,477819,477950,477990,478037,478196,478282,478827,479188,479201,479658,479737,479959,479994,480741,480771,480789,480906,481214,481964,482515,482674,482891,482897,483314,484238,485103,485154,485788,486220,487316,487614,487682,487783,487928,487957,488186,488443,488524,488601,489281,489372,489614,489632,490296,490786,490861,490877,491383,491733,491970,492213,493002,493007,493135,493180,493450,493720,493801,494028,494076,494233,494258,494310,494509,494512,494552,494824,495096,495469,495786,495848,496153,496519,496662,496827,496893,497264,497560,498087,498361,498825,499022,499053,499062,499104,499410,499540,500325,501561,501573,502670,502883,502956,503148,503522,503807,504101,504174,504237,504320,504497,504544,505002,505579,505626,506270,506288,506537,506637,506704,506802,507084,507213,508719,508774,509284,509464,510135,510238,510405,510835,510953,511171,511219,512080,512412,512468,512488,513240,513333,513903,514240,514249,514353,514449,514567,515232,515239,515310,515488,516347,516348,516836,517855,518102,518240,518265,520064,520663,520906,520934,521305,522016,522082,522283,522590,522665,522733,523653,523679,523760,523786,523851,525352,525498,525822,525965,526533,526815,528460,528486,528855,529146,530289,532211,532213,532539,532807,533002,533788,534074,534091,534614,534632,534787,535020,535164,535974,536165,536353,536821,536901,537051,537612,537682,537926,538282,538663,538987,540262,540749,541566,541610,541662,541770,542082,542294,542902,543231,544094,544459,544788,545513,545786,545875,545961,545999,546729,547813,551350,551836,552150,552318,552463,552722,553283,553729,554006,554610,554770,556216,556333,557385,557579,557777,558084,558327,558608,558898,558935,559217,559960,560347,560861,561017,561159,561303,562029,562162,562844,564916,408620,59947,81120,131880,140489,155733,172408,227733,229366,303436,327888,352544,382348,384389,386552,386554,388287,389157,390163,394751,395724,399021,400841,402917,403142,404808,405894,406872,412810,413970,414595,422810,423986,424947,425114,425851,426045,426651,429495,434482,435174,435623,435911,439125,442424,446797,449312,451545,452648,454341,457514,460791,461953,462410,463100,463223,468506,468685,469393,469919,471249,474482,475072,475092,478242,479e3,480309,480620,481400,481763,482491,482509,482987,483577,484046,484188,487059,487253,488320,488455,488572,489403,489655,490160,490345,490360,491187,492417,492809,493096,493098,494149,494342,496825,497948,499471,500448,501463,501671,501924,503013,504753,505411,505419,506778,509402,509671,510585,511047,511463,512392,513847,514311,514682,516008,517273,518515,519925,519963,520083,520834,521516,521804,521836,521889,522498,522692,523029,523044,523626,523651,525174,526005,526892,528658,528792,529016,530285,530656,530851,530892,530960,531314,532670,532674,533001,534184,534425,534818,535694,536234,537403,538205,538997,541147,541461,543150,543519,544174,544197,547100,547212,551908,551982,552296,552630,552652,553309,554731,557571,557641,558111,560081,560827,562285,562447,563672,563883]},function(){var t,n;return t=[],n=[],{check:function(i,a){var s,l,p,u,d,c,f,h,m,g,y,b,v,w,k,T,I,C;return null==a&&(a={}),C=null!=(u=a.unwrap)&&u,I=null!=(d=a.scope)?d:"","beta"!==(m=I.toLowerCase())&&"production"!==m&&(I=""),"userTracker"===i?1!==app.account.id():null!=t[i]&&("function"==typeof t[i]?t[i]():void 0)?C?e.unwrap(t[i]):t[i]:(s=Object.keys(null!=(g=null!=(y=app.account)?y.betaFeatures:void 0)?g:{}),l=null!=(b=null!=(v=null!=(w=app.account)&&null!=(k=w.priceplanData)?k.features:void 0)?v:app.initialPriceplanFeatures)?b:{},p=null!=(T=null!=(c=null!=(f=app.account)&&null!=(h=f.priceplanTrialData)?h.features:void 0)?c:app.initialPriceplanTrialFeatures)?T:{},s=s.filter(function(e){return"beta"===I||!(null!=l[e.toLowerCase()]||null!=p[e.toLowerCase()])}),o.call(s,i)>=0?(n.push(t[i]=e.computed(function(){var e,t,n,r,a,s;return t=null!=(a=app.account)?a:null,n=app.account.betaFeatures[i],e=parseInt(n.access(),10),"newdashboard"===i.toLowerCase()||!!t.betaFeaturesEnabled()&&(!!n.enabled()&&(r=["newdashboard","teams","reporting","newgantt"],"teams"===i||(s=i.toLowerCase(),(o.call(r,s)>=0||!t.isFreeAccount())&&(2===e||!(1!==e||!app.loggedInUser.inOwnerCompany())))))})),C?e.unwrap(t[i]):t[i]):null!=l[i]||null!=p[i]?(n.push(t[i]=e.computed(function(){var t,n,a,s,u,d,c,f,h,m,g,y,b,v,w,k,T;if(l=null!=(d=null!=(c=app.account)&&null!=(f=c.priceplanData)?f.features:void 0)?d:app.initialPriceplanFeatures,p=null!=(h=null!=(m=app.account)&&null!=(g=m.priceplanTrialData)?g.features:void 0)?h:app.initialPriceplanTrialFeatures,null==l&&null==p)return!1;if("portfolio"===i&&null!=(null!=(y=app.account)?y.portfolioEnabled:void 0)&&app.account.portfolioEnabled())return!0;if(e.unwrap(null!=l?l[i]:void 0))return!0;if(null!=r[i]&&Array.isArray(r[i])&&(b=app.account.id(),o.call(r[i],b)>=0))return!0;if(null!=(u=null!=(v=app.account)?v.priceplanTrialData:void 0)&&null!=p&&moment().isBetween(u.startDate(),u.endDate(),null,"[]")&&e.unwrap(p[i]))return!0;if(s=null!=(w=null!=(k=app.account)&&null!=(T=k.priceplanData)?T.trials:void 0)?w:{},null!=(t=s[i]))if(a=t.startDate().length?moment(t.startDate()):null,n=t.endDate().length?moment(t.endDate()):null,null!=a&&null!=n){if(moment().isBetween(a,n,null,"[]"))return!0}else console.info("Feature trial ("+i+") is inactive or invalid");return!1})),C?e.unwrap(t[i]):t[i]):(console.info("No feature gate defined for: ",i,e.toJSON(a)),!C&&e.observable(!1)))}}}}.apply(t,r))&&(e.exports=i)},4439:function(e,t,n){(function(r){var i,o;i=[n(164)],void 0!==(o=function(e){return function(){function t(t){var n,i;i=this,this.app=t,this.app.fileDropEnabled()&&(this.boundToElmId="fileDropHolder",this.enabled=!0,i.mouseovercount=0,this.fileOver=e.observable(!1),this.mouseOver=e.observable(!1),n=t.cache.get("dropUploadQueue"),n=null===n?[]:n,this.s3=new t.s3Upload({dropZone:r("body"),pasteZone:r(document),showOverlay:!1,reloadProjectId:!0,dragEnter:function(){var e;i.enabled&&i.app.fileDropEnabled()&&i.app.account.canUploadFilesDirectly()&&(null!=(e=i.app.currentRoute().project)&&"function"==typeof e.directFileUploadsEnabled?e.directFileUploadsEnabled():void 0)&&(r("#fileDrop").removeClass("hidden"),i.fileOver(!0))},dragLeave:function(){i.enabled&&i.app.fileDropEnabled()&&(r("#fileDrop").addClass("hidden"),i.fileOver(!1))},queueComplete:function(e){var n,o;o=Array.isArray(e)&&e.length?e[0].projectId:0,r("#imagePreviewContainer").length||t.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:"file",subType:"project-file-added",actionType:t.consts.ACTIONTYPE.ADDED,projectId:o,fileWasDropped:!0}),n=i.s3.files.OArray().length,n>0&&t.flash.Success(1===n?t.tl("[_s] file uploaded","1"):t.tl("[_s] files uploaded",n)),i.s3.files.clearCompletedFiles()},isEnabled:function(e){return!(!i.enabled||!i.app.fileDropEnabled())&&(null==t.currentRoute().projectId||t.currentRoute().project.permissions.canAddFiles())},files:n}),this.viewId="fileDrop",r("#fileDrop div.hover-show, #fileDrop").on("mouseover",function(){"inactive"!==i.s3.files.status()&&(r("#fileDrop").removeClass("hidden"),i.mouseovercount=(i.mouseovercount+1)%100,i.mouseOver(!0))}),r("#fileDrop div.hover-show, #fileDrop").on("mouseout",function(){var e;e=i.mouseovercount,setTimeout(function(){i.mouseOver(!1),e===i.mouseovercount&&r("#fileDrop").addClass("hidden")},500)}),this.NotifyTWEvent=function(e){})}return t}()}.apply(t,i))&&(e.exports=o)}).call(t,n(245))},4440:function(e,t,n){var r,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=[n(14)],void 0!==(i=function(e){return function(){function t(){this.buildParameters=o(this.buildParameters,this),this.config={homeDashboard:{parameters:{searchTerm:{default:"",type:"string"},firstLetter:{default:"",type:"string"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},projectStatus:{default:"active",type:"string"},includeArchivedProjects:{default:!1,type:"boolean"},projectOwnerIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},projectHealth:{default:[],type:"array[number]"},categoryIds:{default:[],type:"array[number]"},includeSubCategories:{default:!0,type:"boolean"},companyIds:{default:[],type:"array[number]"},onlyStarredProjects:{default:!1,type:"boolean"},hideObservedProjects:{default:!1,type:"boolean"},onlyProjectsWithExplicitMembership:{default:!1,type:"boolean"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0},visiblePanels:{default:["tasks-bar","billed-time-donut","billable-time-donut","events-list","milestones-bar","milestones-list"],type:"array[string]",ignoreChanges:!0},displayProjectList:{default:!0,type:"boolean",ignoreChanges:!0},projectListPosition:{default:"bottom",type:"string",ignoreChanges:!0},taskAssigneeType:{default:"me",type:"string",ignoreChanges:!0},taskAssigneeUserId:{default:[],type:"array[number]",ignoreChanges:!0},milestoneAssigneeType:{default:"me",type:"string",ignoreChanges:!0},milestoneAssigneeUserId:{default:[],type:"array[number]",ignoreChanges:!0},timeLoggedByType:{default:"me",type:"string",ignoreChanges:!0},timeLoggedByUserId:{default:[],type:"array[number]",ignoreChanges:!0},timeDateCode:{default:"thisweek",type:"string",ignoreChanges:!0},projectUpdatesListDateInterval:{default:"-30",type:"string",ignoreChanges:!0},milestonesListDateInterval:{default:"30",type:"string",ignoreChanges:!0},milestonesListUserType:{default:"me",type:"string",ignoreChanges:!0},milestonesListUserId:{default:[],type:"array[number]",ignoreChanges:!0},eventsListDateInterval:{default:"30",type:"string",ignoreChanges:!0},eventsListUserType:{default:"me",type:"string",ignoreChanges:!0},eventsListUserId:{default:[],type:"array[number]",ignoreChanges:!0},eventsListAttendingOnly:{default:!1,type:"boolean",ignoreChanges:!0}},sections:{status:{title:app.tl("Project Status"),parameters:["projectStatus"]},owners:{title:app.tl("Project Owner"),parameters:["projectOwnerIds"]},health:{title:app.tl("Project Health"),parameters:["projectHealth"]},tags:{title:app.tl("Project Tags"),parameters:["filterTagIds","matchAllTags"]},company:{title:app.tl("Company"),parameters:["companyIds"]},category:{title:app.tl("Project Category"),parameters:["categoryIds","includeSubCategories"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","hideObservedProjects","onlyProjectsWithExplicitMembership","displayProjectList"]}}},homeTodayTasks:{parameters:{filterText:{default:"",type:"string"},projectId:{default:[],type:"array[number]"},priority:{default:"any",type:"string"},dateCode:{default:"within",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:14,type:"number"},dateCreatedCode:{default:"anytime",type:"string"},createdAfterDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},createdBeforeDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},createdDateCustomInterval:{default:1,type:"number"},responsiblePartyIds:{default:[],type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},includeAssigneeCompanies:{default:!0,type:"boolean"},includeAssigneeTeams:{default:!0,type:"boolean"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},excludeTagIds:{default:[],type:"array[number]"},matchAllExcludedTags:{default:!1,type:"boolean"},onlyMyTasks:{default:!0,type:"boolean"},onlyUntaggedTasks:{default:!1,type:"boolean"},showAllAssignedTasks:{default:!1,type:"boolean"},includeUnassignedTasks:{default:!1,type:"boolean"},includeOverdueTasks:{default:!0,type:"boolean"},includeTasksWithNoDate:{default:!1,type:"boolean"},ignoreStartDates:{default:!1,type:"boolean"},sortBy:{default:"startdate",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","includeOverdueTasks","includeTasksWithNoDate","ignoreStartDates","dateCustomInterval"]},datecreated:{title:app.tl("Date Created"),parameters:["dateCreatedCode","createdAfterDate","createdBeforeDate","createdDateCustomInterval"]},assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","onlyMyTasks","assigneeCompanyIds","assigneeTeamIds","includeAssigneeCompanies","includeAssigneeTeams","showAllAssignedTasks","includeUnassignedTasks"]},project:{title:app.tl("Project"),parameters:["projectId"]},priority:{title:app.tl("Priority"),parameters:["priority"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags","excludeTagIds","matchAllExcludedTags","onlyUntaggedTasks"]}}},homeActivity:{parameters:{dateCode:{default:"anytime",type:"string"},itemType:{default:[],type:"array[string]"},activityType:{default:[],type:"array[string]"},userIds:{default:[],type:"array[number]"},projectIds:{default:[],type:"array[number]"},dateCustomInterval:{default:1,type:"number"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0},activityStartDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},activityEndDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},onlyStarredProjects:{default:!1,type:"boolean"},hideObservedProjects:{default:!1,type:"boolean"},onlyProjectsWithExplicitMembership:{default:!0,type:"boolean"}},sections:{project:{title:app.tl("Project"),parameters:["projectIds"]},itemType:{title:app.tl("Item Type"),parameters:["itemType"]},activityType:{title:app.tl("Activity Type"),parameters:["activityType"]},date:{title:app.tl("Date"),parameters:["dateCode","activityStartDate","activityEndDate"]},user:{title:app.tl("User"),parameters:["userIds"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","hideObservedProjects","onlyProjectsWithExplicitMembership"]}}},personActivity:{parameters:{dateCode:{default:"anytime",type:"string"},itemType:{default:[],type:"array[string]"},activityType:{default:[],type:"array[string]"},projectIds:{default:[],type:"array[number]"},dateCustomInterval:{default:1,type:"number"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0},activityStartDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},activityEndDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},onlyStarredProjects:{default:!1,type:"boolean"},hideObservedProjects:{default:!1,type:"boolean"},onlyProjectsWithExplicitMembership:{default:!0,type:"boolean"}},sections:{project:{title:app.tl("Project"),parameters:["projectIds"]},itemType:{title:app.tl("Item Type"),parameters:["itemType"]},activityType:{title:app.tl("Activity Type"),parameters:["activityType"]},date:{title:app.tl("Date"),parameters:["dateCode","activityStartDate","activityEndDate"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","hideObservedProjects","onlyProjectsWithExplicitMembership"]}}},projectActivity:{parameters:{dateCode:{default:"anytime",type:"string"},itemType:{default:[],type:"array[string]"},activityType:{default:[],type:"array[string]"},userIds:{default:[],type:"array[number]"},dateCustomInterval:{default:1,type:"number"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0},activityStartDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},activityEndDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},onlyStarredProjects:{default:!1,type:"boolean"},hideObservedProjects:{default:!1,type:"boolean"},onlyProjectsWithExplicitMembership:{default:!1,type:"boolean"}},sections:{itemType:{title:app.tl("Item Type"),parameters:["itemType"]},activityType:{title:app.tl("Activity Type"),parameters:["activityType"]},date:{title:app.tl("Date"),parameters:["dateCode","activityStartDate","activityEndDate"]},user:{title:app.tl("User"),parameters:["userIds"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","hideObservedProjects","onlyProjectsWithExplicitMembership"]}}},calendar:{parameters:{filterText:{default:"",type:"string"},eventTypeId:{default:[],type:"array[number]"},projectId:{default:"",type:"array[number]"},userId:{default:"",type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},attendingOnly:{default:!1,type:"boolean"},showTasks:{default:!0,type:"boolean"},showMilestones:{default:!0,type:"boolean"}},sections:{eventtypes:{title:app.tl("Event Types"),parameters:["eventTypeId"]},project:{title:app.tl("Project"),parameters:["projectId"]},user:{title:app.tl("User"),parameters:["userId","attendingOnly"]},options:{title:app.tl("Options"),parameters:["showTasks","showMilestones"]}}},homeEvents:{parameters:{filterText:{default:"",type:"string"},eventTypeId:{default:[],type:"array[number]"},dateCustomInterval:{default:30,type:"number"},dateCode:{default:"within",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().add(30,"days").format("YYYYMMDD"),type:"moment",ignoreNull:!0},projectId:{default:"",type:"array[number]"},userId:{default:"",type:"array[number]"},attendingOnly:{default:!1,type:"boolean"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:{eventtypes:{title:app.tl("Event Types"),parameters:["eventTypeId"]},date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","dateCustomInterval"]},project:{title:app.tl("Project"),parameters:["projectId"]},user:{title:app.tl("User"),parameters:["userId","attendingOnly"]}}},personEvents:{parameters:{filterText:{default:"",type:"string"},eventTypeId:{default:[],type:"array[number]"},dateCustomInterval:{default:30,type:"number"},dateCode:{default:"within",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().add(30,"days").format("YYYYMMDD"),type:"moment",ignoreNull:!0},projectId:{default:"",type:"array[number]"},userId:{default:"",type:"array[number]"},attendingOnly:{default:!0,type:"boolean"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:{eventtypes:{title:app.tl("Event Types"),parameters:["eventTypeId"]},date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","dateCustomInterval"]},project:{title:app.tl("Project"),parameters:["projectId"]},user:{title:app.tl("User"),parameters:["userId","attendingOnly"]}}},homeProjectsList:{parameters:{searchTerm:{default:"",type:"string"},customFields:{default:[],type:"array[object]"},firstLetter:{default:"",type:"string"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},projectOwnerIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},projectHealth:{default:[],type:"array[number]"},companyIds:{default:[],type:"array[number]"},categoryIds:{default:[],type:"array[number]"},includeSubCategories:{default:!0,type:"boolean"},onlyStarredProjects:{default:!1,type:"boolean"},hideObservedProjects:{default:!1,type:"boolean"},onlyProjectsWithExplicitMembership:{default:!1,type:"boolean"},workedOnDateCode:{default:"anytime",type:"string"},workedOnAfterDateTime:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},workedOnBeforeDateTime:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},workedOnDateCustomInterval:{default:1,type:"number"},sortBy:{default:"starredcompanyname",type:"string",ignoreChanges:!1},sortOrder:{default:"asc",type:"string",ignoreChanges:!1}},sections:{customfields:{title:app.tl("Custom Fields"),parameters:["customFields"],isEnabled:app.featureFlip.check("customfieldsprojects",{unwrap:!0})},tags:{title:app.tl("Tags"),parameters:["filterTagIds"]},owners:{title:app.tl("Project Owner"),parameters:["projectOwnerIds"]},health:{title:app.tl("Project Health"),parameters:["projectHealth"]},company:{title:app.tl("Company"),parameters:["companyIds"]},category:{title:app.tl("Category"),parameters:["categoryIds","includeSubCategories"]},workedon:{title:app.tl("Last Worked On"),parameters:["workedOnAfterDateTime","workedOnBeforeDateTime","workedOnDateCode","workedOnDateCustomInterval"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","hideObservedProjects","onlyProjectsWithExplicitMembership"]}}},projectHealth:{parameters:{searchTerm:{default:"",type:"string"},firstLetter:{default:"",type:"string"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},projectOwnerIds:{default:[],type:"array[number]"},projectHealth:{default:[],type:"array[number]"},companyIds:{default:[],type:"array[number]"},categoryIds:{default:[],type:"array[number]"},includeSubCategories:{default:!0,type:"boolean"},onlyStarredProjects:{default:!1,type:"boolean"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:{tags:{title:app.tl("Tags"),parameters:["filterTagIds"]},owners:{title:app.tl("Project Owner"),parameters:["projectOwnerIds"]},health:{title:app.tl("Project Health"),parameters:["projectHealth"]},category:{title:app.tl("Category"),parameters:["categoryIds","includeSubCategories"]},company:{title:app.tl("Company"),parameters:["companyIds"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","hideObservedProjects","onlyProjectsWithExplicitMembership"]}}},projectsList:{parameters:{searchTerm:{default:"",type:"string"},customFields:{default:[],type:"array[object]"},firstLetter:{default:"",type:"string"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},projectOwnerIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},projectHealth:{default:[],type:"array[number]"},companyIds:{default:[],type:"array[number]"},categoryIds:{default:[],type:"array[number]"},includeSubCategories:{default:!0,type:"boolean"},onlyStarredProjects:{default:!1,type:"boolean"},hideObservedProjects:{default:!1,type:"boolean"},onlyProjectsWithExplicitMembership:{default:!1,type:"boolean"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:{customfields:{title:app.tl("Custom Fields"),parameters:["customFields"],isEnabled:app.featureFlip.check("customfieldsprojects",{unwrap:!0})},tags:{title:app.tl("Tags"),parameters:["filterTagIds"]},owners:{title:app.tl("Project Owner"),parameters:["projectOwnerIds"]},health:{title:app.tl("Project Health"),parameters:["projectHealth"]},company:{title:app.tl("Company"),parameters:["companyIds"]},category:{title:app.tl("Category"),parameters:["categoryIds","includeSubCategories"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","hideObservedProjects","onlyProjectsWithExplicitMembership"]}}},projectsTemplates:{parameters:{searchTerm:{default:"",type:"string"},firstLetter:{default:"",type:"string"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},categoryIds:{default:[],type:"array[number]"},projectOwnerIds:{default:[],type:"array[number]"},projectHealth:{default:[],type:"array[number]"},companyIds:{default:[],type:"array[number]"},includeSubCategories:{default:!0,type:"boolean"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:{tags:{title:app.tl("Tags"),parameters:["filterTagIds"]},owners:{title:app.tl("Project Owner"),parameters:["projectOwnerIds"]}}},projectsPortfolio:{parameters:{filterText:{default:"",type:"string"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},projectStatus:{default:"all",type:"string"},projectOwnerIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},projectHealth:{default:[],type:"array[number]"},companyIds:{default:[],type:"array[number]"},onlyStarredProjects:{default:!1,type:"boolean"},hideObservedProjects:{default:!1,type:"boolean"},onlyProjectsWithExplicitMembership:{default:!1,type:"boolean"},hiddenBoardColumnIds:{default:[],type:"array[number]",private:!0}},sections:{status:{title:app.tl("Project Status"),parameters:["projectStatus"]},owners:{title:app.tl("Project Owner"),parameters:["projectOwnerIds"]},health:{title:app.tl("Project Health"),parameters:["projectHealth"]},columnoptions:{title:app.tl("Show / Hide Columns"),parameters:["hiddenBoardColumnIds"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags"]},company:{title:app.tl("Company"),parameters:["companyIds"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","hideObservedProjects","onlyProjectsWithExplicitMembership"]}}},projectsPortfolioBacklog:{parameters:{filterText:{default:"",type:"string"},categoryIds:{default:[],type:"array[number]",private:!0},tagIds:{default:[],type:"array[number]"}},sections:{category:{title:app.tl("Category"),parameters:["categoryIds","includeSubCategories"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags"]}}},projectsChart:{parameters:{filterText:{default:"",type:"string"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},categoryIds:{default:[],type:"array[number]"},projectOwnerIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},projectHealth:{default:[],type:"array[number]"},companyIds:{default:[],type:"array[number]"},onlyStarredProjects:{default:!1,type:"boolean"},hideObservedProjects:{default:!1,type:"boolean"},onlyProjectsWithExplicitMembership:{default:!1,type:"boolean"},completedMilestones:{default:!0,type:"boolean"},upcomingMilestones:{default:!0,type:"boolean"},lateMilestones:{default:!0,type:"boolean"},includeSubCategories:{default:!0,type:"boolean"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:{tags:{title:app.tl("Tags"),parameters:["filterTagIds"]},owners:{title:app.tl("Project Owner"),parameters:["projectOwnerIds"]},health:{title:app.tl("Project Health"),parameters:["projectHealth"]},company:{title:app.tl("Company"),parameters:["companyIds"]},category:{title:app.tl("Category"),parameters:["categoryIds","includeSubCategories"]},milestones:{title:app.tl("Milestones"),parameters:["completedMilestones","upcomingMilestones","lateMilestones"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","hideObservedProjects","onlyProjectsWithExplicitMembership"]}}},personProjectsList:{parameters:{searchTerm:{default:"",type:"string"},customFields:{default:[],type:"array[object]"},firstLetter:{default:"",type:"string"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},status:{default:"active",type:"string"},projectOwnerIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},projectHealth:{default:[],type:"array[number]"},companyIds:{default:[],type:"array[number]"},categoryIds:{default:[],type:"array[number]"},includeSubCategories:{default:!0,type:"boolean"},onlyStarredProjects:{default:!1,type:"boolean"},hideObservedProjects:{default:!1,type:"boolean"},onlyProjectsWithExplicitMembership:{default:!1,type:"boolean"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:{customfields:{title:app.tl("Custom Fields"),parameters:["customFields"],isEnabled:app.featureFlip.check("customfieldsprojects",{unwrap:!0})},tags:{title:app.tl("Tags"),parameters:["filterTagIds"]},owners:{title:app.tl("Project Owner"),parameters:["projectOwnerIds"]},health:{title:app.tl("Project Health"),parameters:["projectHealth"]},company:{title:app.tl("Company"),parameters:["companyIds"]},category:{title:app.tl("Category"),parameters:["categoryIds","includeSubCategories"]},status:{title:app.tl("Status"),parameters:["status"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","hideObservedProjects","onlyProjectsWithExplicitMembership"]}}},companyProjectsList:{parameters:{searchTerm:{default:"",type:"string"},customFields:{default:[],type:"array[object]"},firstLetter:{default:"",type:"string"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},status:{default:"active",type:"string"},projectOwnerIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},projectHealth:{default:[],type:"array[number]"},categoryIds:{default:[],type:"array[number]"},includeSubCategories:{default:!0,type:"boolean"},onlyStarredProjects:{default:!1,type:"boolean"},hideObservedProjects:{default:!1,type:"boolean"},onlyProjectsWithExplicitMembership:{default:!1,type:"boolean"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:{customfields:{title:app.tl("Custom Fields"),parameters:["customFields"],isEnabled:app.featureFlip.check("customfieldsprojects",{unwrap:!0})},tags:{title:app.tl("Tags"),parameters:["filterTagIds"]},owners:{title:app.tl("Project Owner"),parameters:["projectOwnerIds"]},health:{title:app.tl("Project Health"),parameters:["projectHealth"]},category:{title:app.tl("Category"),parameters:["categoryIds","includeSubCategories"]},status:{title:app.tl("Status"),parameters:["status"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","hideObservedProjects","onlyProjectsWithExplicitMembership"]}}},allActiveTasks:{parameters:{filterText:{default:"",type:"string"},projectId:{default:[],type:"array[number]"},priority:{default:"any",type:"string"},dateCode:{default:"anytime",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:1,type:"number"},dateCreatedCode:{default:"anytime",type:"string"},createdAfterDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},createdBeforeDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},createdDateCustomInterval:{default:1,type:"number"},includeBlockedTasks:{default:!0,type:"boolean"},includeCompletedTasks:{default:!1,type:"boolean"},getSubTasks:{default:!0,type:"boolean"},onlyTasksWithTickets:{default:!1,type:"boolean"},onlyTasksWithUnreadComments:{default:!1,type:"boolean"},responsiblePartyIds:{default:[],type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},includeAssigneeCompanies:{default:!0,type:"boolean"},includeAssigneeTeams:{default:!0,type:"boolean"},includeDeletedUsersForAssignee:{default:!1,type:"boolean"},followerIds:{default:[],type:"array[number]"},creatorIds:{default:[],type:"array[number]"},includeDeletedUsersForCreator:{default:!1,type:"boolean"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},excludeTagIds:{default:[],type:"array[number]"},matchAllExcludedTags:{default:!1,type:"boolean"},onlyUntaggedTasks:{default:!1,type:"boolean"},showAllAssignedTasks:{default:!1,type:"boolean"},includeUnassignedTasks:{default:!1,type:"boolean"},includeOverdueTasks:{default:!1,type:"boolean"},includeTasksWithNoDate:{default:!1,type:"boolean"},ignoreStartDates:{default:!1,type:"boolean"},sortBy:{default:"startdate",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","includeOverdueTasks","includeTasksWithNoDate","ignoreStartDates","dateCustomInterval"]},datecreated:{title:app.tl("Date Created"),parameters:["dateCreatedCode","createdAfterDate","createdBeforeDate","createdDateCustomInterval"]},assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","assigneeCompanyIds","assigneeTeamIds","includeAssigneeCompanies","includeAssigneeTeams","showAllAssignedTasks","includeUnassignedTasks"]},project:{title:app.tl("Project"),parameters:["projectId"]},priority:{title:app.tl("Priority"),parameters:["priority"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags","excludeTagIds","matchAllExcludedTags","onlyUntaggedTasks"]},followers:{title:app.tl("Followers"),parameters:["followerIds"]},creator:{title:app.tl("Created By"),parameters:["creatorIds"]},options:{title:app.tl("Options"),parameters:["includeBlockedTasks","includeCompletedTasks","getSubTasks"]},sortoptions:{title:app.tl("Sort Options"),parameters:["sortBy","sortOrder"]}}},allCompletedTasks:{parameters:{filterText:{default:"",type:"string"},projectsType:{default:"active",type:"string"},includeArchivedProjects:{default:!1,type:"boolean"},projectId:{default:[],type:"array[number]"},priority:{default:"any",type:"string"},dateCode:{default:"last3months",type:"string"},dateType:{default:"COMPLETEDBETWEEN",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:1,type:"number"},responsiblePartyIds:{default:[],type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},includeAssigneeCompanies:{default:!0,type:"boolean"},includeAssigneeTeams:{default:!0,type:"boolean"},includeDeletedUsersForAssignee:{default:!1,type:"boolean"},completedByIds:{default:[],type:"array[number]"},includeDeletedUsersForCompletor:{default:!1,type:"boolean"},followerIds:{default:[],type:"array[number]"},creatorIds:{default:[],type:"array[number]"},includeDeletedUsersForCreator:{default:!1,type:"boolean"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},excludeTagIds:{default:[],type:"array[number]"},matchAllExcludedTags:{default:!1,type:"boolean"},onlyUntaggedTasks:{default:!1,type:"boolean"},onlyTasksWithTickets:{default:!1,type:"boolean"},sortBy:{default:"startdate",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","dateCustomInterval"]},completedby:{title:app.tl("Completed By"),parameters:["completedByIds"]},assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","assigneeCompanyIds","assigneeTeamIds","includeAssigneeCompanies","includeAssigneeTeams"]},project:{title:app.tl("Project"),parameters:["projectId"]},priority:{title:app.tl("Priority"),parameters:["priority"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags","excludeTagIds","matchAllExcludedTags","onlyUntaggedTasks"]},followers:{title:app.tl("Followers"),parameters:["followerIds"]},creator:{title:app.tl("Created By"),parameters:["creatorIds"]},options:{title:app.tl("Options"),parameters:["onlyTasksWithTickets"]},sortoptions:{title:app.tl("Sort Options"),parameters:["sortBy","sortOrder"]}}},personTasks:{parameters:{filterText:{default:"",type:"string"},priority:{default:"any",type:"string"},dateCode:{default:"anytime",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCreatedCode:{default:"anytime",type:"string"},createdAfterDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},createdBeforeDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},createdDateCustomInterval:{default:1,type:"number"},includeBlockedTasks:{default:!0,type:"boolean"},includeCompletedTasks:{default:!1,type:"boolean"},getSubTasks:{default:!0,type:"boolean"},onlyTasksWithTickets:{default:!1,type:"boolean"},onlyTasksWithUnreadComments:{default:!1,type:"boolean"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},excludeTagIds:{default:[],type:"array[number]"},matchAllExcludedTags:{default:!1,type:"boolean"},onlyUntaggedTasks:{default:!1,type:"boolean"},creatorIds:{default:[],type:"array[number]"},includeDeletedUsersForCreator:{default:!1,type:"boolean"},dateCustomInterval:{default:1,type:"number"},includeOverdueTasks:{default:!1,type:"boolean"},includeTasksWithNoDate:{default:!1,type:"boolean"},ignoreStartDates:{default:!1,type:"boolean"},includeAssigneeCompanies:{default:!0,type:"boolean"},includeAssigneeTeams:{default:!0,type:"boolean"},sortBy:{default:"startdate",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","includeOverdueTasks","includeTasksWithNoDate","ignoreStartDates","dateCustomInterval"]},datecreated:{title:app.tl("Date Created"),parameters:["dateCreatedCode","createdAfterDate","createdBeforeDate","createdDateCustomInterval"]},priority:{title:app.tl("Priority"),parameters:["priority"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags","excludeTagIds","matchAllExcludedTags","onlyUntaggedTasks"]},creator:{title:app.tl("Created By"),parameters:["creatorIds"]},options:{title:app.tl("Options"),parameters:["includeBlockedTasks","includeCompletedTasks","getSubTasks","includeAssigneeCompanies","includeAssigneeTeams"]}}},personCompletedTasks:{parameters:{filterText:{default:"",type:"string"},projectsType:{default:"active",type:"string"},includeArchivedProjects:{default:!1,type:"boolean"},onlyTasksWithTickets:{default:!1,type:"boolean"},projectId:{default:[],type:"array[number]"},priority:{default:"any",type:"string"},dateCode:{default:"last3months",type:"string"},dateType:{default:"COMPLETEDBETWEEN",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:1,type:"number"},responsiblePartyIds:{default:[],type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},includeDeletedUsersForAssignee:{default:!1,type:"boolean"},completedByIds:{default:[],type:"array[number]"},followerIds:{default:[],type:"array[number]"},creatorIds:{default:[],type:"array[number]"},includeAssigneeCompanies:{default:!0,type:"boolean"},includeAssigneeTeams:{default:!0,type:"boolean"},includeDeletedUsersForCreator:{default:!1,type:"boolean"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},excludeTagIds:{default:[],type:"array[number]"},matchAllExcludedTags:{default:!1,type:"boolean"},onlyUntaggedTasks:{default:!1,type:"boolean"},sortBy:{default:"startdate",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","dateCustomInterval"]},completedby:{title:app.tl("Completed By"),parameters:["completedByIds"]},assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","assigneeCompanyIds","assigneeTeamIds","includeAssigneeCompanies","includeAssigneeTeams"]},project:{title:app.tl("Project"),parameters:["projectId"]},priority:{title:app.tl("Priority"),parameters:["priority"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags","excludeTagIds","matchAllExcludedTags","onlyUntaggedTasks"]},followers:{title:app.tl("Followers"),parameters:["followerIds"]},creator:{title:app.tl("Created By"),parameters:["creatorIds"]},options:{title:app.tl("Options"),parameters:["onlyTasksWithTickets"]}}},projectTasks:{parameters:{filterText:{default:"",type:"string"},priority:{default:"any",type:"string"},dateCode:{default:"anytime",type:"string"},dateCreatedCode:{default:"anytime",type:"string"},createdAfterDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},createdBeforeDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},createdDateCustomInterval:{default:1,type:"number"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},includeBlockedTasks:{default:!0,type:"boolean"},includeCompletedTasks:{default:!1,type:"boolean"},getSubTasks:{default:!0,type:"boolean"},onlyTasksWithTickets:{default:!1,type:"boolean"},onlyTasksWithUnreadComments:{default:!1,type:"boolean"},responsiblePartyIds:{default:[],type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},includeAssigneeCompanies:{default:!0,type:"boolean"},includeAssigneeTeams:{default:!0,type:"boolean"},includeDeletedUsersForAssignee:{default:!1,type:"boolean"},filterBoardColumnIds:{default:[],type:"array[number]",private:!0},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},excludeTagIds:{default:[],type:"array[number]"},matchAllExcludedTags:{default:!1,type:"boolean"},onlyUntaggedTasks:{default:!1,type:"boolean"},creatorIds:{default:[],type:"array[number]"},includeDeletedUsersForCreator:{default:!1,type:"boolean"},dateCustomInterval:{default:1,type:"number"},includeOverdueTasks:{default:!1,type:"boolean"},includeTasksWithNoDate:{default:!1,type:"boolean"},ignoreStartDates:{default:!1,type:"boolean"}},sections:{date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","includeOverdueTasks","includeTasksWithNoDate","ignoreStartDates","dateCustomInterval"]},datecreated:{title:app.tl("Date Created"),parameters:["dateCreatedCode","createdAfterDate","createdBeforeDate","createdDateCustomInterval"]},assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","assigneeCompanyIds","assigneeTeamIds","includeAssigneeCompanies","includeAssigneeTeams"]},priority:{title:app.tl("Priority"),parameters:["priority"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags","excludeTagIds","matchAllExcludedTags","onlyUntaggedTasks"]},creator:{title:app.tl("Created By"),parameters:["creatorIds"]},columns:{title:app.tl("Board Columns"),parameters:["filterBoardColumnIds"]},options:{title:app.tl("Options"),parameters:["includeBlockedTasks","includeCompletedTasks","getSubTasks"]}}},projectTasksBoard:{parameters:{filterText:{default:"",type:"string"},priority:{default:"any",type:"string"},dateCode:{default:"anytime",type:"string"},dateCreatedCode:{default:"anytime",type:"string"},createdAfterDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},createdBeforeDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},createdDateCustomInterval:{default:1,type:"number"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},responsiblePartyIds:{default:[],type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},includeDeletedUsersForAssignee:{default:!1,type:"boolean"},hiddenBoardColumnIds:{default:[],type:"array[number]",private:!0},taskListIds:{default:[],type:"array[number]",private:!0},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},excludeTagIds:{default:[],type:"array[number]"},matchAllExcludedTags:{default:!1,type:"boolean"},onlyUntaggedTasks:{default:!1,type:"boolean"},dateCustomInterval:{default:1,type:"number"},onlyTasksWithTickets:{default:!1,type:"boolean"},includeBlockedTasks:{default:!0,type:"boolean"},includeCompletedTasks:{default:!0,type:"boolean"},includeSubtasks:{default:!0,type:"boolean"}},sections:{columnoptions:{title:app.tl("Show / Hide Columns"),parameters:["hiddenBoardColumnIds"]},date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","dateCustomInterval"]},assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","assigneeCompanyIds","assigneeTeamIds"]},datecreated:{title:app.tl("Date Created"),parameters:["dateCreatedCode","createdAfterDate","createdBeforeDate","createdDateCustomInterval"]},priority:{title:app.tl("Priority"),parameters:["priority"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags","excludeTagIds","matchAllExcludedTags","onlyUntaggedTasks"]},tasklist:{title:app.tl("Task Lists"),parameters:["taskListIds"]},options:{title:app.tl("Options"),parameters:["includeBlockedTasks","includeCompletedTasks","onlyTasksWithTickets","includeSubtasks"]}}},userTasksBoard:{parameters:{filterText:{default:"",type:"string"},priority:{default:"any",type:"string"},dateCode:{default:"anytime",type:"string"},dateCreatedCode:{default:"anytime",type:"string"},createdAfterDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},createdBeforeDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},createdDateCustomInterval:{default:1,type:"number"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},responsiblePartyIds:{default:[],type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},hiddenBoardColumnIds:{default:[],type:"array[number]",private:!0},projectId:{default:[],type:"array[number]"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},excludeTagIds:{default:[],type:"array[number]"},matchAllExcludedTags:{default:!1,type:"boolean"},onlyUntaggedTasks:{default:!1,type:"boolean"},dateCustomInterval:{default:1,type:"number"},onlyTasksWithTickets:{default:!1,type:"boolean"},includeBlockedTasks:{default:!0,type:"boolean"},includeCompletedTasks:{default:!0,type:"boolean"},includeSubtasks:{default:!0,type:"boolean"}},sections:{columnoptions:{title:app.tl("Show / Hide Columns"),parameters:["hiddenBoardColumnIds"]},project:{title:app.tl("Project"),parameters:["projectId"]},datecreated:{title:app.tl("Date Created"),parameters:["dateCreatedCode","createdAfterDate","createdBeforeDate","createdDateCustomInterval"]},date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","dateCustomInterval"]},assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","assigneeCompanyIds","assigneeTeamIds"]},priority:{title:app.tl("Priority"),parameters:["priority"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags","excludeTagIds","matchAllExcludedTags","onlyUntaggedTasks"]},options:{title:app.tl("Options"),parameters:["includeBlockedTasks","includeCompletedTasks","onlyTasksWithTickets","includeSubtasks"]}}},projectTasksBoardBacklog:{parameters:{filterText:{default:"",type:"string"},taskListIds:{default:[],type:"array[number]",private:!0},responsiblePartyIds:{default:[],type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},priority:{default:"any",type:"string"},tagIds:{default:[],type:"array[number]"}},sections:{assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","assigneeCompanyIds","assigneeTeamIds"]},tasklist:{title:app.tl("Task Lists"),parameters:["taskListIds"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags"]},priority:{title:app.tl("Priority"),parameters:["priority"]}}},taskTemplates:{parameters:{filterText:{default:"",type:"string"},priority:{default:"any",type:"string"},dateCode:{default:"anytime",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},includeBlockedTasks:{default:!0,type:"boolean"},getSubTasks:{default:!0,type:"boolean"},onlyTasksWithTickets:{default:!1,type:"boolean"},responsiblePartyIds:{default:[],type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},includeDeletedUsersForAssignee:{default:!1,type:"boolean"},filterBoardColumnIds:{default:[],type:"array[number]"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},excludeTagIds:{default:[],type:"array[number]"},matchAllExcludedTags:{default:!1,type:"boolean"},onlyUntaggedTasks:{default:!1,type:"boolean"},dateCustomInterval:{default:1,type:"number"},includeOverdueTasks:{default:!1,type:"boolean"},includeTasksWithNoDate:{default:!1,type:"boolean"},ignoreStartDates:{default:!1,type:"boolean"}},sections:{date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","includeOverdueTasks","includeTasksWithNoDate","ignoreStartDates","dateCustomInterval"]},assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","assigneeCompanyIds","assigneeTeamIds"]},priority:{title:app.tl("Priority"),parameters:["priority"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags","excludeTagIds","matchAllExcludedTags","onlyUntaggedTasks"]},columns:{title:app.tl("Board Columns"),parameters:["filterBoardColumnIds"]},options:{title:app.tl("Options"),parameters:["includeBlockedTasks","getSubTasks"]}}},allMessages:{parameters:{filterText:{default:"",type:"string"},filterUserIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},projectsType:{default:"any",type:"string"},filterProjectId:{default:[],type:"array[number]"},notifiedUserId:{default:[],type:"array[number]"},showUnreadOnly:{default:!1,type:"boolean"},showOnlyWhereNotified:{default:!1,type:"boolean"},dateCode:{default:"anytime",type:"string"},publishedStartDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},publishedEndDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:1,type:"number"},onlyStarredProjects:{default:!1,type:"boolean"},sortBy:{default:"lastupdated",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{project:{title:app.tl("Project"),parameters:["filterProjectId"]},author:{title:app.tl("Author"),parameters:["filterUserIds"]},date:{title:app.tl("Created Date"),parameters:["dateCode","publishedStartDate","publishedEndDate","dateCustomInterval"]},notified:{title:app.tl("Notified"),parameters:["notifiedUserId"]},tags:{title:app.tl("Tags"),parameters:["filterTagIds"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","showUnreadOnly"]}}},homeMessages:{parameters:{filterText:{default:"",type:"string"},filterUserIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},filterProjectId:{default:[],type:"array[number]"},projectsType:{default:"any",type:"string"},notifiedUserId:{default:[],type:"array[number]"},showUnreadOnly:{default:!0,type:"boolean"},showOnlyWhereNotified:{default:!1,type:"boolean"},dateCode:{default:"anytime",type:"string"},publishedStartDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},publishedEndDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:1,type:"number"},onlyStarredProjects:{default:!1,type:"boolean"},sortBy:{default:"dateposted",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{project:{title:app.tl("Project"),parameters:["filterProjectId"]},author:{title:app.tl("Author"),parameters:["filterUserIds"]},date:{title:app.tl("Created Date"),parameters:["dateCode","publishedStartDate","publishedEndDate","dateCustomInterval"]},notified:{title:app.tl("Notified"),parameters:["notifiedUserId"]},tags:{title:app.tl("Tags"),parameters:["filterTagIds"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects","showUnreadOnly"]}}},itemMessages:{parameters:{sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}}},projectMessages:{parameters:{filterText:{default:"",type:"string"},filterUserIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},filterProjectId:{default:[],type:"array[number]"},notifiedUserId:{default:[],type:"array[number]"},showUnreadOnly:{default:!1,type:"boolean"},showOnlyWhereNotified:{default:!1,type:"boolean"},dateCode:{default:"anytime",type:"string"},publishedStartDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},publishedEndDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:1,type:"number"},sortBy:{default:"lastupdated",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{author:{title:app.tl("Author"),parameters:["filterUserIds"]},date:{title:app.tl("Created Date"),parameters:["dateCode","publishedStartDate","publishedEndDate","dateCustomInterval"]},notified:{title:app.tl("Notified"),parameters:["notifiedUserId"]},tags:{title:app.tl("Tags"),parameters:["filterTagIds"]},options:{title:app.tl("Options"),parameters:["showUnreadOnly"]}}},allMilestones:{parameters:{filterText:{default:"",type:"string"},projectIds:{default:[],type:"array[number]"},projectsFromCompanyId:{default:[],type:"array[number]"},projectsType:{default:"any",type:"string"},dateCode:{default:"anytime",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},responsiblePartyIds:{default:[],type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},includeAssigneeCompanies:{default:!0,type:"boolean"},includeAssigneeTeams:{default:!0,type:"boolean"},includeDeletedUsersForAssigned:{default:!1,type:"boolean"},followerIds:{default:[],type:"array[number]"},creatorIds:{default:[],type:"array[number]"},includeDeletedUsersForCreator:{default:!1,type:"boolean"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},status:{default:"all",type:"string"},dateCustomInterval:{default:1,type:"number"},showPrivateMilestones:{default:!0,type:"boolean"},showPercentCompleted:{default:!0,type:"boolean"},showAttachedTaskLists:{default:!0,type:"boolean"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:{project:{title:app.tl("Project"),parameters:["projectIds","projectsType","projectsFromCompanyId"]},assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","assigneeCompanyIds","assigneeTeamIds","includeAssigneeCompanies","includeAssigneeTeams"]},date:{title:app.tl("Date"),parameters:["dateCode"]},tags:{title:app.tl("Tags"),parameters:["tagIds"]},followers:{title:app.tl("Followers"),parameters:["followerIds"]},creator:{title:app.tl("Created By"),parameters:["creatorIds"]},status:{title:app.tl("Status"),parameters:["status"]},options:{title:app.tl("Options"),parameters:["showPrivateMilestones","showPercentCompleted","showAttachedTaskLists"]},sortoptions:{title:app.tl("Sort Options"),parameters:["sortBy","sortOrder"]}}},projectMilestones:{parameters:{filterText:{default:"",type:"string"},dateCode:{default:"anytime",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},responsiblePartyIds:{default:[],type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},includeAssigneeCompanies:{default:!0,type:"boolean"},includeAssigneeTeams:{default:!0,type:"boolean"},includeDeletedUsersForAssigned:{default:!1,type:"boolean"},followerIds:{default:[],type:"array[number]"},creatorIds:{default:[],type:"array[number]"},includeDeletedUsersForCreator:{default:!1,type:"boolean"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},projectIds:{default:[],type:"array[number]"},status:{default:"all",type:"string"},dateCustomInterval:{default:1,type:"number"},showPrivateMilestones:{default:!0,type:"boolean"},showPercentCompleted:{default:!0,type:"boolean"},showAttachedTaskLists:{default:!0,type:"boolean"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:{assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","assigneeCompanyIds","assigneeTeamIds","includeAssigneeCompanies","includeAssigneeTeams"]},date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","dateCustomInterval"]},tags:{title:app.tl("Tags"),parameters:["tagIds"]},followers:{title:app.tl("Followers"),parameters:["followerIds"]},creator:{title:app.tl("Created By"),parameters:["creatorIds"]},status:{title:app.tl("Status"),parameters:["status"]},options:{title:app.tl("Options"),parameters:["showPrivateMilestones","showPercentCompleted","showAttachedTaskLists"]}}},personMilestones:{parameters:{filterText:{default:"",type:"string"},dateCode:{default:"anytime",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},responsiblePartyIds:{default:[],type:"array[number]"},includeDeletedUsersForAssigned:{default:!1,type:"boolean"},followerIds:{default:[],type:"array[number]"},creatorIds:{default:[],type:"array[number]"},includeDeletedUsersForCreator:{default:!1,type:"boolean"},includeAssigneeCompanies:{default:!0,type:"boolean"},includeAssigneeTeams:{default:!0,type:"boolean"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},projectIds:{default:[],type:"array[number]"},status:{default:"all",type:"string"},dateCustomInterval:{default:1,type:"number"},showPrivateMilestones:{default:!0,type:"boolean"},showPercentCompleted:{default:!0,type:"boolean"},showAttachedTaskLists:{default:!0,type:"boolean"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:{assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","showAllAssignedTasks","includeUnassignedTasks"]},date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","includeOverdueTasks","includeTasksWithNoDate","ignoreStartDates","dateCustomInterval"]},tags:{title:app.tl("Tags"),parameters:["tagIds"]},followers:{title:app.tl("Followers"),parameters:["followerIds"]},creator:{title:app.tl("Created By"),parameters:["creatorIds"]},status:{title:app.tl("Status"),parameters:["status"]},options:{title:app.tl("Options"),parameters:["showPrivateMilestones","showPercentCompleted","showAttachedTaskLists","includeAssigneeCompanies","includeAssigneeTeams"]}}},allComments:{parameters:{dateCode:{default:"anytime",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},commentType:{default:"",type:"string"},authorIds:{default:[],type:"array[number]"},includeDeletedUsersForAuthor:{default:!1,type:"boolean"},projectIds:{default:[],type:"array[number]"},notifiedUserIds:{default:[],type:"array[number]"},includeDeletedUsersForNotify:{default:!1,type:"boolean"},status:{default:"all",type:"string"},dateCustomInterval:{default:1,type:"number"},onlyStarredProjects:{default:!1,type:"boolean"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0},publishedStartDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},publishedEndDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0}},sections:{project:{title:app.tl("Project"),parameters:["projectIds"]},commentType:{title:app.tl("Comment Type"),parameters:["commentType"]},date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate"]},notified:{title:app.tl("Notified"),parameters:["notifiedUserIds"]},author:{title:app.tl("Author"),parameters:["authorIds"]},status:{title:app.tl("Status"),parameters:["status"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects"]}}},itemComments:{parameters:{showLastTen:{default:!1,type:"boolean"},status:{default:"all",type:"string"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0},commentType:{default:"",type:"string"},authorIds:{default:[],type:"array[number]"},includeDeletedUsersForAuthor:{default:!1,type:"boolean"},projectIds:{default:[],type:"array[number]"},notifiedUserIds:{default:[],type:"array[number]"},includeDeletedUsersForNotify:{default:!1,type:"boolean"},dateCode:{default:"anytime",type:"string"},dateCustomInterval:{default:1,type:"number"}},sections:{options:{title:"",parameters:["showLastTen","status"]}}},homeComments:{parameters:{dateCode:{default:"anytime",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},commentType:{default:"",type:"string"},authorIds:{default:[],type:"array[number]"},includeDeletedUsersForAuthor:{default:!1,type:"boolean"},projectIds:{default:[],type:"array[number]"},notifiedUserIds:{default:[],type:"array[number]"},includeDeletedUsersForNotify:{default:!1,type:"boolean"},status:{default:"unread",type:"string"},dateCustomInterval:{default:1,type:"number"},onlyStarredProjects:{default:!1,type:"boolean"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0},publishedStartDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},publishedEndDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0}},sections:{project:{title:app.tl("Project"),parameters:["projectIds"]},commentType:{title:app.tl("Comment Type"),parameters:["commentType"]},date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate"]},notified:{title:app.tl("Notified"),parameters:["notifiedUserIds"]},author:{title:app.tl("Author"),parameters:["authorIds"]},status:{title:app.tl("Status"),parameters:["status"]},options:{title:app.tl("Options"),parameters:["onlyStarredProjects"]}}},projectComments:{parameters:{dateCode:{default:"anytime",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},commentType:{default:"",type:"string"},authorIds:{default:[],type:"array[number]"},includeDeletedUsersForAuthor:{default:!1,type:"boolean"},notifiedUserIds:{default:[],type:"array[number]"},includeDeletedUsersForNotify:{default:!1,type:"boolean"},status:{default:"all",type:"string"},dateCustomInterval:{default:1,type:"number"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{commentType:{title:app.tl("Comment Type"),parameters:["commentType"]},date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate"]},notified:{title:app.tl("Notified"),parameters:["notifiedUserIds"]},author:{title:app.tl("Author"),parameters:["authorIds"]},status:{title:app.tl("Status"),parameters:["status"]}}},shortcuts:{parameters:{searchTerm:{default:"",type:"string"},onlyPinned:{default:!1,type:"boolean"},shortcutType:{default:[],type:"array[string]"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{columnoptions:{title:app.tl("Show / Hide Columns"),parameters:["hiddenBoardColumnIds"]},options:{title:app.tl("Options"),parameters:["onlyPinned"]},type:{title:app.tl("Type"),parameters:["shortcutType"]}}},teams:{parameters:{searchTerm:{default:"",type:"string"},firstLetter:{default:"",type:"string"},companyIds:{default:[],type:"array[number]"},projectIds:{default:[],type:"array[number]"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{company:{title:app.tl("Company"),parameters:["companyIds"]},project:{title:app.tl("Project"),parameters:["projectIds"]}}},teamDefaultProjects:{parameters:{searchTerm:{default:"",type:"string"},firstLetter:{default:"",type:"string"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}}},allFiles:{parameters:{filterText:{default:"",type:"string"},filterByUserId:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},projectId:{default:[],type:"array[number]"},dateCode:{default:"anytime",type:"string"},uploadedStartDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},uploadedEndDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:1,type:"number"},skipExternalFiles:{default:!1,type:"boolean"},skipInternalFiles:{default:!1,type:"boolean"},lockedOnly:{default:!1,type:"boolean"},sortBy:{default:"projectName",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{project:{title:app.tl("Project"),parameters:["projectId"]},uploader:{title:app.tl("Added By"),parameters:["filterByUserId"]},date:{title:app.tl("Date Uploaded"),parameters:["dateCode","uploadedStartDate","uploadedEndDate","dateCustomInterval"]},tags:{title:app.tl("Tags"),parameters:["filterTagIds"]},options:{title:app.tl("Options"),parameters:["skipExternalFiles","skipInternalFiles","lockedOnly"]}}},projectFiles:{parameters:{filterText:{default:"",type:"string"},filterByUserId:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},dateCode:{default:"anytime",type:"string"},uploadedStartDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},uploadedEndDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:1,type:"number"},skipExternalFiles:{default:!1,type:"boolean"},skipInternalFiles:{default:!1,type:"boolean"},lockedOnly:{default:!1,type:"boolean"},sortBy:{default:"dateUploaded",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{uploader:{title:app.tl("Added By"),parameters:["filterByUserId"]},date:{title:app.tl("Date Uploaded"),parameters:["dateCode","uploadedStartDate","uploadedEndDate","dateCustomInterval"]},tags:{title:app.tl("Tags"),parameters:["filterTagIds"]},options:{title:app.tl("Options"),parameters:["skipExternalFiles","skipInternalFiles","lockedOnly"]}}},allRisks:{parameters:{filterText:{default:"",type:"string"},projectIds:{default:[],type:"array[number]"},showOpenRisks:{default:!0,type:"boolean"},showPendingRisks:{default:!0,type:"boolean"},showClosedRisks:{default:!0,type:"boolean"},probabilityFrom:{default:1,type:"number"},probabilityTo:{default:9,type:"number"},impactFrom:{default:1,type:"number"},impactTo:{default:9,type:"number"},impactCost:{default:!1,type:"boolean"},impactSchedule:{default:!1,type:"boolean"},impactPerformance:{default:!1,type:"boolean"},sortBy:{default:"project",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{project:{title:app.tl("Project"),parameters:["projectIds"]},status:{title:app.tl("Status"),parameters:["showOpenRisks","showPendingRisks","showClosedRisks"]},probability:{title:app.tl("Probability"),parameters:["probabilityFrom","probabilityTo"]},impact:{title:app.tl("Impact"),parameters:["impactFrom","impactTo","impactCost","impactSchedule","impactPerformance"]},sortoptions:{title:app.tl("Sort Options"),parameters:["sortBy","sortOrder"]}}},projectRisks:{parameters:{filterText:{default:"",type:"string"},showOpenRisks:{default:!0,type:"boolean"},showPendingRisks:{default:!0,type:"boolean"},showClosedRisks:{default:!0,type:"boolean"},probabilityFrom:{default:1,type:"number"},probabilityTo:{default:9,type:"number"},impactFrom:{default:1,type:"number"},impactTo:{default:9,type:"number"},impactCost:{default:!1,type:"boolean"},impactSchedule:{default:!1,type:"boolean"},impactPerformance:{default:!1,type:"boolean"},sortBy:{default:"result",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{status:{title:app.tl("Status"),parameters:["showOpenRisks","showPendingRisks","showClosedRisks"]},probability:{title:app.tl("Probability"),parameters:["probabilityFrom","probabilityTo"]},impact:{title:app.tl("Impact"),parameters:["impactFrom","impactTo","impactCost","impactSchedule","impactPerformance"]}}},allWorkload:{parameters:{filterText:{default:"",type:"string"},responsiblePartyIds:{default:[],type:"array[number]"},assigneeCompanyIds:{default:[],type:"array[number]"},assigneeTeamIds:{default:[],type:"array[number]"},dateCode:{default:"thisweek",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},projectId:{default:[],type:"array[number]"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},excludeTagIds:{default:[],type:"array[number]"},matchAllExcludedTags:{default:!1,type:"boolean"},onlyUntaggedTasks:{default:!1,type:"boolean"},dateCustomInterval:{default:1,type:"number"},includeTasksWithoutDates:{default:!1,type:"boolean"},distributeEstimatedTimeToAssignees:{default:!0,type:"boolean"},prorataEstimatedTime:{default:!0,type:"boolean"},subtractLoggedTimeFromEstimates:{default:!0,type:"boolean"},sortBy:{default:"user",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0},tasksSortBy:{default:"project",type:"string",ignoreChanges:!0},tasksSortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{project:{title:app.tl("Project"),parameters:["projectId"]},assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds","assigneeCompanyIds","assigneeTeamIds"]},date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","dateCustomInterval"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags","excludeTagIds","matchAllExcludedTags","onlyUntaggedTasks"]},options:{title:app.tl("Options"),parameters:["includeTasksWithoutDates","distributeEstimatedTimeToAssignees","prorataEstimatedTime"]},sortoptions:{title:app.tl("Sort Options"),parameters:["sortBy","sortOrder"]}}},plannerWorkload:{parameters:{filterText:{default:"",type:"string"},responsiblePartyIds:{default:[],type:"array[number]"},projectId:{default:[],type:"array[number]"},dateCustomInterval:{default:30,type:"number"},includeTasksWithoutDates:{default:!1,type:"boolean"},distributeEstimatedTimeToAssignees:{default:!0,type:"boolean"},prorataEstimatedTime:{default:!0,type:"boolean"},subtractLoggedTimeFromEstimates:{default:!0,type:"boolean"},sortBy:{default:"user",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},excludeTagIds:{default:[],type:"array[number]"},matchAllExcludedTags:{default:!1,type:"boolean"},onlyUntaggedTasks:{default:!1,type:"boolean"}},sections:{project:{title:app.tl("Project"),parameters:["projectId"]},assignee:{title:app.tl("Assigned To"),parameters:["responsiblePartyIds"]},tags:{title:app.tl("Tags"),parameters:["tagIds","matchAllTags","excludeTagIds","matchAllExcludedTags","onlyUntaggedTasks"]},options:{title:app.tl("Options"),parameters:["includeTasksWithoutDates","distributeEstimatedTimeToAssignees","prorataEstimatedTime"]}}},workloadPeoplePlanner:{parameters:{filterText:{default:"",type:"string"},companyIds:{default:[],type:"array[number]"},projectIds:{default:[],type:"array[number]"},sortBy:{default:"user",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:{company:{title:app.tl("Members of Company"),parameters:["companyIds"]},project:{title:app.tl("Members of Project"),parameters:["projectIds"]}}},workloadPeopleManage:{parameters:{filterText:{default:"",type:"string"},companyIds:{default:[],type:"array[number]"},projectIds:{default:[],type:"array[number]"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0},onlyUsersWithCapacity:{default:!1,type:"boolean"}},sections:{company:{title:app.tl("Members of Company"),parameters:["companyIds"]},project:{title:app.tl("Members of Project"),parameters:["projectIds"]},options:{title:app.tl("Options"),parameters:["onlyUsersWithCapacity"]}}},allNotebooks:{parameters:{filterText:{default:"",type:"string"},projectId:{default:[],type:"array[number]"},userIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},lockedOnly:{default:!1,type:"boolean"},secureOnly:{default:!1,type:"boolean"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{project:{title:app.tl("Project"),parameters:["projectId"]},tags:{title:app.tl("Tags"),parameters:["tagIds"]},author:{title:app.tl("Created By"),parameters:["userIds"]},options:{title:app.tl("Options"),parameters:["lockedOnly","secureOnly"]}}},projectNotebooks:{parameters:{filterText:{default:"",type:"string"},userIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},lockedOnly:{default:!1,type:"boolean"},secureOnly:{default:!1,type:"boolean"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{tags:{title:app.tl("Tags"),parameters:["tagIds"]},author:{title:app.tl("Created By"),parameters:["userIds"]},options:{title:app.tl("Options"),parameters:["lockedOnly","secureOnly"]}}},allLinks:{parameters:{filterText:{default:"",type:"string"},filterUserIds:{default:[],type:"array[number]"},filterTagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},filterProjectIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},dateCode:{default:"anytime",type:"string"},publishedStartDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},publishedEndDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:1,type:"number"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{project:{title:app.tl("Project"),parameters:["filterProjectIds"]},author:{title:app.tl("Created By"),parameters:["filterUserIds"]},date:{title:app.tl("Date Added"),parameters:["dateCode","publishedStartDate","publishedEndDate","dateCustomInterval"]},tags:{title:app.tl("Tags"),parameters:["filterTagIds"]}}},projectLinks:{parameters:{filterText:{default:"",type:"string"},filterUserIds:{default:[],type:"array[number]"},filterTagIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},matchAllTags:{default:!0,type:"boolean"},dateCode:{default:"anytime",type:"string"},publishedStartDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},publishedEndDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:1,type:"number"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{author:{title:app.tl("Created By"),parameters:["filterUserIds"]},date:{title:app.tl("Date Added"),parameters:["dateCode","publishedStartDate","publishedEndDate","dateCustomInterval"]},tags:{title:app.tl("Tags"),parameters:["filterTagIds"]}}},allTime:{parameters:{projectId:{default:[],type:"array[number]"},projectStatus:{default:"all",type:"string"},projectsFromCompanyId:{default:[],type:"array[number]"},projectsType:{default:"any",type:"string"},onlyStarredProjects:{default:!1,type:"boolean"},includeArchivedProjects:{default:!1,type:"boolean"},userFilterMode:{default:"user",type:"string"},companyId:{default:[],type:"array[number]"},userIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},dateCode:{default:"anytime",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:1,type:"number"},invoicedType:{default:"all",type:"string"},billableType:{default:"all",type:"string"},tagsType:{default:"tagIds",type:"string"},columnMode:{default:"all",type:"string"},selectedColumns:{default:["date","project","whoLoggedTime","descriptionAndTags","attachedTaskList","startTime","endTime","isEntryBillable","hasEntryBeenBilled","timeTaken","hoursTaken","estimatedTime"],type:"array[string]"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0}},sections:{date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","dateCustomInterval"]},user:{title:app.tl("People"),parameters:["userIds","companyId"]},project:{title:app.tl("Project"),parameters:["projectId","projectStatus","projectsType","projectsFromCompanyId"]},tags:{title:app.tl("Tags"),parameters:["tagIds","tagsType"]},billable:{title:app.tl("Billable"),parameters:["billableType"]},invoiced:{title:app.tl("Invoiced"),parameters:["invoicedType"]},selectedColumns:{title:app.tl("Show / Hide Columns"),parameters:["selectedColumns"]},sortoptions:{title:app.tl("Sort Options"),parameters:["sortBy","sortOrder"]}}},projectTime:{parameters:{userFilterMode:{default:"user",type:"string"},companyId:{default:[],type:"array[number]"},userIds:{default:[],type:"array[number]"},includeDeletedUsers:{default:!1,type:"boolean"},tagIds:{default:[],type:"array[number]"},matchAllTags:{default:!0,type:"boolean"},dateCode:{default:"anytime",type:"string"},startDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},endDate:{default:e().format("YYYYMMDD"),type:"moment",ignoreNull:!0},dateCustomInterval:{default:1,type:"number"},invoicedType:{default:"all",type:"string"},billableType:{default:"all",type:"string"},tagsType:{default:"tagIds",type:"string"},columnMode:{default:"all",type:"string"},selectedColumns:{default:["date","project","whoLoggedTime","descriptionAndTags","attachedTaskList","startTime","endTime","isEntryBillable","hasEntryBeenBilled","timeTaken","hoursTaken","estimatedTime"],type:"array[string]"},sortBy:{default:"date",type:"string",ignoreChanges:!0},sortOrder:{default:"desc",type:"string",ignoreChanges:!0},includeArchivedProjects:{default:!1,type:"boolean"}},sections:{date:{title:app.tl("Date"),parameters:["dateCode","startDate","endDate","dateCustomInterval"]},user:{title:app.tl("People"),parameters:["userIds","companyId"]},tags:{title:app.tl("Tags"),parameters:["tagIds","tagsType"]},billable:{title:app.tl("Billable"),parameters:["billableType"]},invoiced:{title:app.tl("Invoiced"),parameters:["invoicedType"]},selectedColumns:{title:app.tl("Show / Hide Columns"),parameters:["selectedColumns"]}}},allTags:{parameters:{filterText:{default:"",type:"string"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:[]},projectTags:{parameters:{filterText:{default:"",type:"string"},sortBy:{default:"name",type:"string",ignoreChanges:!0},sortOrder:{default:"asc",type:"string",ignoreChanges:!0}},sections:[]}}}return t.prototype.get=function(e){var t;return null==e&&(e=""),null!=(t=this.config[e])?t:{parameters:{},sections:{}}},t.prototype.buildParameters=function(t,n){var r,i,o,a,s,l,p,u,d,c,f;for(null==t&&(t=""),null==n&&(n={}),null==n.parameters&&(n.parameters={}),null==n.privateParameters&&(n.privateParameters={}),null==n.ignoredParameters&&(n.ignoredParameters={}),u=null!=this.config[t]?this.config[t].parameters:{},i=function(t){return function(t,n){var r,o;if("string"===n)return String(null!=t?t:"");if("number"===n)return Number(null!=t?t:0);if("boolean"===n)return"boolean"==typeof t?t:"YES"===t||"NO"!==t&&Boolean(t);if("moment"===n)return e.isMoment(t)?t:"string"==typeof t?e(t,"YYYYMMDD"):e();if("object"===n)return"object"==typeof t?t:{};if(null!=(r=/^array\[(\w+)\]$/.exec(n)))return o=r[1],"string"==typeof t&&""!==t&&(t=t.split(",")),Array.isArray(t)?t.map(function(e){return i(e,o)}):[];throw new Error("Unsupported type: "+n)}}(),p=Object.keys(n.parameters),o=0,a=p.length;o<a;o++)(s=p[o])in u||delete n.parameters[s];for(s in u)l=u[s],d=l.type,r=i(l.default,d),null!=n.parameters[s]?(f=n.parameters[s],c=i(f(),d),f(c)):(f=n.parameters[s]=ko.observable(r),c=r),f.defaultValue=r,null==l.private&&(l.private=!1),null==l.ignoreChanges&&(l.ignoreChanges=!1),l.private&&(n.privateParameters[s]=f()),l.ignoreChanges&&(n.ignoredParameters[s]=f()),null!=f.originalValue?f.originalValue(c):f.originalValue=ko.observable(c),f.notifySubscribers(c,"reset")},t.prototype.createSections=function(e){var t,n,r,i,o,s,l,p,u,d,c,f,h,m,g,y,b,v,w,k,T,I,C;null==e&&(e=""),w=[],T={},t=null!=(h=this.get(e).sections)?h:{};for(l in t)C=t[l],(null==(m=C.isEnabled)||m)&&(T[l]=C);if(k=Object.keys(T),!(k.length>0))return w;for(f=e+"FiltersOrder",b=null!=(g="function"==typeof(n=app.loggedInUser.preferences)[f]?n[f]():void 0)?g:[],r=e+"CollapsedFilters",i=app.cache.get(r,[]),o=s=0,u=k.length;s<u;o=++s)y=k[o],-1===b.indexOf(y)&&b.splice(o,0,y);for(v=ko.utils.arrayGetDistinctValues(b.concat(k)),p=0,d=v.length;p<d;p++)I=v[p],null!=(c=T[I])&&w.push({type:I,title:c.title,parameters:c.parameters,collapsed:ko.observable(a.call(i,I)>=0)});return w},t.prototype.buildSuggestions=function(e,t){var n,r,i,o,a;return null==e&&(e=""),null==t&&(t={}),o=null==(i=null!=t?t.map:void 0)||i,a={homeProjectsList:[{id:"all",title:app.tl("All my projects"),description:app.tl("This option will show all projects you are a member of."),parameters:{}},{id:"recent",title:app.tl("Projects I've worked on recently"),description:app.tl("This option will show projects you have worked on within the last [_s] days.",30),parameters:{workedOnDateCustomInterval:30,workedOnDateCode:"withinprev"}},{id:"starred",title:app.tl("My starred projects"),description:app.tl("This option will show only projects you have starred."),parameters:{onlyStarredProjects:!0}},{id:"mine",title:app.tl("Projects I own"),description:app.tl("This option will show all projects where you are the project owner."),parameters:{projectOwnerIds:[app.loggedInUser.id()]}}],projectsList:[{id:"all",title:app.tl("All my projects"),description:app.tl("This option will show all projects you are a member of."),parameters:{}},{id:"starred",title:app.tl("My starred projects"),description:app.tl("This option will show only projects you have starred."),parameters:{onlyStarredProjects:!0}},{id:"mine",title:app.tl("Projects I own"),description:app.tl("This option will show all projects where you are the project owner."),parameters:{projectOwnerIds:[app.loggedInUser.id()]}}],personProjectsList:[{id:"all",title:app.tl("All my projects"),description:app.tl("This option will show all projects you are a member of."),parameters:{}},{id:"starred",title:app.tl("My starred projects"),description:app.tl("This option will show only projects you have starred."),parameters:{onlyStarredProjects:!0}},{id:"mine",title:app.tl("Projects I own"),description:app.tl("This option will show all projects where you are the project owner."),parameters:{projectOwnerIds:[app.loggedInUser.id()]}}],companyProjectsList:[{id:"all",title:app.tl("All my projects"),description:app.tl("This option will show all projects you are a member of."),parameters:{}},{id:"starred",title:app.tl("My starred projects"),description:app.tl("This option will show only projects you have starred."),parameters:{onlyStarredProjects:!0}},{id:"mine",title:app.tl("Projects I own"),description:app.tl("This option will show all projects where you are the project owner."),parameters:{projectOwnerIds:[app.loggedInUser.id()]}}]},a[e]?(n=a[e],o&&(r={ignore:["parameters"]},n=ko.unwrap(ko.mapping.fromJS(n,r))),n):[]},t}()}.apply(t,r))&&(e.exports=i)},4441:function(e,t,n){(function(n){var r,i;r=[],void 0!==(i=function(){return new(function(){function e(){this.subscriptions=[],this.fsbug=!1}return e.prototype.initFullstory=function(){var e,t;if(!app.isMSIE11&&!window.devMode&&null==app.loggedInUser.twAdminUserId&&null==app.loggedInUser.impersonating&&!app.account.installationIsTestAccount()){t="try { window['_fs_debug'] = "+this.fsbug+"; window['_fs_host'] = 'fullstory.com'; window['_fs_org'] = 'EERMZ'; window['_fs_namespace'] = 'FS'; (function(m,n,e,t,l,o,g,y){ if (e in m) { if (m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window[\"_fs_namespace\"].'); } return; } g = m[e] = function (a, b) { g.q ? g.q.push([a, b]) : g._api(a, b); }; g.q = []; o = n.createElement(t); o.async = 1; o.src = 'https://' + _fs_host + '/s/fs.js'; y = n.getElementsByTagName(t)[0]; y.parentNode.insertBefore(o, y); g.identify = function (i, v) { g(l, { uid: i }); if (v) g(l, v) }; g.setUserVars = function (v) { g(l, v) }; g.event = function (i, v) { g('event', { n: i, p: v }) }; g.shutdown = function () { g('rec', !1) }; g.restart = function () { g('rec', !0) }; g.consent = function (a) { g('consent', !arguments.length || a) }; g.identifyAccount = function (i, v) { o = 'account'; v = v || {}; v.acctId = i; g(o, v) }; g.clearUserCookie = function () { }; })(window, document, window['_fs_namespace'], 'script', 'user'); FS.shutdown(); FS.identify('"+app.utility.SafeHTML(app.loggedInUser.id())+"', { siteOwner: '"+app.utility.SafeHTML(app.loggedInUser.siteOwner())+"', companyName: '"+app.utility.SafeHTML(app.loggedInUser.companyName())+"', Industry: '"+app.utility.SafeHTML(app.account.industryCategoryName())+"', product: 'Projects' }); app.FullstoryHelper.afterInit(); } catch(e) { console.error(e) }";try{return n("body").append("<script>"+t+"<\/script>")}catch(t){return e=t,console.error("Erroring initialising Fullstory",e)}}},e.prototype.afterInit=function(){return this.isAlwaysOn()?this.fullstoryStart():(this.checkRoute(),this.subscriptions.push(app.currentRoute.subscribe(function(e){return function(){return e.checkRoute()}}(this))))},e.prototype.isAlwaysOn=function(){var e,t;return e=new Date-Date.parse(app.account.createdAt()),t=3888e6,e<t},e.prototype.isPageTracked=function(){return app.currentRoute().fullstoryEnabled},e.prototype.checkRoute=function(){return this.isPageTracked()?this.fullstoryStart():this.fullstoryStop()},e.prototype.fullstoryStart=function(){if("undefined"!=typeof FS&&null!==FS&&null==("function"==typeof FS.getCurrentSession?FS.getCurrentSession():void 0))return FS.restart()},e.prototype.fullstoryStop=function(){if(null!=("undefined"!=typeof FS&&null!==FS&&"function"==typeof FS.getCurrentSession?FS.getCurrentSession():void 0))return FS.shutdown()},e}())}.apply(t,r))&&(e.exports=i)}).call(t,n(245))},4442:function(e,t,n){(function(r,i){var o,a,s=function(e,t){return function(){return e.apply(t,arguments)}};o=[n(164)],void 0!==(a=function(e){return function(){function t(){this.extendURL=s(this.extendURL,this),this.safeHTML=s(this.safeHTML,this),this.hashCode=s(this.hashCode,this),this.KeyPressHandler=s(this.KeyPressHandler,this),this.OnWinResize=s(this.OnWinResize,this),this.attachDragEvent=s(this.attachDragEvent,this),this.opacityAnimator=s(this.opacityAnimator,this),this.init=s(this.init,this),this.OnLoadContent=s(this.OnLoadContent,this),this.local_onContentLoaded=s(this.local_onContentLoaded,this),this.OnShow=s(this.OnShow,this),this.local_afterFinishShowEffect=s(this.local_afterFinishShowEffect,this),this.dropIn=s(this.dropIn,this),this.center=s(this.center,this),this.getPageDimensions=s(this.getPageDimensions,this),this.clearStashedAwayDivs=s(this.clearStashedAwayDivs,this),this.local_afterCloseEffect=s(this.local_afterCloseEffect,this),this.local_hideBox=s(this.local_hideBox,this),this.isOpen=s(this.isOpen,this),this.setConfirmOnClose=s(this.setConfirmOnClose,this),this.cancel=s(this.cancel,this),this.closeAll=s(this.closeAll,this),this.close=s(this.close,this),this.local_showBox=s(this.local_showBox,this),this.local_showOverlay=s(this.local_showOverlay,this),this.setLightboxDimensions=s(this.setLightboxDimensions,this),this.reload=s(this.reload,this),this.showBoxByAJAX=s(this.showBoxByAJAX,this),this.showBoxByID=s(this.showBoxByID,this),this.getCurrentZIndex=s(this.getCurrentZIndex,this),this.getCurrentOverlayName=s(this.getCurrentOverlayName,this),this.getCurrentBoxContentsName=s(this.getCurrentBoxContentsName,this),this.getCurrentBoxWrapName=s(this.getCurrentBoxWrapName,this),this.getCurrentBoxName=s(this.getCurrentBoxName,this),this.popStack=s(this.popStack,this),this.pushStack=s(this.pushStack,this),this.reset=s(this.reset,this),this.subscriptions=[],this.lightboxType=null,this.local_lightboxCurrentContentID=null,this.local_lightboxPreviousContainerElm=null,this.stack=[],this.local_boxCounter=0,this.useEffects=!0,this.contentLoaded=!0,this.cssClass=null,this.containerCustomClass=null,this.lightboxDraggable=!0,this.lightboxDraggableClass="u-modal--dragable",this.previousEffect=null,this.modalIds=[],this.subscriptions.push(e.postbox.subscribe("allTWEvents",function(e){return function(t){if((null!=t?t.actionType:void 0)===app.consts.ACTIONTYPE.UPDATED&&"lightbox"===t.itemType&&"resizeLightbox"===t.subType)return e.OnWinResize()}}(this))),this.setupTabCatcher()}return t.prototype.isIE910=-1!==navigator.userAgent.indexOf("MSIE")&&(-1!==navigator.userAgent.indexOf("MSIE 9")||-1!==navigator.userAgent.indexOf("MSIE 10")),t.prototype.isCrapBrowser=-1!==navigator.userAgent.indexOf("MSIE")&&-1===navigator.userAgent.indexOf("MSIE 9")&&-1===navigator.userAgent.indexOf("MSIE 10"),t.prototype.reset=function(){for(;this.isOpen();)this.onBeforeCloseCallback=null,this.onCloseCallBack=null,this.onShowCallBack=null,this.cancel({useEffects:!1});return!0},t.prototype.pushStack=function(e){var t,n,i;return i={stack:!1},r.extend(i,e),!i.stack&&this.isOpen()&&this.close({useEffects:!1,local_calledByPushStack:!0}),t=r("#"+this.getCurrentBoxName()),t.length&&(n={lightboxType:this.lightboxType,local_lightboxCurrentContentID:this.local_lightboxCurrentContentID,local_lightboxPreviousContainerElm:this.local_lightboxPreviousContainerElm,width:parseInt(t.width(),10),height:parseInt(t.height(),10)},"id"!==this.lightboxType&&(n.HTML=r("#"+this.getCurrentBoxContentsName())[0].html()),null!=this.onBeforeCloseCallback&&(n.onBeforeCloseCallback=this.onBeforeCloseCallback),null!=this.onCloseCallBack&&(n.onCloseCallBack=this.onCloseCallBack),null!=this.onShowCallBack&&(n.onShowCallBack=this.onShowCallBack),null!=this.local_bConfirmOnClose&&(n.local_bConfirmOnClose=this.local_bConfirmOnClose),null!=this.cssClass&&(n.cssClass=this.cssClass),null!=this.keyUpHandler&&(n.keyUpHandler=this.keyUpHandler),null!=this.clickOverlayToClose&&(n.clickOverlayToClose=this.clickOverlayToClose),null!=this.bodyScroll&&(n.bodyScroll=this.bodyScroll),null!=this.args&&(n.args=this.args),null!=this.href&&(n.href=this.href),app.quickView.isOpen()||this.bodyScroll||r("body").toggleClass("modal-open",!this.bodyScroll),n.local_uniqueRefNo=this.local_currUniqueRefNo,this.stack[this.stack.length]=n),this.local_boxCounter++,this.local_currUniqueRefNo=this.local_boxCounter},t.prototype.popStack=function(e){var t,n;return null!=this.stack&&this.stack.length?(n=this.stack.pop(),t=!1,this.lightboxType=n.lightboxType,this.local_lightboxCurrentContentID=n.local_lightboxCurrentContentID,this.local_lightboxPreviousContainerElm=n.local_lightboxPreviousContainerElm,this.setLightboxDimensions(n.width,n.height),this.href=null!=n.href?n.href:void 0,this.onBeforeCloseCallback=null!=n.onBeforeCloseCallback?n.onBeforeCloseCallback:null,this.onCloseCallBack=null!=n.onCloseCallBack?n.onCloseCallBack:null,this.onShowCallBack=null!=n.onShowCallBack?n.onShowCallBack:null,this.local_bConfirmOnClose=null!=n.local_bConfirmOnClose?n.local_bConfirmOnClose:null,this.cssClass=null!=n.cssClass?n.cssClass:null,this.keyUpHandler=null!=n.keyUpHandler?n.keyUpHandler:void 0,this.clickOverlayToClose=null!=n.clickOverlayToClose&&n.clickOverlayToClose,this.bodyScroll=null==n.bodyScroll||n.bodyScroll,null!=n.args&&(this.args=n.args),app.quickView.isOpen()||r("body").toggleClass("modal-open",!this.bodyScroll),this.local_currUniqueRefNo=n.local_uniqueRefNo,this.init(t)):void(app.quickView.isOpen()||r("body").toggleClass("modal-open",!1))},t.prototype.getCurrentBoxName=function(){return"box"+this.local_currUniqueRefNo},t.prototype.getCurrentBoxWrapName=function(){return"modal-wrap-"+this.getCurrentBoxName()},t.prototype.getCurrentBoxContentsName=function(){return"boxContents"+this.local_currUniqueRefNo},t.prototype.getCurrentOverlayName=function(){return"overlay"+this.local_currUniqueRefNo},t.prototype.getCurrentZIndex=function(){return(app.quickView.isOpen()?i(".quick--view:last-child").css("z-index"):app.consts.ZINDICES.LIGHTBOX)+10*this.stack.length},t.prototype.showBoxByID=function(e,t,n,o,a){var s,l,p;return this.isRunningShowEffect||this.isRunningCloseEffect?(setTimeout(function(r){return function(){return r.showBoxByID(e,t,n,o,a)}}(this),250),!1):(app.utility.CleanupLightboxTimeout(),a=a||{},this.pushStack(a),this.onShowCallBack=null!=a.onShowCallBack?a.onShowCallBack:null,this.onBeforeCloseCallback=null!=a.onBeforeCloseCallback?a.onBeforeCloseCallback:null,this.onCloseCallBack=null!=a.onCloseCallBack?a.onCloseCallBack:null,this.cssClass=null!=a.cssClass?a.cssClass:null,this.containerCustomClass=null!=a.containerCustomClass?a.containerCustomClass:null,this.useEffects=null==a.useEffects||a.useEffects,this.bodyPosition=null!=a.bodyPosition?a.bodyPosition:"absolute",this.lightboxDraggable=null==a.lightboxDraggable||a.lightboxDraggable,this.bodyScroll=null==a.bodyScroll||a.bodyScroll,app.quickView.isOpen()||this.bodyScroll||r("body").toggleClass("modal-open",!this.bodyScroll),this.clickOverlayToClose=null!=a.clickOverlayToClose&&a.clickOverlayToClose,this.init(o),this.lightboxType="id",this.local_lightboxCurrentContentID=e,this.local_lightboxPreviousContainerElm=r("#"+e).parent()[0],-1===t&&(s=i("body"),t=s.width(),n=s.height(),this.local_dynamicContentSize=!0,a.onWinResize&&(this.onWinResize=a.onWinResize)),this.setLightboxDimensions(t,n,!0),null==(p=r("#"+e)[0])?(alert("Element gone"),!1):(l=r("#"+this.getCurrentBoxContentsName())[0],null!=a.onBeforeCloseCallback&&(this.onBeforeCloseCallback=a.onBeforeCloseCallback),null!=a.onCloseCallBack&&(this.onCloseCallBack=a.onCloseCallBack),null!=a.onShowCallBack&&(this.onShowCallBack=a.onShowCallBack),l.innerHTML="",l.appendChild(p),r("#"+e).show(),this.local_showBox(),!1))},t.prototype.showBoxByAJAX=function(e,t,n,o,a,s){var l,p,u,d;return this.isRunningShowEffect||this.isRunningCloseEffect?(setTimeout(function(r){return function(){return r.showBoxByID(e,t,n,o,a,s)}}(this),250),!1):!(this.isRunningShowEffect||!this.contentLoaded)&&(s=s||{},this.pushStack(s),this.args=arguments,this.href=s.href=e,this.onShowCallBack=null!=s.onShowCallBack?s.onShowCallBack:null,this.onBeforeCloseCallback=null!=s.onBeforeCloseCallback?s.onBeforeCloseCallback:null,this.onCloseCallBack=null!=s.onCloseCallBack?s.onCloseCallBack:null,this.cssClass=null!=s.cssClass?s.cssClass:null,this.useEffects=null==s.useEffects||s.useEffects,this.keyUpHandler=null!=s.keyUpHandler?s.keyUpHandler:void 0,this.clickOverlayToClose=null!=s.clickOverlayToClose&&s.clickOverlayToClose,this.bodyScroll=null==s.bodyScroll||s.bodyScroll,app.quickView.isOpen()||this.bodyScroll||r("body").toggleClass("modal-open",!this.bodyScroll),this.init(o),this.lightboxType="ajax",s.onInit&&s.onInit(),0===t?(p=i("body"),t=p.width()-20,n=p.height()-20,this.local_dynamicContentSize=!0,s.onWinResize&&(this.onWinResize=s.onWinResize)):this.local_dynamicContentSize=!1,this.setLightboxDimensions(t,n),u=r("#"+this.getCurrentBoxContentsName())[0],this.contentLoaded=!1,d={method:"get",evalScripts:!0,requestHeaders:{isLB:1}},this.local_showOverlay(),l=function(e){return function(){return function(){if(e.local_showBox(),a&&(Ajax.activeRequestCount--,showProcessing(),a(),s.contentLoadedCallback))return s.contentLoadedCallback()}}}(this),d.onComplete=l,u.innerHTML="",!1,new Ajax.Updater(u,e,d),!1)},t.prototype.reload=function(){var e,t,n;return!this.isOpen()&&(this.cancel({useEffects:!1,confirmCancel:!1}),e=this.args,t=e[5]||{},t.useEffects=!1,n=e[0],(Prototype.Browser.IE||window.MSStream)&&(n=this.extendURL(n,"xyz="+Date.now())),this.showBoxByAJAX(n,e[1],e[2],e[3],e[4],t),!0)},t.prototype.setLightboxDimensions=function(e,t){e=e?e+"px":"",t=t?t+"px":"";try{r("#"+this.getCurrentBoxName())[0].style.width=e}catch(e){e}try{return r("#"+this.getCurrentBoxName())[0].style.height=t}catch(e){e}},t.prototype.local_showOverlay=function(){if(!r("#"+this.getCurrentOverlayName()).is(":visible"))return this.isCrapBrowser||!this.useEffects||null!==this.stack&&0!==this.stack.length?r("#"+this.getCurrentOverlayName()).show():r("#"+this.getCurrentOverlayName()).fadeIn(150)},t.prototype.local_showBox=function(){return this.local_showOverlay(),this.dropIn(this.getCurrentBoxName()),this.modalIds.push(this.getCurrentBoxName()),window.app&&window.app.placeholder&&app.placeholder.fix(r("#"+this.getCurrentBoxName())[0]),setTimeout(function(e){return function(){if(e.attachDragEvent(e.getCurrentBoxName()),e.clickOverlayToClose&&r("#"+e.getCurrentOverlayName()).click(function(){if(!e.isRunningShowEffect)return e.cancel()}),"undefined"!=typeof Tipped)return Tipped.hideAll()}}(this),500),!1},t.prototype.close=function(e){var t;if(void 0!==(t=this.getCurrentBoxName()))try{app.utility.IgnoreFormChanges("#"+t)}catch(e){e}return e=e||{},e.wasCancelled=!1,this.local_hideBox(e)},t.prototype.closeAll=function(e){var t,n,i;for(n=this.modalIds.length,i=[];n--;)e=e||{},t=this.modalIds[n],void 0===e.leaveOpen||""===e.leaveOpen||r("#"+e.leaveOpen).closest(".lbox").attr("id")!==t?i.push(this.close({boxId:t})):i.push(void 0);return i},t.prototype.cancel=function(e){var t,n,i,o;return e=e||{},o=this,n=this.getCurrentBoxName(),t=function(t){return function(t){if(t)return e.wasCancelled=!0,e.boxId=n,o.local_hideBox(e)}}(),!1===e.confirmCancel&&t(!0),i=r("#"+this.getCurrentBoxName()).find("form:visible"),i.length&&null!=i.confirmCancel?i.confirmCancel({callback:t}):t(!0)},t.prototype.setConfirmOnClose=function(e){return this.local_bConfirmOnClose=e},t.prototype.isOpen=function(){return r("#"+this.getCurrentBoxName()).length},t.prototype.local_hideBox=function(e){var t,n,i,o,a,s,l;if("object"==typeof(e=e||{})){if(s=this.getCurrentBoxName(),l=this.getCurrentOverlayName(),void 0!==e.boxId&&(s=e.boxId,l="overlay"+s.replace(/box/gi,"")),window.closeActiveDatePicker&&window.closeActiveDatePicker(),window.closeTextboxOptionPicker&&window.closeTextboxOptionPicker(),null===e.wasCancelled&&(e.wasCancelled=!1),this.isOpen()&&(!this.local_bConfirmOnClose||confirm("Are you certain you want to close this form?"))){if(o=!0,null!=(a=this.onBeforeCloseCallback))try{a(e)||(o=!1)}catch(e){}if(o)return this.onBeforeCloseCallback=null,null!=e.useEffects&&!e.useEffects||this.isCrapBrowser||!this.useEffects?this.local_afterCloseEffect(e):(t={opacity:0},n=function(t){return function(){return t.local_afterCloseEffect(e)}}(this),e.wasCancelled?t["margin-top"]="-200px":t["margin-left"]="150px",r("#"+s).length&&r("#"+s).animate(t,100,"swing",n),r("#"+l).length&&r("#"+l).fadeOut(100)),i=this.modalIds.indexOf(s),i>-1&&this.modalIds.splice(i,1),!1}}else if(window.devMode)throw new Error("local_hideBox `opts` param must be an object")},t.prototype.local_afterCloseEffect=function(t){var n,i,o,a,s;if(!0,s=this.onCloseCallBack,null!=s&&s(t),this.onCloseCallBack=null,this.isRunningCloseEffect=!1,"id"===this.lightboxType){if(i=r("#"+this.local_lightboxCurrentContentID),i.attr("data-bind"))e.cleanNode(i[0]),i.remove();else if(this.local_lightboxPreviousContainerElm){try{r("#"+this.local_lightboxCurrentContentID)[0].style.display="none"}catch(e){e}try{this.local_lightboxPreviousContainerElm.appendChild(r("#"+this.local_lightboxCurrentContentID)[0])}catch(e){e}}this.local_lightboxCurrentContentID=null}return o=this.getCurrentBoxName(),o&&r("#"+o).length&&(this.clearStashedAwayDivs(),r("#"+o).remove()),a=this.getCurrentOverlayName(),a&&r("#"+a).remove(),n=this.getCurrentBoxWrapName(),n&&r("#"+n).remove(),this.popStack(t)},t.prototype.clearStashedAwayDivs=function(){var e,t;if(void 0!==this.stashedAwayDivs&&lightboxType.stashedAwayDivs.length){for(e=[];this.stashedAwayDivs.length;)t=this.stashedAwayDivs.pop(),e.push(r("#"+t).remove());return e}},t.prototype.getPageDimensions=function(){var e,t,n,r,i,o;return window.innerHeight&&window.scrollMaxY?(i=document.body.scrollWidth,o=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(i=document.body.scrollWidth,o=document.body.scrollHeight):(i=document.body.offsetWidth,o=document.body.offsetHeight),self.innerHeight?(r=self.innerWidth,n=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(r=document.documentElement.clientWidth,n=document.documentElement.clientHeight):document.body&&(r=document.body.clientWidth,n=document.body.clientHeight),e=o<n?n:o,t=i<r?r:i,new Array(r,n,t,e)},t.prototype.center=function(e){var t,n,i,o,a,s,l,p,u,d;null==e&&(e=this.getCurrentBoxName());try{e=document.getElementById(e)}catch(e){return void e}if(p=this.getPageDimensions(),d=p[0],u=p[1],o=this.getCurrentOverlayName(),void 0!==(i=r("#"+o)[0]))return i.style.height=p[3]+"px",i.style.zIndex=this.getCurrentZIndex(),e.style.position=this.bodyPosition,e.style.zIndex=this.getCurrentZIndex()+1,a=0,"fixed"===this.bodyPosition||(document.documentElement&&document.documentElement.scrollTop?a=document.documentElement.scrollTop:document.body&&document.body.scrollTop?a=document.body.scrollTop:window.pageYOffset?a=window.pageYOffset:window.scrollY&&(a=window.scrollY)),n=r(e),t={width:n.width(),height:n.height()},s=(d-t.width)/2-20,l=0,t.height&&(l=(u-t.height)/2+a),s=s<0?0:s,l=l<0?0:l,e.style.left=s+"px",e.style.top=l+"px",n.show(),this.local_onContentLoaded()},t.prototype.dropIn=function(e){var t,n,i,o,a,s,l,p;null==e&&(e=this.getCurrentBoxName());try{e=document.getElementById(e)}catch(e){return void e}return s=this.getPageDimensions(),p=s[0],l=s[1],r("#"+this.getCurrentOverlayName())[0].style.height=s[3]+"px",r("#"+this.getCurrentOverlayName())[0].style.zIndex=this.getCurrentZIndex(),e.style.position=this.bodyPosition,e.style.zIndex=this.getCurrentZIndex()+1,i=0,"fixed"===this.bodyPosition||(document.documentElement&&document.documentElement.scrollTop?i=document.documentElement.scrollTop:document.body&&document.body.scrollTop?i=document.body.scrollTop:window.pageYOffset?i=window.pageYOffset:window.scrollY&&(i=window.scrollY)),n=r(e),t={width:n.width(),height:n.height()},o=(p-t.width)/2-20,a=0,t.height&&(a=(l-t.height)/2+i),o=o<0?0:o,a=a<0?0:a,e.style.left=o+"px",this.isCrapBrowser||!this.useEffects?(e.style.top=a+"px",n.show(),this.local_onContentLoaded(),this.local_afterFinishShowEffect()):this.isIE910?(e.style.top=-1*t.height+"px",n.show(),this.local_onContentLoaded(),this.isRunningShowEffect=!0,n.css({top:a,left:o,position:"absolute"})):(e.style.top=a+"px",e.style.opacity=0,e.style.marginTop="-200px",n.show(),this.local_onContentLoaded(),this.isRunningShowEffect=!0,n.animate({"margin-top":0,opacity:1},250,"swing",this.local_afterFinishShowEffect.bind(this)))},t.prototype.local_afterFinishShowEffect=function(e){if(this.isRunningShowEffect=!1,this.onShowCallBack)return this.onShowCallBack(),this.onShowCallBack=null},t.prototype.OnShow=function(e){return this.isRunningShowEffect?this.onShowCallBack=e:e()},t.prototype.local_onContentLoaded=function(e){if(this.contentLoaded=!0,this.local_onFinishedLoadContentExternFn)return this.local_onFinishedLoadContentExternFn(),this.local_onFinishedLoadContentExternFn=null},t.prototype.OnLoadContent=function(e){return this.contentLoaded?e():this.local_onFinishedLoadContentExternFn=e},t.prototype.init=function(e){var t;if(null==e&&(e=!0),!r("#"+this.getCurrentBoxName()).length)return t='<div id="'+this.getCurrentBoxWrapName()+'" tabindex="0" class="lbox-wrapper '+(null!=this.containerCustomClass?this.containerCustomClass:"")+" "+(!1===this.lightboxDraggable?"modal-non-draggable":this.lightboxDraggableClass)+'">\n    <div id="'+this.getCurrentOverlayName()+'" class="overlay '+(null!=this.cssClass?this.cssClass:"")+'" style="display:none;"></div>\n    <div id="'+this.getCurrentBoxName()+'" class="lbox '+(null!=this.cssClass?this.cssClass:"")+'" style="display:none;">\n        '+(e?'<a href="javascript:;" class="w-modal-close" onclick="Lightbox.cancel();"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" class="u-modal__close-icon"><path fill="currentColor" d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg></a>':"")+'\n        <div id="'+this.getCurrentBoxContentsName()+'" class="lboxContents modal"></div>\n    </div>\n    <div class="modal-tab-catcher" tabindex="0"></div>\n</div>',r("body").append(t)},t.prototype.opacityAnimator=function(e,t){var n,i,o,a,s,l,p,u;if(this.opacityAnimator.isObjectLiteral||(this.opacityAnimator.isObjectLiteral=function(e){return function(e){return"[object Object]"===Object.prototype.toString.call(e)}}()),!this.opacityAnimator.isObjectLiteral(t)||!this.opacityAnimator.isObjectLiteral(t.from)||!this.opacityAnimator.isObjectLiteral(t.to))throw new Error('animator second parameter should be an object literal containing "from" and "to" obect literals');return s=r.extend({opacity:1,duration:50},t.from),p=r.extend({opacity:.5,duration:300},t.to),1,n=!1,o=0,u=function(e){return function(e,t,n){return o=t}}(),i=function(e){return function(){return n=!1,o=0}}(),a=function(t){return function(){return n=!0,setTimeout(function(){return e.animate({opacity:p.opacity,progress:u,always:i},p.duration)},0)}}(),l=function(t){return function(){return n=!0,e.stop({clearQueue:!0}),setTimeout(function(){return e.animate({opacity:s.opacity,always:i},s.duration)},0)}}(),{start:function(e){return function(){if(!n&&o<1)return a()}}(),stop:l}},t.prototype.attachDragEvent=function(e){return r("#"+e+" .modal-header, #"+e+" .u-modal__header").on("mousedown.lb",function(t){return function(n){var i,o,a,s,l,p;if(app.ko.postbox.publish("modal-dragging-close-select2",!0),s=null,o=r(document),i=r("body"),a=r("#"+e),!t.dragOffsetX)return l=a.position(),t.dragOffsetX=n.pageX-l.left,t.dragOffsetY=n.pageY-l.top,!t.isCrapBrowser&&t.useEffects&&(s=t.opacityAnimator(a,{from:{opacity:1},to:{opacity:.7}})),r("body").on("mousemove.lb",function(e){var n,r;return n=e.pageX-t.dragOffsetX,n=Math.min(o.width()-a.width(),n),n=Math.max(0,n),r=e.pageY-t.dragOffsetY,r=Math.min(o.height()-a.height(),r),r=Math.max(0,r),s&&s.start(),a.css({left:n+"px",top:r+"px"})}),p=function(e){if(i.off("mousemove.lb"),i.off("mouseup.lb"),o.off("mouseout.lb"),t.dragOffsetX=void 0,s)return s.stop()},i.on("mouseup.lb",p),o.on("mouseout.lb",function(e){if(null==e.relatedTarget)return p}),!1}}(this))},t.prototype.OnWinResize=function(){var e,t;if(this.isOpen()&&(!window.app||!app.isMobile))return this.local_dynamicContentSize&&(t=i("body").width(),e=i("body").height()-20,this.setLightboxDimensions(t,e)),this.onWinResize&&this.onWinResize(),this.center()},t.prototype.KeyPressHandler=function(e){if(!this.isOpen())return!0;if(27===e.keyCode)return this.cancel(),!1;if(void 0!==this.keyUpHandler)try{return this.keyUpHandler(e)}catch(e){e}},t.prototype.hashCode=function(e){var t,n,r;if(n=0,r=0,!e.length)return n;for(;r<e.length;)t=e.charCodeAt(r),n=(n<<5)-n+t,n&=n,r++;return Math.abs(n)},t.prototype.safeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.prototype.extendURL=function(e,t){var n;return e+=-1===e.indexOf("?")?"?":"&","string"==typeof t?e+=t:"object"==typeof t&&(n=r.param(t),e+=n),e},t.prototype.setupTabCatcher=function(){var e,t,n,i;if(window.app&&!app.hasBoundLightboxTabHandler)return app.hasBoundLightboxTabHandler=!0,n=function(){var e;return e=function(e){return function(e){if(9===e.keyCode)return i(e)}}(),r(document).on("keydown",e)},i=function(t){var n,i;if(i=r(t.target),i.hasClass("modal-tab-catcher")&&(i.parent(),n=e(i.parent()),n.length))return t.preventDefault(),t.stopPropagation(),n.focus()},e=function(e){return r(t(e)[0])},t=function(e){return e.find(["button","input","label[for]","select","textarea"].map(function(e){return e+":not([disabled])"}).concat(["[tabindex]","[contenteditable]","a","audio[controls]","embed","iframe","object","video[controls]"]).map(function(e){return e+":not([tabindex='-1'])"}).join(",")).filter(function(e,t){var n;return n=r(t),!!n.is("[visible]")||n.is(":not([hidden]):not([hidden] *)")})},n()},t}()}.apply(t,o))&&(e.exports=a)}).call(t,n(245),n(245))},4443:function(e,t,n){var r,i,o=function(e,t){return function(){return e.apply(t,arguments)}};r=[n(164)],void 0!==(i=function(e){return function(){function t(){this.toggleSidebarClass=o(this.toggleSidebarClass,this),this.pubbleAppId=38592,this.sidebarOpenClass="pubble-sidebar-offset",this.isSideBarVisible=e.pureComputed(function(e){return function(){return app.loggedInUser.preferences.filterSidebarVisible()&&app.currentRoute().hasFilter&&""!==app.currentFiltersComponent()&&""!==app.savedFiltersKey()}}()),this.isEmbeddedChatVisible=e.pureComputed(function(e){return function(){return app.isEmbeddedChatConversationListVisible()||app.isEmbeddedChatConversationVisible()}}()),this.isEmbeddedChatVisible.subscribe(function(e){return function(t){return e.togglePubbleVisibility(!t)}}(this))}return t.prototype.init=function(){var e,t,n,r;if(null==window.pubbleLoader&&("function"==typeof(e=app.account).isLiveChatEnabled?e.isLiveChatEnabled():void 0))try{n=document.createElement("div"),n.setAttribute("data-app-id",this.pubbleAppId),n.setAttribute("data-app-identifier",this.pubbleAppId),n.setAttribute("data-user-name",app.loggedInUser.fullName()),n.setAttribute("data-user-email",app.loggedInUser.emailAddress()),n.setAttribute("pubble-data-refreshurl",!0),this.isSideBarVisible()&&n.setAttribute("pubble-data-customcls",this.sidebarOpenClass),n.classList.add("pubble-app"),r=document.createElement("script"),r.type="text/javascript",r.src="https://cdn.chatify.com/javascript/loader.js",document.body.appendChild(n),document.body.appendChild(r),app.NextTick(function(){var e,t;if(null!=(t=document.getElementById("scrollUp"))&&t.classList.add("hidden"),e=document.querySelector(".app-footer__powered-by"))return e.classList.add("app-footer__powered-by--slide-left")}),this.isSideBarVisible.subscribe(this.toggleSidebarClass)}catch(e){t=e,console.error(t)}},t.prototype.toggleSidebarClass=function(){var e;if(null!=(e=document.getElementsByClassName("pubble-app")[0]))return this.isSideBarVisible()?e.classList.add(this.sidebarOpenClass):e.classList.remove(this.sidebarOpenClass)},t.prototype.togglePubbleVisibility=function(e){var t;if(document.querySelector("#pb_sidebar"))return t=e?"block":"none",document.querySelector("#pb_sidebar").style.display=t,document.querySelector(".pubble-cw-panel").style.display=t},t}()}.apply(t,r))&&(e.exports=i)},4444:function(e,t,n){(function(r){var i,o;i=[n(164),n(1186)],void 0!==(o=function(e,t){var n,i,o;return o={confirm:"confirm-modal",trialInviteUsers:"trial-invite-users-modal"},n=function(t){this.app=t,this.app.modals=e.observableArray(),this.app.modals.subscribe(function(e){return function(e){return t.bodyDroppable(!(e.length>0))}}())},n.prototype.Show=function(n,a,s){var l;if(null==a&&(a={}),!(null!=n?n.length:void 0))throw new Error("Modal name must be provided");return Object.keys(o).includes(n)?(t.hideAll(),void app.hybrid.store.dispatch("modals/open",{name:o[n],props:e.toJS(a)})):(r("body").addClass("--overlay-open"),null==a.useLightbox&&(a.useLightbox=!0),null!=a.useBootstrap&&(a.useLightbox=!1),("function"==typeof app.onboardingModalVisible?app.onboardingModalVisible():void 0)?void console.info("onboarding is showing"):app.utility.FindIndexByKeyValue(app.modals(),"name",n)>-1?void console.log("error - modal already there"):(!1,null!=this.app.modalLoadingTimeout&&clearTimeout(this.app.modalLoadingTimeout),a.modalId=this.app.modals().length+1,l=new i(n,a,s),this.app.modals.push(l),this.app.ko.postbox.publish("modal-show",{name:n}),void(this.app.modalLoadingTimeout=setTimeout(function(e){return function(){return r("body").addClass("lightboxLoading"),r("div#modal-lightbox-slow").css("display","flex"),e.app.modalLoadingFailSafeTimeout=setTimeout(function(){return r("body").removeClass("lightboxLoading"),r("div#modal-lightbox-slow").css("display","none")},3e4)}}(this),2e3))))},n.prototype.OnClose=function(e){r("body").removeClass("--overlay-open"),this.app.modals.remove(e)},i=function(e,t,n){return this.name=e,this.parentVM=n,this.args=t,this},n}.apply(t,i))&&(e.exports=o)}).call(t,n(245))},4445:function(module,exports,__webpack_require__){(function($,jQuery){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,bind=function(e,t){return function(){return e.apply(t,arguments)}},indexOf=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(164),__webpack_require__(14),__webpack_require__(245),__webpack_require__(413)],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(ko,moment,jquery,io){var Notifications;return Notifications=function(){function Notifications(e){null==e&&(e={}),this.isLastListeningSocket=bind(this.isLastListeningSocket,this),this.UnregisterListeningSocket=bind(this.UnregisterListeningSocket,this),this.RegisterListeningSocket=bind(this.RegisterListeningSocket,this),this.HandleDesktopNotification=bind(this.HandleDesktopNotification,this),this.SetUpNotificationHandlers=bind(this.SetUpNotificationHandlers,this),this.OnClickHandler=bind(this.OnClickHandler,this),this.EventExists=bind(this.EventExists,this),this.DisconnectAndReconnect=bind(this.DisconnectAndReconnect,this),this.Connect=bind(this.Connect,this),this.clientVersion=1.1,this.notifHeight=70,this.eventList=ko.observableArray([]),this.lastEventId=ko.observable(0),this.hasLoaded=ko.observable(!1),this.hasMoreEventsToLoad=ko.observable(!0),this.isConnected=ko.observable(!1),this.connectAttempts=ko.observable(0),this.socket=null,this.socketId=ko.observable(""),this.unreadCount=ko.observable(0),this.isAuthed=!1,this.requestQueue=[],this.headerOffset=110,window.desktopInterop&&this.unreadCount.subscribe(function(e){return function(e){return window.desktopInterop.setNotificationCount(e)}}()),this.appIsVisible=!1,this.nextNotification=ko.observable(null).extend({rateLimit:{method:"notifyWhenChangesStop",timeout:1e3}}),null!=window.Notification&&this.nextNotification.subscribe(this.HandleDesktopNotification),this.isOn=ko.observable(!0),this.isOn.subscribe(function(e){return function(e){if(null!=("undefined"!=typeof app&&null!==app?app.loggedInUser:void 0)&&e!==app.loggedInUser.preferences.webBNotifsOn())return app.loggedInUser.preferences.webBNotifsOn(e)}}()),app.isLoggedIn.subscribe(function(e){return function(t){t&&e.isOn(app.loggedInUser.preferences.webBNotifsOn())}}(this)),this.port=8840,this.isShowing=ko.observable(!1),this.isLoading=ko.observable(!0),this.maxListHeight=ko.observable(window.innerHeight-this.headerOffset),this.loadCount=ko.observable(0),this.server="tw-socket.teamwork.com",this.protocol="wss:",this.visibleNotifications=ko.observableArray([]),null!=window.devMode&&window.devMode&&(this.server=location.hostname,this.protocol="ws:"),this.isShowing.subscribe(function(e){return function(t){return e.loadCount(0),e.eventList([]),t?(e.isOn()&&e.GetEvents(),$(document).on("click",e.OnClickHandler)):$(document).off("click",e.OnClickHandler)}}(this)),this.waitInterval=ko.pureComputed(function(e){return function(){return Math.min(3e3*Math.max(e.connectAttempts()-1,0),6e4)+5e3*Math.random()}}(this)),window.addEventListener("resize",function(e){return function(){return e.headerOffset=110,e.maxListHeight(window.innerHeight-e.headerOffset)}}(this)),app.ko.postbox.subscribe("hide-notifications-popup",function(e){return function(){return e.isShowing(!1)}}(this)),this.SetUpNotificationHandlers()}return Notifications.prototype.Connect=function(){var url;app.isLoggedIn()&&null!=app.loggedInUser&&"embed"!==app.currentRoute().page&&(null!=this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=null),this.auth={authToken:app.loggedInUser.auth.token(),fname:app.loggedInUser.firstName(),timestamp:app.loggedInUser.auth.timestamp(),lname:app.loggedInUser.lastName(),installationId:app.account.id(),userId:app.loggedInUser.id()},this.isConnected()||(this.isLoading(!0),this.isAuthed=!1,this.connectAttempts(this.connectAttempts()+1),this.server=app.consts.SOCKET[app.account.awsRegion()],null!=window.devMode&&window.devMode&&(this.server=location.hostname,this.protocol="ws:"),url=this.protocol+"//"+this.server+":"+this.port+"/",this.socket=io.connect(url,{path:"/socket.io/"+app.account.id(),timeout:5e3,reconnection:!1,reconnectionDelay:500,reconnectionAttempts:100,forceNew:!0,transports:["websocket"]}),this.socket.on("error",function(e){return function(t){return e.DisconnectAndReconnect()}}(this)),this.socket.on("connect_error",function(e){return function(t){return e.DisconnectAndReconnect()}}(this)),this.socket.on("disconnect",function(e){return function(t){return e.DisconnectAndReconnect()}}(this)),this.socket.on("connect",function(e){return function(){var t;return e.isConnected(!0),e.isLoading(!1),e.connectAttempts(0),t={},jQuery.extend(t,e.auth),t.clientVersion=e.clientVersion,e.socket.emit("auth",t)}}(this)),this.socket.on("authResult",function(e){return function(t){var n,r,i;if(t.authenticated&&null!=t.serverVersion){if(e.isAuthed=!0,e.requestQueue.length>0){for(i=e.requestQueue,n=0,r=i.length;n<r;n++)(0,i[n])();e.requestQueue=[]}return null!=t.numUnread&&e.unreadCount(t.numUnread),e.isShowing()&&e.GetEvents(),e.UnregisterListeningSocket(e.socketId()),e.socketId(e.socket.io.engine.id),e.RegisterListeningSocket(e.socketId()),app.loggedInUser.socketId=e.socketId()}}}(this)),this.socket.on("allSavedUserEvents",function(e){return function(t){var n;if(e.isLoading(!1),e.hasLoaded(!0),e.hasMoreEventsToLoad(0!==t.events.length),e.hasMoreEventsToLoad()){for(e.loadCount(e.loadCount()+1),0,n=t.events.length-1;n>=0;)null==t.events[n].lockdownId&&(t.events[n].lockdownId=""),"statusUpdate"===t.events[n].itemType&&(t.events[n].itemLink="people/statuses"),null!=t.events[n].IsPrivate&&(t.events[n].isPrivate=t.events[n].IsPrivate),t.events[n].description=app.utility.HTMLToString(t.events[n].description),t.events[n].notificationsAvatar="/projects/api/v2/people/"+t.events[n].userId+"/avatar",e.EventExists(t.events[n].twimEventId)||e.eventList.push(t.events[n]),n--;return e.lastEventId(t.events[0].twimEventId),1===e.loadCount()||e.eventList().length*e.notifHeight<e.maxListHeight()?e.GetNextEvents():void 0}}}(this)),this.socket.on("markAllRead",function(e){return function(t){return e.unreadCount(0),e.eventList([])}}(this)),this.socket.on("onMarkAnEventRead",function(e){return function(t){var n,r,i,o,a;for(n={},a=e.eventList(),i=0,o=a.length;i<o;i++)r=a[i],parseInt(r.twimEventId,10)===parseInt(t.twimEventId,10)&&(n=r);if(e.eventList.remove(n),e.unreadCount(t.numUnread),e.eventList().length!==e.unreadCount()&&e.eventList().length<30)return e.GetNextEvents()}}(this)),this.socket.on("eventNotice",function(_this){return function(data){var e,extraInfo,extraInfoHasJSONData,mutateRoute,noticeData,objectId,parentTaskId,ref,ref1,ref2,ref3,ref4,ref5;if("[object Array]"===Object.prototype.toString.call(data)&&(data=data[0]),null!=data.eventInfo.eventTime&&(data.eventInfo.eventTime=eval(data.eventInfo.eventTime),data.eventInfo.eventTimeUTC=moment.utc().format(),"task"===data.eventInfo.itemType.toLowerCase()&&(null===data.eventInfo.parentItemId&&null!==data.eventInfo.extraLink&&(data.eventInfo.parentItemId=parseInt(data.eventInfo.extraLink.replace("tasklists/",""),10)),data.eventInfo.parentItemId=parseInt(data.eventInfo.parentItemId,10)),"task_comment"===data.eventInfo.itemType.toLowerCase()&&(extraInfo=data.eventInfo.extraInfo||{},objectId=data.eventInfo.extraLink.replace("tasks/",""),0===objectId.length&&data.eventInfo.itemLink.length&&(objectId=data.eventInfo.itemLink.split("?")[0].replace("tasks/","")),extraInfo.objectType="task",extraInfo.objectId=parseInt(objectId,10),extraInfo.taskListId=parseInt(data.eventInfo.extraInfo.taskListId,10),data.eventInfo.extraInfo=extraInfo)),extraInfoHasJSONData=!1,null!=(null!=(ref=data.eventInfo.extraInfo)?ref.data:void 0)&&_this.IsValidJSON(data.eventInfo.extraInfo.data)&&(data.eventInfo.extraInfo.data=ko.utils.parseJson(data.eventInfo.extraInfo.data),extraInfoHasJSONData=!0),noticeData={eventTime:new Date,itemType:data.eventInfo.itemType.toLowerCase(),actionType:"added"===(ref1=data.eventInfo.actionType)||"new"===ref1?app.consts.ACTIONTYPE.ADDED:"deleted"===data.eventInfo.actionType?app.consts.ACTIONTYPE.DELETED:app.consts.ACTIONTYPE.UPDATED,extraInfo:data.eventInfo.extraInfo,itemId:data.eventInfo.itemId,subType:data.eventInfo.event,userId:data.eventInfo.userId,projectId:data.eventInfo.projectId,parentItemId:data.eventInfo.parentItemId,sendTo:data.eventInfo.sendTo,isPrivate:data.eventInfo.isPrivate,lockdownId:data.eventInfo.lockdownId},"task"===data.eventInfo.itemType.toLowerCase()?(noticeData.taskListId=data.eventInfo.parentItemId,(parentTaskId=parseInt((null!=(ref2=data.eventInfo.extraInfo)?ref2.parentTaskId:void 0)||0))>0&&(noticeData.parentTaskId=parentTaskId)):"task_comment"===data.eventInfo.itemType.toLowerCase()?(noticeData.itemId=data.eventInfo.extraInfo.objectId,noticeData.taskListId=data.eventInfo.extraInfo.taskListId,(parentTaskId=parseInt((null!=(ref3=data.eventInfo.extraInfo)?ref3.parentTaskId:void 0)||0))>0&&(noticeData.parentTaskId=parentTaskId)):"statusupdate"===data.eventInfo.itemType.toLowerCase()&&(data.eventInfo.itemLink="people/statuses"),(extraInfoHasJSONData&&data.eventInfo.extraInfo.data.threadedLoopback||null==data.eventInfo.socketId||null==app.loggedInUser.socketId||data.eventInfo.socketId!==app.loggedInUser.socketId)&&("permissions"===data.eventInfo.event&&(_this.currentProjectId=parseInt(data.eventInfo.itemId,10),null!=app.currentRoute().project&&app.currentRoute().project.id()===_this.currentProjectId&&(mutateRoute=!1,"archived"===data.eventInfo.actionType?(app.currentRoute().project.status("archived"),mutateRoute=!0):"unarchived"===data.eventInfo.actionType&&(app.currentRoute().project.status("active"),mutateRoute=!0),app.UpdateProjectAndPermissions(app.currentRoute().project.id()).then(function(){return mutateRoute&&app.currentRoute.valueHasMutated(),_this.project=app.projectInfo.get(_this.currentProjectId)}))),app.ko.postbox.publish("allTWEvents",noticeData),app.account.realTimeNotifications()&&parseInt(data.eventInfo.userId,10)!==(null!=(ref4=app.loggedInUser)?ref4.id():void 0)&&(null==data.eventInfo.popup||data.eventInfo.popup))){if(null!=data.numUnread?_this.unreadCount(data.numUnread):_this.unreadCount(_this.unreadCount()+1),extraInfoHasJSONData&&_this.nextNotification(data.eventInfo),null==data.eventInfo.lockdownId&&(data.eventInfo.lockdownId=""),null!=data.eventInfo.IsPrivate&&(data.eventInfo.isPrivate=data.eventInfo.IsPrivate),data.eventInfo.notificationsAvatar="/projects/api/v2/people/"+data.eventInfo.userId+"/avatar",("reminder"===(ref5=data.eventInfo.actionType)||"statusrequest"===ref5)&&app.loggedInUser.notifications.soundAlertsEnabled())try{new Audio("./tko/public/assets/mp3/reminder.mp3").play()}catch(t){e=t}return _this.EventExists(data.eventInfo.twimEventId)?void 0:_this.eventList.unshift(data.eventInfo)}}}(this))))},Notifications.prototype.Disconnect=function(){this.UnregisterListeningSocket(this.socketId()),this.socket&&this.socket.disconnect()},Notifications.prototype.DisconnectAndReconnect=function(){return this.isConnected(!1),this.isLoading(!1),this.UnregisterListeningSocket(this.socketId()),setTimeout(function(e){return function(){e.Connect()}}(this),this.waitInterval())},Notifications.prototype.GetEvents=function(){this.isAuthed?(this.isLoading(!0),this.socket.emit("getSavedUserEvents",{})):this.requestQueue.push(function(e){return function(){return e.GetEvents()}}(this))},Notifications.prototype.GetNextEvents=function(){var e;if(this.isAuthed){if(!this.hasMoreEventsToLoad())return;e={},this.isLoading(!0),0!==this.lastEventId()&&(e.beforeTwimEventId=this.lastEventId()),this.socket.emit("getSavedUserEvents",e)}else this.requestQueue.push(function(e){return function(){return e.GetNextEvents()}}(this))},Notifications.prototype.RefreshBellCount=function(){return this.socket.emit("refreshBellCount",{})},Notifications.prototype.MarkAsRead=function(e,t){var n,r;this.isAuthed?(r=".w-notifications__item",n=jQuery(t.currentTarget).parents(r),n.fadeOut("medium",function(t){return function(){return t.eventList.remove(e),t.unreadCount(t.unreadCount()-1),Tipped.hide(".tipped-hide"),Tipped.refresh(),t.eventList().length!==t.unreadCount()&&t.eventList().length<30&&t.GetNextEvents(),t.socket.emit("markAnEventRead",{twimEventId:e.twimEventId})}}(this))):this.requestQueue.push(function(n){return function(){return n.MarkAsRead(e,t)}}(this))},Notifications.prototype.EventExists=function(e){var t,n,r,i;for(e=parseInt(e,10),i=this.eventList(),t=0,n=i.length;t<n;t++)if(r=i[t],null!=r.twimEventId&&r.twimEventId===e)return!0;return!1},Notifications.prototype.MarkAllAsRead=function(){this.isAuthed?(this.socket.emit("markAllRead",{}),this.unreadCount(0),this.eventList([]),Tipped.hide(".tipped-hide"),Tipped.refresh()):this.requestQueue.push(function(e){return function(){return e.MarkAllAsRead()}}(this))},Notifications.prototype.TogglePreference=function(){this.isOn(!this.isOn()),Tipped.refresh()},Notifications.prototype.OnClickHandler=function(e){var t,n;null!=(t=e.target)&&t.classList.contains("w-notification")||jQuery(t).parents(".w-notification").length>0||null!=t&&0===jQuery(t).parents("#notifGroup").length&&"trUserNotif"!==(n=t.id)&&"numNotifs2"!==n&&"notifBell"!==n&&app.ko.postbox.publish("hide-notifications-popup",{})},Notifications.prototype.IsValidJSON=function(e){try{JSON.parse(e)}catch(e){return e,!1}return!0},Notifications.prototype.SetUpNotificationHandlers=function(){var e,t,n;return t=void 0,n=void 0,void 0!==document.hidden?(t="hidden",n="visibilitychange"):void 0!==document.msHidden?(t="msHidden",n="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",n="webkitvisibilitychange"),e=function(e){return function(n){var r;if(r=!0,"string"==typeof n&&(r="focus"===n),null!=document[t]&&(e.appIsVisible=!document[t]),e.appIsVisible&&!r)return e.appIsVisible=!1}}(this),null!=t?(e(),$(document).on(n,e,!1)):console.warn("This browser does not support the Page Visibility API",t,n),window.onunload=function(e){return function(){var t,n,r,i,o;for(e.UnregisterListeningSocket(e.socketId()),i=e.visibleNotifications(),o=[],n=0,r=i.length;n<r;n++){t=i[n];try{o.push(t.close())}catch(e){o.push(console.info("Couldn't programmatically close notification"))}}return o}}(this),window.onblur=function(t){return function(){return e("blur")}}(),window.onfocus=function(t){return function(){return e("focus")}}()},Notifications.prototype.HandleDesktopNotification=function(e){var t,n,r,i,o,a,s,l;if((!this.appIsVisible||null==window.Notification)&&null!=(null!=(o=app.loggedInUser)?o.preferences:void 0)&&app.loggedInUser.preferences.useDesktopNotifications()&&this.isLastListeningSocket(this.socketId())&&(r=e.extraInfo.data,null!=r.pushUserIdList&&(i=r.pushUserIdList,"string"==typeof i?i=i.split(","):"number"==typeof i&&(i=[i]),a=app.loggedInUser.id(),indexOf.call(i,a)>=0||(s=app.loggedInUser.id().toString(),indexOf.call(i,s)>=0))))return"granted"===Notification.permission?(l=this.GetEventTitle(e),t=app.account.logo(),""===t&&(t="//cdn-pjs.teamwork.com/tko/public/assets/brand/favicons/ms-icon-144x144.png"),n=new Notification(l,{icon:t,tag:"tw-"+app.account.id()+"-"+app.loggedInUser.id(),body:e.description}),n.onclick=function(t){return function(r){var i;return window.focus(),setTimeout(function(){return r.target.close(),t.visibleNotifications.remove(n)},500),"statusUpdate"!==(i=e.itemType)&&"status"!==i||!app.loggedInUser.inOwnerCompany()?"statusrequest"===e.itemType&&app.loggedInUser.inOwnerCompany()?app.modal.Show("addOrEditStatus",{}):"deleted"!==e.actionType?app.GoTo(e.itemLink):void 0:app.GoTo("people/statuses/overview")}}(this),this.visibleNotifications.push(n),setTimeout(function(){try{return n.close(),this.visibleNotifications.remove(n)}catch(e){return!0}},1e4)):void 0},Notifications.prototype.GetTypeClass=function(e){switch(-1!==e.itemType.toLowerCase().indexOf("comment")&&(e.itemType="comment"),e.itemType){case"reply":case"message":return"notification-icon fa fa-envelope";case"fileVersion":case"file":return"notification-icon fa fa-file";case"projectUpdate":case"project update":return"notification-icon projectupdate fa fa-bullhorn";case"status":case"statusrequest":return"notification-icon fa fa-bullhorn";case"event":return"notification-icon fa fa-calendar-o";case"task":return"notification-icon fa fa-check-square";case"notebook":return"notification-icon fa fa-book";case"link":return"notification-icon fa fa-link";case"comment":return"notification-icon fa fa-comment";case"budget":return"notification-icon fa fa-folder-o";default:return"notification-icon type2 "+e.itemType}},Notifications.prototype.GetEventTitle=function(e){var t,n,r,i,o,a,s;if("statusrequest"===e.actionType)return app.tl("Request to update your status");if("reminder"===e.actionType)switch(e.itemType){case"task":return app.tl("Task Reminder");case"event":return app.tl("Event Reminder");case"milestone":return app.tl("Milestone Reminder")}return"projectBudgetNotification"===e.itemType&&"warning"===e.actionType?app.tl("Budget threshold exceeded"):(-1!==e.itemType.toLowerCase().indexOf("comment")?e.itemType="comment":e.itemType.toLowerCase().indexOf("comment")>-1&&e.itemLink.toLowerCase().indexOf("message")>-1?e.itemType="reply":"fileVersion"===e.itemType?e.itemType="file":"statusUpdate"===e.itemType?e.itemType="status":"taskList"===e.itemType?e.itemType="task list":"projectUpdate"===e.itemType&&(e.itemType="project update"),t=function(){switch(e.actionType){case"like":return"liked";case"new":return"added";case"reacted":return"reacted to";default:return e.actionType}}(),i=t+" a "+e.itemType,r=null,null!=e.extraInfo&&"string"==typeof e.extraInfo&&""!==e.extraInfo?(n=JSON.parse(e.extraInfo),null!=(null!=n?n.data:void 0)&&"string"==typeof n.data&&""!==e.extraInfo.data&&(r=JSON.parse(n.data))):null!=(null!=(o=e.extraInfo)?o.data:void 0)&&(r=e.extraInfo.data),s=[],null!=(null!=r?r.taskAssignedToUserId:void 0)&&(s=r.taskAssignedToUserId,"string"==typeof s?s=s.split(",").map(Number):"number"==typeof s&&(s=[s])),null!=s&&s.length>0&&s.includes(null!=(a=app.loggedInUser)?a.id():void 0)&&(i="added"===t?"added a task for you":"assigned a task to you"),app.tl("[_s] "+i,e.userFName))},Notifications.prototype.GetDateTimeFormat=function(){return"dddd, DD MMM YYYY "+app.loggedInUser.localization.timeFormat()},Notifications.prototype.RegisterListeningSocket=function(e){var t;try{t=localStorage.getItem("twProjects-listening-sockets"),localStorage.setItem("twProjects-listening-sockets",(""+(t||"")+e+",").substring(-500))}catch(e){e}},Notifications.prototype.UnregisterListeningSocket=function(e){var t;if(e)try{if(!(t=localStorage.getItem("twProjects-listening-sockets")))return;localStorage.setItem("twProjects-listening-sockets",t.replace(e+",",""))}catch(e){e}},Notifications.prototype.isLastListeningSocket=function(e){var t;try{return!(t=localStorage.getItem("twProjects-listening-sockets"))||t.slice(-(e.length+1))===e+","}catch(e){return e,!0}},Notifications}()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(exports,__webpack_require__(245),__webpack_require__(245))},4446:function(e,t,n){var r,i,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=[n(164),n(1117),n(401)],void 0!==(i=function(e,t,n){return function(){var t,n,r;return t=[],r=[],n=moment("20191108","YYYYMMDD").startOf("day"),{check:function(i){return i=i.toLowerCase(),null!=t[i]?t[i]:(r.push(t[i]=e.computed(function(){return!(o.call(app.loggedInUser.preferences.onboardingLocations(),i)>=0)&&!(moment(app.loggedInUser.createdAt()).startOf("day")<n)})),t[i])},set:function(e){var t;if(e=e.toLowerCase(),t=app.loggedInUser.preferences.onboardingLocations(),!(o.call(t,e)>=0))return t.push(e),app.loggedInUser.preferences.onboardingLocations(t)}}}}.apply(t,r))&&(e.exports=i)},4447:function(e,t,n){var r,i,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=[n(1117)],void 0!==(i=function(e){"function"!=typeof Object.assign&&(Object.assign=function(e){var t,n,r;for(t=1;t<arguments.length;){if(null!==(r=arguments[t]))for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);t++}return e}),"function"!=typeof Object.values&&Object.defineProperty(Object,"values",{configurable:!0,enumerable:!1,value:function(e){return Object.keys(e).map(function(t){return e[t]})},writable:!0}),"undefined"==typeof Promise&&(window.Promise=e),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){var e,t;return e=/function\s([^(]{1,})\(/,t=e.exec(this.toString()),t&&t.length>1?t[1].trim():""},set:function(e){}}),Array.prototype.find||(Array.prototype.find=function(e){var t,n,r,i,o;if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(r=Object(this),n=r.length>>>0,i=arguments[1],o=void 0,t=0;t<n;){if(o=r[t],e.call(i,o,t,r))return o;t++}}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),function(){var e,t,n;for(e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"],++n;window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r,i,o;return r=(new Date).getTime(),o=Math.max(0,16-(r-e)),i=window.setTimeout(function(){t(r+o)},o),e=r+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(){var e,t,n,r;r=window,t=r.document,e=function(e){var t,n;n="focus"===e.type?"focusin":"focusout",t=new window.CustomEvent(n,{bubbles:!0,cancelable:!1}),t.c1Generated=!0,e.target.dispatchEvent(t)},n=function(r){r.c1Generated||(t.removeEventListener("focus",e,!0),t.removeEventListener("blur",e,!0),t.removeEventListener("focusin",n,!0),t.removeEventListener("focusout",n,!0)),setTimeout(function(){t.removeEventListener("focusin",n,!0),t.removeEventListener("focusout",n,!0)})},void 0===r.onfocusin&&(t.addEventListener("focus",e,!0),t.addEventListener("blur",e,!0),t.addEventListener("focusin",n,!0),t.addEventListener("focusout",n,!0))}(),function(){o.call(Object,"getPropertyDescriptor")>=0||(Object.getPropertyDescriptor=function(e,t){var n,r;if(null!=e)return null!=(n=Object.getOwnPropertyDescriptor(e,t))?n:(r=Object.getPrototypeOf(e),Object.getPropertyDescriptor(r,t))})}(),function(){var e;if("function"==typeof window.CustomEvent||"IE"!==window.browserInfo.vendor||11!==window.browserInfo.majorVersion)return!1;e=function(e,t){var n;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},e.prototype=window.Event.prototype,window.Event=e}(),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){var n,r,i,o,a;if(a=function(e,t){return e==t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},null==this)throw new TypeError('"this" is null or not defined');if(o=Object(this),0===(r=o.length>>>0))return!1;for(i=0|t,n=Math.max(i>=0?i:r-Math.abs(i),0);n<r;){if(a(o[n],e))return!0;n++}return!1}}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){return t=!t||t<0?0:+t,this.substring(t,t+e.length)===e}})}.apply(t,r))&&(e.exports=i)},4448:function(e,t,n){var r,i;r=[n(164),n(1118),n(1117),n(401)],void 0!==(i=function(e,t,n,r){return function(){var i,o,a;return o=[],a=[],i=[],{init:function(){return e.postbox.subscribe("allTWEvents",this.resetProjectInfoIfNeeded)},findByProjectId:function(e){return null!=app.cachedProjects[e]?n.resolve(app.cachedProjects[e]):app.hybrid.apiDispatch("project/reload",e)},findStatsByProjectId:function(t,r){var i;return null==r&&(r={}),i=e.unwrap(t)+"-"+e.toJSON(r),null!=app.cachedProjectStats[i]?n.resolve(app.cachedProjectStats[i]):app.api.get("projects/"+t+"/stats.json",r)},findIntegrationsByProjectId:function(t,r){var i;return null==r&&(r={}),i=e.unwrap(t)+"-"+e.toJSON(r),null!=app.cachedProjectIntegrations[i]?n.resolve(app.cachedProjectIntegrations[i]):app.api.get("projects/"+t+"/integrations.json",r)},get:function(n){var i,a,s,l;if(l=n,a=n,"number"!=typeof(n=parseInt(e.unwrap(n),10))||isNaN(n)){try{throw new Error("A number must be supplied to this method: "+l)}catch(e){i=e,r.captureException(i),console.error("A number must be supplied to this method:",l)}return e.observable(null)}return 0===n?(console.error("Project ID must not be 0"),e.observable(null)):null!=o[n]?o[n]:(e.isObservable(a)&&a.subscribe(function(e){return function(n){if(null!=n&&0!==parseInt(n,10))return null!=app.currentRoute().project&&app.currentRoute().projectId===n?s(app.currentRoute().project):e.findByProjectId(n).then(function(e){var r,i,o;if(null!=e.componentName&&"Project"===e.componentName?r=e:(o=e.response,i=o.project,null!=o.customFields&&(i.customFields=app.customFieldsHelper.normalizeFields(o.customFields,o.project.customFields)),r=new t(i)),s(r),null==app.cachedProjects[n])return app.cachedProjects[n]=r}).catch(function(t){e.sendNotFoundEvent(n)})}}(this)),s=app.shared.get("project/"+n+"/projectInfo"),o[n]=s,null!=app.currentRoute().project&&app.currentRoute().projectId===n?s(app.currentRoute().project):this.findByProjectId(n).then(function(e){return function(e){var r,i,o;if(null!=e.componentName&&"Project"===e.componentName?r=e:(o=e.response,i=o.project,null!=o.customFields&&(i.customFields=app.customFieldsHelper.normalizeFields(o.customFields,o.project.customFields)),r=new t(i)),s(r),null==app.cachedProjects[n])return app.cachedProjects[n]=r}}()).catch(function(e){return function(t){e.sendNotFoundEvent(n)}}(this)),s)},set:function(e,n){if(null==app.cachedProjects[e]&&n instanceof t)return app.cachedProjects[e]=n},sendNotFoundEvent:function(e){return function(e){var t;return t={eventTime:new Date,itemType:"project",actionType:"",itemId:e,projectId:e},app.ko.postbox.publish("fetch-project-error",t)}}(),checkSectionIsActive:function(t,n){var r;return r=e.unwrap(this.get(t)),null!=r.activePages[n]&&"1"===r.activePages[n]()},update:function(e,n){return null==n&&(n=!0),app.hybrid.apiDispatch("project/reload",e).then(function(n){return function(n){var r,i,o,a;if(o=n.response,i=o.project,null!=o.customFields&&(i.customFields=app.customFieldsHelper.normalizeFields(o.customFields,o.project.customFields)),r=new t(i),app.cachedProjects[e]=r,a=app.shared.get("project/"+e+"/projectInfo"),a(r),null!=app.currentRoute().projectId&&app.currentRoute().projectId===e)return app.currentRoute().project.UpdateData(n.response.project)}}()).catch(function(e){return function(e){if(404===(null!=e?e.status:void 0))return app.GoTo("dashboard")}}())},clearStats:function(t,n){var r;return null==n&&(n={}),r=t+"-"+e.toJSON(n),this.clearStatsByKey(r)},clearStatsByKey:function(e){if(null!=a[e]&&delete a[e],null!=app.cachedProjectStats[e])return delete app.cachedProjectStats[e]},getStats:function(t,n){var i,o,s,l,p,u;if(null==n&&(n={}),p=t,s=t,"number"!=typeof(t=parseInt(e.unwrap(t),10))||isNaN(t)){try{throw new Error("A number must be supplied to this method: "+p)}catch(e){i=e,r.captureException(i),console.error("A number must be supplied to this method:",p)}return e.observable(null)}return 0===t?(console.error("Project ID must not be 0"),e.observable(null)):(o=t+"-"+e.toJSON(n),null!=a[o]?a[o]:(l=function(t){return function(r,i){return t.findStatsByProjectId(r,n).then(function(t){var o;if(o=e.mapping.fromJS(t.response.stats),u(o),i=r+"-"+e.toJSON(n),null==app.cachedProjectStats[i])return app.cachedProjectStats[i]=o})}}(this),e.isObservable(s)&&s.subscribe(function(e){return function(e){if(null!=e)return l(e,n)}}()),u=app.shared.get("project/"+t+"/stats/"+o),a[o]=u,l(t,n),u))},getIntegrations:function(t,n){var o,a,s,l,p,u;if(null==n&&(n={}),u=t,l=t,"number"!=typeof(t=parseInt(e.unwrap(t),10))||isNaN(t)){try{throw new Error("A number must be supplied to this method: "+u)}catch(e){o=e,r.captureException(o),console.error("A number must be supplied to this method:",u)}return e.observable(null)}return 0===t?(console.error("Project ID must not be 0"),e.observable(null)):(s=t+"-"+e.toJSON(n),null!=i[s]?i[s]:(p=function(t){return function(r,i){return t.findIntegrationsByProjectId(r,n).then(function(t){var o;if(o=e.mapping.fromJS(t.response.integrations),a(o),i=r+"-"+e.toJSON(n),null==app.cachedProjectIntegrations[i])return app.cachedProjectIntegrations[i]=o})}}(this),e.isObservable(l)&&l.subscribe(function(e){return function(e){if(null!=e)return p(e,n)}}()),a=app.shared.get("project/"+t+"/integrations/"+s),i[s]=a,p(t,n),a))},resetProjectInfoIfNeeded:function(e){var t,n,r,o;if("project"===(n=e.itemType)||"projectSettings"===n){r=[];for(t in i)t.startsWith(e.itemId+"-")?(null!=i[t]&&delete i[t],null!=app.cachedProjectIntegrations[t]?r.push(delete app.cachedProjectIntegrations[t]):r.push(void 0)):r.push(void 0);return r}if("integration"===e.itemType){o=[];for(t in i)null!=i[t]&&delete i[t],null!=app.cachedProjectIntegrations[t]?o.push(delete app.cachedProjectIntegrations[t]):o.push(void 0);return o}}}}}.apply(t,r))&&(e.exports=i)},4449:function(e,t,n){var r,i,o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=[n(14),n(1698)],void 0!==(i=function(e,t){return function(e){function t(){this._runningIntervals={},this.setMaxListeners(0)}return o(t,e),t.prototype._set=function(e,t){var n,r;if(null==e&&(e=0),null==t&&(t=""),e>0&&t.length&&(r=this._getKey(e,t),null==this._runningIntervals[r]))return n=function(e){return function(){return e.emit(r,!0)}}(this),this._runningIntervals[r]=setInterval(n,e)},t.prototype._reset=function(){var e,t,n;t=this._runningIntervals;for(e in t)n=t[e],clearInterval(n),this.removeAllListeners(e);return this._runningIntervals=[]},t.prototype._getKey=function(e,t){return"pulse"+e+t},t.prototype._isValidInterval=function(e,t,n){return e>0&&t.length&&"function"==typeof n},t.prototype.listen=function(e){var t,n,r,i,o,a,s;if(null==e&&(e={}),n=null!=(o=e.interval)?o:0,i=null!=(a=e.key)?a:"_global",t=null!=(s=e.callback)?s:null,this._isValidInterval(n,i,t))return r=this._getKey(n,i),this._set(n,i),this.addListener(r,t)},t.prototype.info=function(){return Object.keys(this._runningIntervals)},t.prototype.forget=function(e){var t,n,r,i,o,a,l,p;return null==e&&(e={}),n=null!=(a=e.interval)?a:0,i=null!=(l=e.key)?l:"",t=null!=(p=e.callback)?p:null,this._isValidInterval(n,i,t)?(r=this._getKey(n,i),this.removeListener(r,t),o=Object.keys(this._events),null==this._runningIntervals[r]||s.call(o,r)>=0?void 0:(clearInterval(this._runningIntervals[r]),delete this._runningIntervals[r])):this._reset()},t}(t)}.apply(t,r))&&(e.exports=i)},4450:function(e,t,n){(function(r){var i,o,a=function(e,t){return function(){return e.apply(t,arguments)}};i=[n(164)],void 0!==(o=function(e){var t;return t={"keyboard-shortcuts":"keyboard-shortcuts-quick-view"},new(function(){function n(){this.clean=a(this.clean,this),this.updateUrl=a(this.updateUrl,this),this.empty=a(this.empty,this),this.jumpTo=a(this.jumpTo,this),this.peek=a(this.peek,this),this.pop=a(this.pop,this),this.push=a(this.push,this),this.close=a(this.close,this),this.views=e.observableArray([]),this.lastTop=null,this.views.subscribe(function(e){return function(t){return e.lastTop=t.slice()[t.length-1]}}(this),null,"beforeChange"),this.views.subscribe(this.clean),this.subscriber=null,this.callbacks=[],this.originUrl=null,this.jumpToUrl=null,this.shouldResetUrl=!1}return n.prototype.close=function(e){var t,n,r,i,o,a;if(null==e&&(e=null),null!=e){for(n=-1,o=this.views(),t=r=0,i=o.length;r<i;t=++r)a=o[t],parseInt(a.id,10)===parseInt(e.id,10)&&a.type===e.type&&(n=t);n>-1&&this.views.splice(n,1)}else this.empty()},n.prototype.push=function(t){var n;if(null==(n=this.peek())||n.type!==t.type||parseInt(n.id,10)!==parseInt(t.id,10))return this.shouldResetUrl=!0,t.position=e.observable(this.views().length),this.views.push(t),null==this.subscriber?this.subscriber=app.currentRoute.subscribe(function(e){return function(){return e.shouldResetUrl=!1,e.empty()}}(this)):void 0},n.prototype.pop=function(){var e,t,n,i,o,a;if(o="[data-qv-index="+(this.views().length-1)+"]",e=r(o).find(".hasChanged"),a=this.views()[this.views().length-1].type,e.length?(n=function(t){return function(n){if(n)return e.forgetChanges(),t.views.pop()}}(this),e.confirmCancel({callback:n})):this.views.pop(),-1!==(t=app.utility.FindIndexByKeyValue(this.callbacks,"type",a)))return i=this.callbacks[t],i.callback(),this.callbacks.splice(t,1)},n.prototype.peek=function(){return this.views()[this.views().length-1]},n.prototype.jumpTo=function(e){if(null==e&&(e=null),null!=e&&e<this.views().length-1)return Tipped.hideAll(),this.views.splice(e+1)},n.prototype.empty=function(e){return null==e&&(e=null),this.jumpToUrl=e,this.views([])},n.prototype.updateUrl=function(e){var t,n;return 0!==e?(1===e&&null==this.originUrl&&(this.originUrl=app.hasher.getHash()),n=this.peek(),"task"===(t=n.type.toLowerCase())||"taskCard"===t||"link"===t||"milestone"===t||"tasklist"===t||"notebook"===t||"file"===t||"message"===t||"project"===t?app.GoTo(n.type+"s/"+n.id,{silent:!0}):app.GoTo(this.originUrl,{silent:!0})):(null!=this.originUrl&&this.shouldResetUrl&&app.GoTo(this.originUrl,{silent:!0}),this.originUrl=null,null!=this.jumpToUrl?(app.GoTo(this.jumpToUrl),this.jumpToUrl=null):void 0)},n.prototype.clean=function(e){var t,n,i,o,a,s,l,p,u;if(0===(l=e.length)){if(app.bodyDroppable(!0),r("body").removeClass("modal-open"),r("body").removeClass("qvOpen"),r("body").removeClass("--overlay-open"),app.ko.postbox.publish("quick-view-closed",{}),this.callbacks.length){for(p=this.callbacks,i=0,a=p.length;i<a;i++)t=p[i],t.callback();this.callbacks=[]}}else{for(app.bodyDroppable(!1),n=0,u=this.views(),o=0,s=u.length;o<s;o++)e=u[o],e.position(n),n++;r("body").addClass("modal-open"),r("body").addClass("qvOpen"),r("body").addClass("--overlay-open")}return this.updateUrl(l)},n.prototype.isOpen=function(){return this.views().length>0},n.prototype.updateTitle=function(t){var n;return n=this.peek(),e.isObservable(n.title)?n.title(t):n.title=t},n.prototype.show=function(n,r,i){var o,a;return null==i&&(i=null),Tipped.hideAll(),Object.keys(t).includes(n)?void app.hybrid.store.dispatch("quickViews/open",{name:t[n],props:e.toJS(r)}):(null!=i&&this.callbacks.push({type:n,callback:i}),this.push(function(){var t,i,s,l;switch(n){case"breakdown":return{name:"section-quick-view-breakdown",header:"",title:r.title,id:r.id,type:n,params:r,productIntegration:"task-breakdown"};case"events":return{name:"section-events-list",header:"",title:r.title,id:r.id,type:n,params:r};case"events-new":return{name:"section-events-list-new",header:"section-quick-view-events-header-buttons",title:r.title,projectId:r.projectId,type:n,params:r};case"todaySettings":return{name:"section-quick-view-today-settings",header:"",title:app.tl("My Work View Settings"),id:r.id,type:n,productIntegration:"settings"};case"person":return{name:"section-quick-view-person",header:"",title:r.title,id:r.id,type:n,params:r,productIntegration:"person-view"};case"project":return{name:"section-project-overview-summary",header:"section-project-overview-header-buttons",title:r.title,id:r.id,type:n,params:r};case"tasks":return{name:"section-quick-view-tasks",header:"section-quick-view-tasks-header-buttons",title:r.title,id:r.id,type:n,params:r};case"risks":return{name:"section-quick-view-risks",header:"",title:r.title,id:r.id,type:n,params:r,productIntegration:"risksList"};case"people":return{name:app.featureFlip.check("teams")()?"section-people-list-new":"section-quick-view-people-list",header:"section-quick-view-people-header-buttons",title:r.title,id:r.id,type:n,params:Object.assign({searchTerm:"",listMode:"list",isQuickView:!0,letterSelected:""},r)};case"time":return{name:"section-quick-view-time",header:"",title:r.title,id:r.id,type:n,params:r};case"milestones":return{name:"section-milestones-list",header:"",title:r.title,id:r.id,type:n,params:r};case"messages":return{name:"section-messages-list",header:"section-quick-view-messages-header-buttons",title:r.title,id:r.id,type:n,params:r};case"comments":return{name:"section-comments-list",header:"section-quick-view-comments-header-buttons",title:r.title,id:r.id,type:n,params:r};case"task":return a=null!=r.title?app.utility.SafeHTML(r.title):r.isSubtask?app.tl("Subtask Details"):app.tl("Task Details"),o={name:null!=r.tab?"section-task-details":"section-project-task",header:"section-project-tasks-header-buttons",title:"<a id='quickViewTaskDetailsLink' href=\"#/projects/"+e.unwrap(r.projectId)+"/tasks/"+e.unwrap(r.taskId)+'">'+a+"</a>",id:r.id,type:n,productIntegration:null!=(t=r.wrapperName)?t:"",params:{taskId:r.taskId,tab:r.tab,task:r.task,projectId:r.projectId,isEditing:r.isEditing,isQuickView:!0}};case"taskCard":return a=null!=r.title?app.utility.SafeHTML(r.title):r.isSubtask?app.tl("Subtask Details"):app.tl("Task Details"),o={name:"section-project-task",header:"section-project-tasks-header-buttons",title:"<a id='quickViewTaskDetailsLink' href=\"#/projects/"+e.unwrap(r.projectId)+"/tasks/"+e.unwrap(r.taskId)+'">'+a+"</a>",id:r.id,type:"task",params:{taskId:r.taskId,tab:r.tab,task:r.task,projectId:r.projectId,isQuickView:!0}};case"archivedCards":return{name:"section-quick-view-archived-cards-list",header:"",title:app.tl("Archived Cards"),id:r.id,type:n,productIntegration:"archivedCards",params:{projectId:r.projectId,isQuickView:!0}};case"workloadTasks":return{name:"section-quick-view-workload-tasks",header:"",title:r.title,id:r.id,type:n,params:{userId:r.userId,companyId:r.companyId,projectId:r.projectId,projectName:r.projectName,taskStatus:r.taskStatus}};case"projectHealth":return{name:"section-projects-list-new",header:"",title:null!=(i=r.title)?i:app.tl("Projects"),id:r.id,type:n,params:r};case"projectList":return{name:"section-projects-list-new",header:"",title:null!=(s=r.title)?s:app.tl("Projects"),id:r.id,type:n,params:r};case"projectUpdates":return{name:"section-project-updates-list",header:"section-project-updates-header-buttons",title:app.tl("Project Updates"),id:r.id,type:n,productIntegration:"project-updates",params:{projectId:r.projectId,updateId:r.updateId,dataUrl:r.dataUrl,filterParams:r.filterParams,shouldShowHeaders:r.shouldShowHeaders,showLayeredContent:!0}};case"createDeskTicket":return{name:"section-create-desk-ticket",header:"",title:app.tl("Create a Desk Ticket for: [_s]",r.itemName),id:r.id,type:n,productIntegration:"createDeskTicket",params:{itemId:r.itemId,itemName:r.itemName,shouldShowHeaders:r.shouldShowHeaders,showLayeredContent:!0}};case"columnSettings":return{name:"section-quick-view-column-settings",header:"",title:app.tl("Column Settings"),id:r.id,type:n,productIntegration:"settings",params:{projectId:r.projectId,boardColumn:r.boardColumn,boardType:r.boardType,boardId:r.boardId,portfolioColumns:r.portfolioColumns,columnOptions:r.columnOptions}};case"taskList":return{name:"section-project-tasklist",header:"section-project-tasks-header-buttons",title:app.tl("Tasks"),id:r.id,type:n,params:{taskListId:r.taskListId,projectId:r.projectId,isQuickView:!0}};case"audit":return{name:"section-audit-history",header:"section-audit-history-header-buttons",title:app.tl("Change History"),id:r.id,type:n,productIntegration:"audit",params:{itemId:r.itemId,itemType:r.itemType,isQuickView:!0,showLayeredContent:!0}};case"activity":return{name:"section-activity-list",header:"",title:app.tl("Activity"),id:r.id,type:n,productIntegration:"audit",params:r};case"milestone":return{name:"section-milestone-details",header:"section-project-milestones-header-buttons",title:'<a href="#/projects/'+e.unwrap(r.projectId)+"/milestones/"+e.unwrap(r.milestoneId)+'">'+app.tl("Milestone Details")+"</a>",id:r.id,type:n,params:{milestoneId:r.milestoneId,projectId:r.projectId,isQuickView:!0}};case"link":return{name:"section-link-details",header:"section-project-links-header-buttons",title:'<a href="#/projects/'+e.unwrap(r.projectId)+"/links/"+e.unwrap(r.linkId)+'">'+app.tl("Link Details")+"</a>",id:r.id,type:n,params:{linkId:r.linkId,isQuickView:!0,projectId:r.projectId}};case"notebook":return{name:"section-project-notebooks-edit",header:"section-project-notebooks-header-buttons",title:'<a href="#/projects/'+e.unwrap(r.projectId)+"/notebooks/"+e.unwrap(r.notebookId)+'">'+app.tl("Notebook Details")+"</a>",id:r.id,type:n,params:{notebookId:r.notebookId,projectId:r.projectId,isQuickView:!0}};case"message":return{name:"section-project-messages-edit",header:"section-project-messages-header-buttons",title:'<a href="#/projects/'+e.unwrap(r.projectId)+"/messages/"+e.unwrap(r.messageId)+'">'+app.tl("Message Details")+"</a>",id:r.id,type:n,params:{messageId:r.messageId,projectId:r.projectId,isQuickView:!0}};case"file":return{name:"section-project-files-edit",header:"section-project-files-header-buttons",title:'<a href="#/projects/'+e.unwrap(r.projectId)+"/files/"+e.unwrap(r.fileId)+'">'+app.tl("File Details")+"</a>",id:r.id,type:n,params:{fileId:r.fileId,fileVersion:r.fileVersion,projectId:r.projectId,isQuickView:!0,latestVersion:r.parentFile,listContainer:r.listContainer}};case"productUpdates":return{name:"section-product-updates",header:"",title:app.tl("What's New?"),id:0,type:"productUpdates",params:{},productIntegration:"product-updates"};case"myShortcuts":return{name:"section-quick-view-shortcuts",header:"section-quick-view-shortcuts-header",title:app.tl("My Shortcuts"),id:0,type:"myShortcuts",params:{},productIntegration:"my-shortcuts"};case"desk":return{name:"section-desk-ticket",id:r.id,type:n,params:{ticket:r.ticketId,isQuickView:!0},productIntegration:"teamworkDesk"};case"project-summary-settings":return{name:"section-quick-view-project-summary-settings",header:"",title:r.title,type:n,params:{isQuickView:!0,showLayeredContent:!0},productIntegration:"settings"};case"grandfathered":return{name:"section-quick-view-grandfathered",header:"",title:"Teamwork\u2019s Grandfather Program",type:n,id:"grandfathered-quick-view"};case"event":return a=app.utility.EnsureObservable(r.title),{name:"section-event-details",header:"section-event-details-header",title:a,id:r.id,type:n,params:{projectId:r.projectId,event:r.event,isQuickView:!0,title:a}};case"budgetUsageChart":return{name:"section-budget-usage-charts-list",header:"",title:app.tl("Budget History"),id:r.id,type:n,params:r};case"help":return{name:"section-help-doc",title:null!=(l=r.title)?l:app.tl("Help"),header:"section-help-doc-header",type:n,params:r,productIntegration:"supportDocs"};case"report":return{name:"section-report-details",header:"widget-report-actions",title:'<a href="#/reporting/reports/'+r.reportId+'">'+app.tl("Report Details")+"</a>",type:n,params:r};default:throw new Error("'"+n+"' not supported")}}()))},n}())}.apply(t,i))&&(e.exports=o)}).call(t,n(245))},4451:function(e,t,n){var r,i,o=function(e,t){return function(){return e.apply(t,arguments)}};r=[n(164)],void 0!==(i=function(e){return function(){function t(){this.Unlike=o(this.Unlike,this),this.Like=o(this.Like,this),this.isLiking=e.observable(!1)}return t.prototype.LikeType=function(e){var t;switch(t="",e){case"file":t="fileversions";break;case"message":case"messagepost":t="messagereplies";break;case"comment":t="comments";break;case"projectUpdate":t="projects/updates"}return t},t.prototype.AddOrRemoveReaction=function(t,n,r,i){var o,a,s,l,p,u,d;if(null==i&&(i=!0),!this.isLiking()){this.isLiking(!0),d=this.LikeType(n),o=i?"react.json":"unreact.json",a=function(){switch(n){case"file":return t.versionId;case"message":case"messagepost":return t.postId;case"comment":case"projectUpdate":return t.id}}(),s=null,l=null,p=null,null!=t.reactions.counts[r]&&(s=t.reactions.counts[r]()/1,p=t.reactions.mine().toString(),i?(t.reactions.counts[r](s+1),p.length&&p!==r&&(l=t.reactions.counts[p]()/1,t.reactions.counts[p](l-1))):t.reactions.counts[r](s-1),t.reactions.mine([r]));try{new Audio("./tko/public/assets/mp3/like.mp3").play()}catch(e){e}return u=d+"/"+e.unwrap(a)+"/"+o,app.api.put(u,{reactionType:r,get:"reactions"}).then(function(r){if("string"==typeof r.response&&(r.response=e.utils.parseJson(r.response)),r.response&&(app.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:n,actionType:app.consts.ACTIONTYPE.UPDATED,itemId:e.unwrap(a),subType:"reactions",extraData:r.response.reactions}),null!=t.tippedId))return Tipped.refresh(t.tippedId)}).catch(function(e){if(null!=t.reactions.counts[r]&&null!=s&&t.reactions.counts[r](s),null!=p)return t.reactions.mine(p.split(","))}).finally(function(e){return function(){return e.isLiking(!1)}}(this)),!0}},t.prototype.React=function(e,t,n){return this.AddOrRemoveReaction(e,t,n,!0)},t.prototype.Unreact=function(e,t,n){return this.AddOrRemoveReaction(e,t,n,!1)},t.prototype.Like=function(t,n,r){var i;if(!this.isLiking())return this.isLiking(!0),i=this.LikeType(t)+"/"+n+"/like.json",app.api.form(i,{},"put").then(function(i){return function(i){var o;if("string"==typeof i.response&&(i.response=e.utils.parseJson(i.response)),i.response){r.likedByUsers.push({id:app.loggedInUser.id,name:app.loggedInUser.fullName}),r.likedByMe(!0),r.numLikes(r.numLikes()+1),o=null!=r.projectId?e.unwrap(r.projectId):0;try{new Audio("./tko/public/assets/mp3/like.mp3").play()}catch(e){e}if(app.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:t,actionType:app.consts.ACTIONTYPE.UPDATED,itemId:n,projectId:o,subType:"like",extraData:{numLikes:r.numLikes(),likedByMe:!0}}),null!=r.tippedId)return Tipped.refresh(r.tippedId)}}}()).finally(function(e){return function(){return e.isLiking(!1)}}(this)),!0},t.prototype.Unlike=function(t,n,r){var i;if(!this.isLiking())return this.isLiking(!0),i=this.LikeType(t)+"/"+n+"/unlike.json",app.api.form(i,{},"put").then(function(i){return function(i){var o,a,s,l,p,u;if("string"==typeof i.response&&(i.response=e.utils.parseJson(i.response)),i.response){for(u=[],p=r.likedByUsers(),a=0,s=p.length;a<s;a++)o=p[a],o.id().toString()!==app.loggedInUser.id().toString()&&u.push(o);if(r.likedByUsers(u),r.likedByMe(!1),r.numLikes(r.numLikes()-1),l=null!=r.projectId?e.unwrap(r.projectId):0,app.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:t,actionType:app.consts.ACTIONTYPE.UPDATED,itemId:n,projectId:l,subType:"unlike",extraData:{numLikes:r.numLikes(),likedByMe:!1}}),null!=r.tippedId)return Tipped.refresh(r.tippedId)}}}()).finally(function(e){return function(){return e.isLiking(!1)}}(this)),!0},t.prototype.GetLikeString=function(t,n,r,i){var o,a,s,l;return l=e.unwrap(i).filter(function(n){return function(n){return e.unwrap(n.id())!==t}}()),s=l.map(function(t){return function(t){return e.unwrap(t.name)}}()),a="",a=1===s.length?s[0]:s.slice(0,s.length-1).join(", ")+" "+app.tl("and")+" "+s.slice(s.length-1),o="",n?0===l.length?o=1===r?app.tl("You liked this"):2===r?app.tl("You and one other person liked this"):app.tl("You and [_s] other people liked this",r-1):1===r?o=app.tl("You liked this"):2===r?o=app.tl("You and [_s] liked this",a):o+=app.tl("You, [_s] liked this",a):o=0===l.length?1===r?app.tl("One person liked this"):app.tl("[_s] people liked this",r):app.tl("[_s] liked this",a),o},t.prototype.GetAllOtherLikes=function(t,n){var r,i,o,a;for(n=e.unwrap(n),a='<ul style="list-style:none;padding:0px;margin:0px;">',i=0,o=n.length;i<o;i++)r=n[i],r.id().toString()!==t.toString()&&(a+='<li><a href="#people/'+r.id()+'" class="text-decoration--none">'+r.name()+"</a></li>");return a+="</ul>"},t}()}.apply(t,r))&&(e.exports=i)},4452:function(e,t,n){(function(r){var i,o;i=[n(245)],void 0!==(o=function(e){var t,n,i;return n=2500,i=500,t=function(e){this.app=e},t.prototype.InitAutoScrollOnRefresh=function(){var t,o,a,s,l,p,u,d;if(r(window).unload(function(){var e,t;(null!=(t=window.location)?t.href:void 0)&&window.hasLocalStorageSupport&&(e=JSON.stringify({page:window.location.href,pos:r(window).scrollTop(),changeTime:+new Date}),app.cache.set("lastScroll",e))}),window.hasLocalStorageSupport&&null!=(null!=(l=this.app)?l.loadedTemplates:void 0)&&null!=app.cache.get("lastScroll")){u=app.cache.get("lastScroll");try{if(a=JSON.parse(u),!(null!=(null!=a?a.page:void 0)&&null!=a.pos&&null!=("undefined"!=typeof window&&null!==window&&null!=(p=window.location)?p.href:void 0)&&window.location.href===a.page&&a.changeTime&&+new Date-a.changeTime<n))return;o=+new Date,t=null,s=this.app.loadedTemplates(),d=this.app.loadedTemplates.subscribe(function(n){return function(r){if(s=r,o=+new Date,!t)return t=setInterval(function(){var r,l;if(n.app.loadedTemplates()===s&&+new Date-o>=i)return r=app.currentRoute().hasSidebar&&!app.sidebarClosed(),null!=(null!=(l=e(window))?l.scrollTop:void 0)&&0===e(window).scrollTop()&&n.Scroll(a.pos,r),clearInterval(t),d.dispose()},i)}}(this))}catch(e){e,t&&clearInterval(t),d&&d.dispose()}}},t.prototype.Scroll=function(t,n){var r,i;null==n&&(n=!1),r=e(window),null!=r[0]&&null!=(null!=r?r.scrollTop:void 0)&&null!=t&&(n?(i=t/10,r.animate({scrollTop:t},i,"linear")):r.scrollTop(t))},t.prototype.ScrollTop=function(){this.Scroll(0)},t}.apply(t,i))&&(e.exports=o)}).call(t,n(245))},4453:function(e,t,n){var r,i;r=[n(1117),n(164),n(14)],void 0!==(i=function(e,t,n){return new(function(){function e(){this.surveyQueue=[{id:5,type:"route",recipient:"Administrator",ownerCompany:!0,accountPlan:"All",isAccountType:!0,route:"All",startDate:"20190917",endDate:"20190918",title:"Coming on Thursday: your new Home and Dashboards",text:"Good news! We\u2019ll be rolling out a new and intuitive Home area, as well as new customizable Dashboards, to all of our customers this Thursday 19th September.",url:"https://blog.teamwork.com/introducing-dashboards-and-your-new-home/?utm_medium=in-app&utm_source=modal&utm_campaign=introducing-dashboards-and-your-new-home",actionButtonTitle:"Learn more here",additionalShowOnRules:function(e){return function(){var e,t,n,r;return!(("function"==typeof(e=app.account).betaFeaturesEnabled?e.betaFeaturesEnabled():void 0)&&(null!=(n=app.account.betaFeatures)&&null!=(r=n.newDashboard)?r.enabled():void 0))&&("function"==typeof(t=app.account).forceNewDashboard?!t.forceNewDashboard():!0)}}()},{id:6,type:"route",recipient:"all",ownerCompany:!0,accountPlan:"paid",isAccountType:!0,route:"All",title:"Help us make Teamwork better",text:"Hi \ud83d\udc4b We\u2019d love to know more about how you use Teamwork to help us improve your experience. It will only take a few minutes - we promise!",url:function(){return"https://www.surveymonkey.com/r/twksurvey?u="+app.loggedInUser.id()+"&s="+app.account.id()+"&p="+app.account.pricePlanId()},actionButtonTitle:"Take Survey",dismissLinkTitle:"No thanks",additionalShowOnRules:function(e){return function(){return!1}}()}]}return e.prototype.isAllowed=function(){return!app.account.strictBranding()&&(!!app.account.allowTeamworkProjectsBrand()&&!0!==app.loggedInUser.preferences.userSurveysOptout())},e.prototype.isRecipient=function(){switch(this.latestSurveyDetails.recipient.toLowerCase()){case"all":return!0;case"administrator":return app.loggedInUser.administrator();case"site owner":return app.loggedInUser.siteOwner();case"collaborator":return app.loggedInUser.isCollaborator();case"user":return!app.loggedInUser.isCollaborator()&&"account"===app.loggedInUser.userType();default:return!1}},e.prototype.inOwnerCompany=function(){return app.loggedInUser.inOwnerCompany()===this.latestSurveyDetails.ownerCompany},e.prototype.isAccountType=function(){return app.loggedInUser.isAccount()===this.latestSurveyDetails.isAccountType},e.prototype.isAccountPlan=function(){switch(this.latestSurveyDetails.accountPlan.toLowerCase()){case"all":return!0;case"paid":return!!(app.account.isPaid()/1);case"free":return app.account.isFreeAccount();case"tw":return app.account.isTWInternal();default:return!1}},e.prototype.canUserViewSurvey=function(){return this.isRecipient()&&this.inOwnerCompany()&&this.isAccountType()&&this.isAccountPlan()},e.prototype.isNewSurvey=function(){return this.latestSurveyDetails.id!==app.loggedInUser.preferences.userSurveys().id},e.prototype.isRoute=function(){var e;return"All"===this.latestSurveyDetails.route||(e=app.currentRoute().request_.replace(/[0-9]+(?=.*\/)/g,"{{id}}"),e.toLowerCase()===this.latestSurveyDetails.route.toLowerCase())},e.prototype.isDate=function(){var e,t,r;return null==this.latestSurveyDetails.startDate||null==this.latestSurveyDetails.endDate||(r=n().startOf("day"),t=n(this.latestSurveyDetails.startDate),e=n(this.latestSurveyDetails.endDate),r.isBetween(t,e,null,"[]"))},e.prototype.getLatestSurvey=function(){var e,t,r,i,o,a,s,l;if(r=this.surveyQueue.slice(0).pop(),this.surveyQueue.length>1)for(l=n().startOf("day"),o=this.surveyQueue,t=0,i=o.length;t<i;t++)s=o[t],null!=s.startDate&&null!=s.endDate&&(a=n(s.startDate),e=n(s.endDate),l.isBetween(a,e,null,"[]")&&(r=s));return r},e.prototype.isSurveyQueueEmpty=function(){return 0===this.surveyQueue.length},e.prototype.setSurveyToShow=function(){return app.loggedInUser.preferences.userSurveys({id:this.latestSurveyDetails.id,type:this.latestSurveyDetails.type,show:!0,seen:!1})},e.prototype.setSurveyToSeen=function(){return app.loggedInUser.preferences.userSurveys({id:this.latestSurveyDetails.id,type:this.latestSurveyDetails.type,show:!1,seen:!0})},e.prototype.setSurveyOptoutToTrue=function(){return app.loggedInUser.preferences.userSurveysOptout(!0)},e.prototype.setNewSurvey=function(){return app.loggedInUser.preferences.userSurveys({id:this.latestSurveyDetails.id,type:this.latestSurveyDetails.type,show:!1,seen:!1})},e.prototype.displayFlash=function(){return app.flash.Special(null,null,{showCloseButton:!0,showButton:!1,cssClass:"w-toaster--survey-prompt",tapToDismiss:!1,timer:0,customTemplate:"widget-custom-survey",onCloseCallback:function(){var e;return app.SurveyConfigHelper.setSurveyOptoutToTrue(),app.flash.Clear(),null!=(e=document.getElementById("scrollUp"))?e.classList.remove("hidden"):void 0},customTemplateParams:{title:this.latestSurveyDetails.title,text:this.latestSurveyDetails.text,url:this.latestSurveyDetails.url,actionButtonTitle:this.latestSurveyDetails.actionButtonTitle,actionToTake:this.latestSurveyDetails.actionToTake}})},e.prototype.init=function(){var e;if(!0!==this.isSurveyQueueEmpty()&&!1!==this.isAllowed()&&(this.latestSurveyDetails=this.getLatestSurvey(),this.isNewSurvey()&&this.setNewSurvey(),!0!==app.loggedInUser.preferences.userSurveys().seen)){if(!this.canUserViewSurvey())return void(!0===(null!=(e=app.loggedInUser.preferences.userSurveys())?e.show:void 0)&&this.setNewSurvey());if(!0!==app.loggedInUser.preferences.userSurveys().show)return this.setSurveyToShow()}},e.prototype.checkForSurvey=function(){var e,t;if(null!=this.latestSurveyDetails!=!1&&!1!==this.isAllowed()){if("action"===app.loggedInUser.preferences.userSurveys().type)return!1;if(!0===app.loggedInUser.preferences.userSurveys().seen)return!1;if(!1!==app.loggedInUser.preferences.userSurveys().show&&!1!==this.isRoute()&&!1!==this.isDate()&&(null==this.latestSurveyDetails.additionalShowOnRules||this.latestSurveyDetails.additionalShowOnRules())&&!(("function"==typeof app.modals?app.modals():void 0)&&app.modals().length||("function"==typeof(e=app.flash).alerts?e.alerts():void 0)&&app.flash.alerts().length>0))return null!=(t=document.getElementById("scrollUp"))&&t.classList.add("hidden"),this.displayFlash()}},e.prototype.displaySurvey=function(){var e,t;if(null!=this.latestSurveyDetails!=!1&&!1!==this.isAllowed()){if(!0===app.loggedInUser.preferences.userSurveys().seen)return!1;if(!1!==app.loggedInUser.preferences.userSurveys().show&&!(("function"==typeof(e=app.flash).alerts?e.alerts():void 0)&&app.flash.alerts().length>0)&&"getting-started"!==app.currentRoute().homePageTab)return null!=(t=document.getElementById("scrollUp"))&&t.classList.add("hidden"),this.displayFlash()}},e}())}.apply(t,r))&&(e.exports=i)},4454:function(e,t,n){var r,i;r=[n(1249),n(246)],void 0!==(i=function(e,t){return function(){function n(){this.cache=ko.observableArray([]),this.cacheIds=ko.pureComputed(function(e){return function(){return e.cache().map(function(e){return e.id()})}}(this))}return n.prototype.cache=null,n.prototype.colors=t.TAGCOLORS,n.prototype.add=function(t){var n;return n=new e(t),this.cache.push(n),n},n.prototype.find=function(e){var t;return t=e.id,this.cache()[this.cacheIds().indexOf(t)]},n.prototype.get=function(e){var t;return t=this.find(e),null!=t?(t.update(e),t):this.add(e)},n.prototype.getAll=function(e){return e.map(function(e){return function(t){var n;return n=e.get(t),null!=n?n:e.add(t)}}(this))},n.prototype.getTagNames=function(e){return e.map(function(e){return e.name()}).join(",")},n.prototype.getTagIds=function(e){return e.map(function(e){return e.id()}).join(",")},n.prototype.getProjectIdsParam=function(e,t){var n;if(null==t&&(t=!0),n=[],Array.isArray(e))n=e.slice();else if(isNaN(e)){if("string"!=typeof e)throw new Error("Invalid projectIds passed");n=e.split()}else n.push(e);return t&&n.unshift(0),app.utility.Uniq(n).toString()},n}()}.apply(t,r))&&(e.exports=i)},4455:function(e,t,n){var r,i;r=[],void 0!==(i=function(){var e,t,n,r,i,o,a,s,l,p;return o=1,i=1,l=[],p=!1,r=0,n=0,a=function(e){var t;if("function"!=typeof e)throw new Error('"callback" must be a function');return t=o++,l[t]=e,s(),t},e=function(e){"number"==typeof e&&e>=0&&delete l[e]},s=function(){p||(p=!0,document.hidden?setTimeout(t):requestAnimationFrame(t))},t=function(){var e,t,o,a;for(p=!1,cancelAnimationFrame(n),clearTimeout(r),a=l.length;i<a;){o=i++,t=l[o],delete l[o];try{"function"==typeof t&&t()}catch(t){e=t,console.error(e)}}},document.addEventListener("visibilitychange",t,!1),{ScheduleTask:a,CancelTask:e}}.apply(t,r))&&(e.exports=i)},4456:function(e,t,n){var r,i;r=[n(164),n(1119),n(14)],void 0!==(i=function(e,t,n){var r,i,o,a,s,l,p;o={personalTasksCollapsed:{default:!1,type:"boolean"},homeTodayTasksFiltersOrder:{default:[],type:"array"},homeActivityFiltersOrder:{default:[],type:"array"},homeDashboardFiltersOrder:{default:[],type:"array"},homeCommentsFiltersOrder:{default:[],type:"array"},homeMessagesFiltersOrder:{default:[],type:"array"},homeEventsFiltersOrder:{default:[],type:"array"},allActiveTasksFiltersOrder:{default:[],type:"array"},calendarFiltersOrder:{default:[],type:"array"},personCompletedTasksFiltersOrder:{default:[],type:"array"},personTasksFiltersOrder:{default:[],type:"array"},projectTasksFiltersOrder:{default:[],type:"array"},projectTasksBoardFiltersOrder:{default:[],type:"array"},projectTasksBoardBacklogFiltersOrder:{default:[],type:"array"},allCompletedTasksFiltersOrder:{default:[],type:"array"},allCommentsFiltersOrder:{default:[],type:"array"},projectCommentsFiltersOrder:{default:[],type:"array"},allMilestonesFiltersOrder:{default:[],type:"array"},personMilestonesFiltersOrder:{default:[],type:"array"},projectMilestonesFiltersOrder:{default:[],type:"array"},allFilesFiltersOrder:{default:[],type:"array"},projectFilesFiltersOrder:{default:[],type:"array"},allMessagesFiltersOrder:{default:[],type:"array"},projectMessagesFiltersOrder:{default:[],type:"array"},allWorkloadFiltersOrder:{default:[],type:"array"},plannerWorkloadFiltersOrder:{default:[],type:"array"},homeProjectsListFiltersOrder:{default:[],type:"array"},personProjectsListFiltersOrder:{default:[],type:"array"},projectsChartFiltersOrder:{default:[],type:"array"},projectsListFiltersOrder:{default:[],type:"array"},projectsPortfolioFiltersOrder:{default:[],type:"array"},projectsPortfolioBacklogFiltersOrder:{default:[],type:"array"},projectsTemplatesFiltersOrder:{default:[],type:"array"},companyProjectsListFiltersOrder:{default:[],type:"array"},allRisksFiltersOrder:{default:[],type:"array"},projectRisksFiltersOrder:{default:[],type:"array"},allLinksFiltersOrder:{default:[],type:"array"},projectLinksFiltersOrder:{default:[],type:"array"},allNotebooksFiltersOrder:{default:[],type:"array"},projectNotebooksFiltersOrder:{default:[],type:"array"},allTimeFiltersOrder:{default:[],type:"array"},projectTimeFiltersOrder:{default:[],type:"array"},peopleFiltersOrder:{default:[],type:"array"},projectPeopleFiltersOrder:{default:[],type:"array"},taskTemplatesFiltersOrder:{default:[],type:"array"},userTasksBoardFiltersOrder:{default:[],type:"array"},projectsListSortBy:{default:"name",type:"string"},projectsListSortOrder:{default:"asc",type:"string"},projectsTemplatesSortBy:{default:"name",type:"string"},projectsTemplatesSortOrder:{default:"asc",type:"string"},projectsListListMode:{default:"grid",type:"string"},personProjectsListSortBy:{default:"name",type:"string"},personProjectsListSortOrder:{default:"asc",type:"string"},personProjectsListListMode:{default:"grid",type:"string"},companyProjectsListSortBy:{default:"name",type:"string"},companyProjectsListSortOrder:{default:"asc",type:"string"},companyProjectsListListMode:{default:"grid",type:"string"},projectsChartSortBy:{default:"name",type:"string"},projectsChartSortOrder:{default:"asc",type:"string"},allActiveTasksSortBy:{default:"startdate",type:"string"},allActiveTasksSortOrder:{default:"desc",type:"string"},personTasksSortBy:{default:"startdate",type:"string"},personTasksSortOrder:{default:"desc",type:"string"},allCompletedTasksSortBy:{default:"startdate",type:"string"},allCompletedTasksSortOrder:{default:"desc",type:"string"},personCompletedTasksSortBy:{default:"startdate",type:"string"},personCompletedTasksSortOrder:{default:"desc",type:"string"},homeTodayTasksSortBy:{default:"startdate",type:"string"},homeTodayTasksSortOrder:{default:"desc",type:"string"},allMessagesSortBy:{default:"lastupdated",type:"string"},allMessagesSortOrder:{default:"desc",type:"string"},projectMessagesSortBy:{default:"lastupdated",type:"string"},projectMessagesSortOrder:{default:"desc",type:"string"},allMilestonesSortBy:{default:"date",type:"string"},allMilestonesSortOrder:{default:"desc",type:"string"},projectMilestonesSortBy:{default:"date",type:"string"},projectMilestonesSortOrder:{default:"desc",type:"string"},personMilestonesSortBy:{default:"date",type:"string"},personMilestonesSortOrder:{default:"desc",type:"string"},allCommentsSortBy:{default:"date",type:"string"},allCommentsSortOrder:{default:"desc",type:"string"},projectCommentsSortBy:{default:"date",type:"string"},projectCommentsSortOrder:{default:"desc",type:"string"},allFilesSortBy:{default:"projectName",type:"string",accepted:["projectName","dateUploaded","categoryName","name","size"]},allFilesSortOrder:{default:"desc",type:"string"},projectFilesSortBy:{default:"dateUploaded",type:"string"},projectFilesSortOrder:{default:"desc",type:"string"},allRisksSortBy:{default:"project",type:"string"},allRisksSortOrder:{default:"desc",type:"string"},projectRisksSortBy:{default:"result",type:"string"},projectRisksSortOrder:{default:"desc",type:"string"},allWorkloadSortBy:{default:"user",type:"string"},allWorkloadSortOrder:{default:"asc",type:"string"},plannerWorkloadSortBy:{default:"user",type:"string"},plannerWorkloadSortOrder:{default:"asc",type:"string"},workloadPeoplePlannerSortBy:{default:"user",type:"string"},workloadPeoplePlannerSortOrder:{default:"asc",type:"string"},workloadPeopleManageSortBy:{default:"name",type:"string"},workloadPeopleManageSortOrder:{default:"asc",type:"string"},workloadTasksManageSortBy:{default:"startDate",type:"string"},workloadTasksManageSortOrder:{default:"asc",type:"string"},allNotebooksSortBy:{default:"date",type:"string"},allNotebooksSortOrder:{default:"desc",type:"string"},projectNotebooksSortBy:{default:"date",type:"string"},projectNotebooksSortOrder:{default:"desc",type:"string"},allLinksSortBy:{default:"date",type:"string"},allLinksSortOrder:{default:"desc",type:"string"},projectLinksSortBy:{default:"date",type:"string"},projectLinksSortOrder:{default:"desc",type:"string"},allTimeSortBy:{default:"date",type:"string"},allTimeSortOrder:{default:"desc",type:"string"},projectTimeSortBy:{default:"date",type:"string"},projectTimeSortOrder:{default:"desc",type:"string"},reportsSortBy:{default:"name",type:"string"},reportsSortOrder:{default:"desc",type:"string"},"report-summary-collapsed":{default:!1,type:"boolean"},teamsSortBy:{default:"name",type:"string"},teamsSortOrder:{default:"desc",type:"string"},teamStatusesView:{default:"overview",type:"string",accepted:["overview","timeline"]},allTagsSortBy:{default:"name",type:"string"},allTagsSortOrder:{default:"asc",type:"string"},projectTagsSortBy:{default:"name",type:"string"},projectTagsSortOrder:{default:"asc",type:"string"},projectMessagesListMode:{default:"list",type:"string"},allMessagesListMode:{default:"list",type:"string"},allCommentsListMode:{default:"list",type:"string"},homeActivitySortBy:{default:"date",type:"string"},homeActivitySortOrder:{default:"desc",type:"string"},itemCommentsSortBy:{default:"date",type:"string"},itemCommentsSortOrder:{default:"desc",type:"string"},homeCommentsSortBy:{default:"date",type:"string"},homeCommentsSortOrder:{default:"desc",type:"string"},homeCommentsListMode:{default:"list",type:"string"},shortcutsSortBy:{default:"date",type:"string"},shortcutsSortOrder:{default:"desc",type:"string"},shortcutsListMode:{default:"list",type:"string"},homeMessagesSortBy:{default:"dateposted",type:"string"},homeMessagesSortOrder:{default:"desc",type:"string"},homeMessagesListMode:{default:"list",type:"string"},homeDashboardSortBy:{default:"name",type:"string"},homeDashboardSortOrder:{default:"desc",type:"string"},homeProjectsListListMode:{default:"grid",type:"string"},homeProjectsListSortBy:{default:"name",type:"string"},homeProjectsListSortOrder:{default:"desc",type:"string"},homeDashboardListMode:{default:"list",type:"string"},homeEventsSortBy:{default:"date",type:"string"},homeEventsSortOrder:{default:"asc",type:"string"},projectSummaryMilestonesSortBy:{default:"date",type:"string"},projectSummaryMilestonesSortOrder:{default:"desc",type:"string"},"dashboard-message-collapsed":{default:!1,type:"boolean"},"dashboard-metrics-collapsed":{default:!1,type:"boolean"},"dashboard-user-metrics-collapsed":{default:!1,type:"boolean"},"dashboard-projects-collapsed":{default:!1,type:"boolean"},"has-created-first-dashboard":{default:!1,type:"boolean"},"home-today-show-tasks":{default:!0,type:"boolean"},"home-today-show-milestones":{default:!0,type:"boolean"},"home-today-show-events":{default:!0,type:"boolean"},"home-today-include-late-milestones":{default:!0,type:"boolean"},"home-today-include-upcoming-milestones":{default:!0,type:"boolean"},"home-today-only-attended-events":{default:!1,type:"boolean"},"home-today-include-followed-tasks":{default:!1,type:"boolean"},defaultDashboardId:{default:0,type:"number"},hiddenDashboardIds:{default:[],type:"array"},"activity-report-date-range":{default:"7",type:"string"},"activity-report-person":{default:"0",type:"string"},"activity-report-people":{default:[],type:"array"},"activity-report-items":{default:"0",type:"string"},allCommentsSortOrder:{default:"desc",type:"string"},"all-files-listMode":{default:"list",type:"string",accepted:["list","expanded","cards"]},"all-messages-mode":{default:"small",type:"string"},allTimeLogTimeLastProjectId:{default:0,type:"number"},"billing-export-default":{default:"html",type:"string"},"billing-time-time-filter-billable-type":{default:"all",type:"string"},"billing-time-time-filter-invoiced-type":{default:"all",type:"string"},"billing-time-time-filter-start-date":{default:"-1weeks",type:"moment"},"billing-time-time-filter-end-date":{default:"today",type:"moment"},"billing-time-time-filter-selected-range":{default:"",type:"string"},"billing-time-time-filter-sort-by":{default:"date",type:"string"},"billing-time-time-filter-sort-order":{default:"asc",type:"string"},"billing-time-time-filter-user-info":{default:"",type:"string"},"billing-expenses-time-filter-billable-type":{default:"all",type:"string"},"billing-expenses-time-filter-invoiced-type":{default:"all",type:"string"},"billing-expenses-time-filter-start-date":{default:"-1weeks",type:"moment"},"billing-expenses-time-filter-end-date":{default:"today",type:"moment"},"billing-expenses-time-filter-selected-range":{default:"",type:"string"},"billing-expenses-time-filter-sort-by":{default:"date",type:"string"},"billing-expenses-time-filter-sort-order":{default:"asc",type:"string"},"billing-expenses-time-filter-user-info":{default:"",type:"string"},"budgetExceeded-dontShowAgain":{default:!1,type:"boolean"},"calendar-current-view":{default:"month",type:"string",accepted:["month","agendaWeek","agendaDay"]},"calendar-selected-typeId":{default:"0",type:"string"},"calendar-selected-projectId":{default:0,type:"number"},"calendar-selected-userId":{default:0,type:"number"},"calendar-show-tasks":{default:!0,type:"boolean"},"choose-task-include-completed":{default:!1,type:"boolean"},"comments-sortOrder":{default:"asc",type:"string"},"dashboard-events-range":{default:"7",type:"string",accepted:["7","14","31","93","365","1095"]},"dashboard-activity-list-mode":{default:"byproject",type:"string"},"dashboard-projects-display-option":{default:"full",type:"string"},"dashboard-onboarding-current-step":{default:"",type:"string"},"dashboard-onboarding-addProject":{default:!1,type:"boolean"},"dashboard-onboarding-addTask":{default:!1,type:"boolean"},"dashboard-onboarding-addLogo":{default:!1,type:"boolean"},"dashboard-onboarding-importData":{default:!1,type:"boolean"},"dashboard-onboarding-importData-complete":{default:!1,type:"boolean"},"dashboard-onboarding-inviteUsers":{default:!1,type:"boolean"},"dashboard-onboarding-joinWebinar":{default:!1,type:"boolean"},"dashboard-onboarding-editProfile":{default:!1,type:"boolean"},dashboardView:{default:"full",type:"string"},"default-currency-code":{default:"USD",type:"string"},"onboarding-locations":{default:[],type:"array"},"everything-comments-filter-comment-types":{default:["all"],type:"array"},"everything-comments-filter-notified":{default:["all"],type:"array"},"everything-comments-filter-posted-by":{default:["all"],type:"array"},"everything-comments-filter-project":{default:{name:"All Projects",value:"all"},type:"object"},"everything-comments-filter-status":{default:"all",type:"string",accepted:["all","read","unread"]},"everything-completedTasks-archived":{default:!1,type:"boolean"},"everything-completedTasks-dateType":{default:"COMPLETEDBETWEEN",type:"string"},"everything-completedTasks-endDate":{default:"today",type:"moment"},"everything-completedTasks-filterBy":{default:"assignedByAnyone",type:"string"},"everything-completedTasks-selected-range":{default:"",type:"string"},"everything-completedTasks-startDate":{default:"-1weeks",type:"moment"},"everything-completedTasks-type":{default:"COMPLETEDBY",type:"string"},"everything-completedTasks-userId":{default:"0",type:"string"},"everything-lastAccessedPage":{default:"",type:"string"},"everything-notebooks-filter-project":{default:"all",type:"string"},"everything-notebooks-list-mode":{default:"list",type:"string"},"everything-notebooks-order-by":{default:"date",type:"string"},"everything-notebooks-order-mode":{default:"asc",type:"string"},"everything-time-custom-report-selected-columns":{default:["date","project","whoLoggedTime","descriptionAndTags","attachedTaskList","startTime","endTime","isEntryBillable","hasEntryBeenBilled","timeTaken","hoursTaken"],type:"array"},"everything-time-filter-billable-type":{default:"all",type:"string"},"everything-time-filter-invoiced-type":{default:"all",type:"string"},"everything-time-filter-start-date":{default:"-1weeks",type:"moment"},"everything-time-filter-end-date":{default:"today",type:"moment"},"everything-time-filter-project-type":{default:"all",type:"string"},"everything-time-filter-user-info":{default:"",type:"string"},"everything-time-filter-selected-range":{default:"",type:"string"},featureAnnounceId:{default:"0",type:"string"},bannersDismissed:{default:[],type:"array"},"files-filter-people":{default:[],type:"array[int]"},"files-filter-searchText":{default:"",type:"string"},"files-filter-tags":{default:[],type:"array"},"files-listMode":{default:"list",type:"string",accepted:["list","expanded","cards"]},"filter-sidebar-selected-tab":{default:"filter",type:"string",accepted:["filter","saved"]},"filter-sidebar-visible":{default:!1,type:"boolean"},fromRedis:{default:!0,type:"boolean"},"gantt-autoSave":{default:!0,type:"boolean"},"gantt-showIntro":{default:!0,type:"boolean"},"gantt-showItemAssignees":{default:!0,type:"boolean"},"gantt-showItemDuration":{default:!0,type:"boolean"},"gantt-showItemName":{default:!0,type:"boolean"},"gantt-showItemBoardColumn":{default:!1,type:"boolean"},"gantt-showItemTags":{default:!1,type:"boolean"},"gantt-defaultDependencyDateAdjustmentMode":{default:"lazy",type:"string",accepted:["eager","none","lazy"]},"google-drive-default-linkin-access-rights":{default:"WRITER",type:"string",accepted:["WRITER","READER","NONE"]},hasSeenDeskPopup:{default:!1,type:"boolean"},"hide-welcome-modal":{default:!1,type:"boolean"},"hide-onboarding-modal":{default:!1,type:"boolean"},"include-me":{default:!1,type:"boolean"},onlyGlobalTeamsWithProjectMembers:{default:!1,type:"boolean"},"item-notifications-show-observers":{default:!1,type:"boolean"},"late-upcoming-display-option":{default:"1",type:"string"},"message-thread-sort":{default:"asc",type:"string"},"messages-filter-people":{default:[],type:"array[int]"},"messages-filter-searchText":{default:"",type:"string"},"messages-filter-tags":{default:[],type:"array"},"messages-mode":{default:"small",type:"string"},"messages-sort-mode":{default:"desc",type:"string"},"messages-sort":{default:"lastupdated",type:"string"},"milestones-filter-people":{default:[],type:"array[int]"},"milestones-filter-searchText":{default:"",type:"string"},"milestones-filter-tags":{default:[],type:"array"},moveItemLastProjectId:{default:0,type:"number"},moveItemLastTaskListId:{default:0,type:"number"},moveItemLastAction:{default:"move",type:"string",accepted:["move","copy"]},"notebook-print-include-comments":{default:!1,type:"boolean"},"notebook-print-include-description":{default:!1,type:"boolean"},"notebook-print-include-header":{default:!1,type:"boolean"},"notebook-print-include-tags":{default:!1,type:"boolean"},"notebooks-filter-people":{default:[],type:"array[int]"},"notebooks-filter-searchText":{default:"",type:"string"},"notebooks-filter-tags":{default:[],type:"array"},"notebooks-create-mode":{default:"HTML",type:"string"},notebookSendDiff:{default:!1,type:"boolean"},peopleListMode:{default:"list",type:"string"},peopleSortOrder:{default:"asc",type:"string"},peopleSortBy:{default:"firstName",type:"string",accepted:["firstName","lastName","title","dateAdded","company"]},"project-dropdown-open-section":{default:"quickAdd",type:"string",accepted:["quickAdd","jumpTo","manageProject"]},peopleQuicksearch:{default:"",type:"string"},peopleFirstLetter:{default:null,type:"string"},peopleCompaniesListMode:{default:"list",type:"string"},peopleCompaniesSortBy:{default:"name",type:"string"},peopleCompaniesSortOrder:{default:"asc",type:"string"},peopleCompaniesQuicksearch:{default:"",type:"string"},peopleCompaniesFirstLetter:{default:null,type:"string"},peopleLoginHistorySortBy:{default:"user",type:"string"},peopleLoginHistoryQuicksearch:{default:"",type:"string"},peopleLoginHistoryFirstLetter:{default:null,type:"string"},teamsListMode:{default:"table",type:"string"},"people-page-tasks-sort":{default:"duedate",type:"string"},"print-options-active-id":{default:"-1",type:"string"},productTourDismissed:{default:!1,type:"boolean"},"project-chart-selected-company":{default:"-1",type:"string"},"project-chart-selected-category":{default:"-1",type:"number"},"project-chart-include-sub-categories":{default:!1,type:"boolean"},"project-chart-selected-milestones":{default:"completed,upcoming,late",type:"string"},"project-chart-selected-project-type":{default:"all",type:"string"},"project-chart-zoom-level-min":{default:0,type:"number"},"project-chart-zoom-level-max":{default:0,type:"number"},"project-notebooks-list-mode":{default:"grid",type:"string"},"project-notebooks-order-by":{default:"date",type:"string"},"project-notebooks-order-mode":{default:"desc",type:"string"},"project-summary-settings-event-range":{default:"7",type:"string",accepted:["7","14","31","93","365"]},"project-summary-settings-include-observers":{default:!0,type:"boolean"},"project-summary-settings-time-range":{default:"1",type:"string",accepted:["y","t","1w","-1w","1m","-1m","-3m","-6m"]},"project-summary-tasks-sort":{default:"duedate",type:"string"},"project-summary-tasks-created-sort":{default:"dateadded",type:"string"},"project-summary-tasks-completed-sort":{default:"completedDateDESC",type:"string"},"project-summary-unread-comments-mine-only":{default:!1,type:"boolean"},"project-summary-unread-comment-types":{default:[],type:"array"},"project-summary-unread-messages-mine-only":{default:!1,type:"boolean"},"project-summary-breakdown-type":{default:"activeTasks",type:"string",accepted:["activeTasks","estimatedTime"]},"project-tasks-view-mode":{default:"list",type:"string",accepted:["list","board","gantt"]},"project-time-filter-billable-type":{default:"all",type:"string"},"project-time-filter-invoiced-type":{default:"all",type:"string"},"project-time-filter-start-date":{default:"-1weeks",type:"moment"},"project-time-filter-end-date":{default:"today",type:"moment"},"project-time-filter-selected-range":{default:"",type:"string"},"project-time-filter-user-info":{default:"",type:"string"},"projects-display":{default:"",type:"string"},"projects-portfolio-filter-searchText":{default:"",type:"string"},"projects-filter-searchText":{default:"",type:"string"},"projects-filter-tags":{default:[],type:"array"},projectsListListMode:{default:"grid",type:"string",accepted:["list","grid"]},"projects-listMode":{default:"list",type:"string",accepted:["list","cards"]},"summary-projects-listMode":{default:"list",type:"string",accepted:["list","grid"]},"projects-report-item-file-enabled":{default:"true",type:"boolean"},"projects-report-item-file-comments-enabled":{default:"true",type:"boolean"},"projects-report-item-invoices-enabled":{default:"true",type:"boolean"},"projects-report-item-links-enabled":{default:"true",type:"boolean"},"projects-report-item-link-comments-enabled":{default:"true",type:"boolean"},"projects-report-item-message-enabled":{default:"true",type:"boolean"},"projects-report-item-message-reply-enabled":{default:"true",type:"boolean"},"projects-report-item-milestone-enabled":{default:"true",type:"boolean"},"projects-report-item-milestone-comments-enabled":{default:"true",type:"boolean"},"projects-report-item-notebook-enabled":{default:"true",type:"boolean"},"projects-report-item-notebook-comments-enabled":{default:"true",type:"boolean"},"projects-report-item-task-enabled":{default:"true",type:"boolean"},"projects-report-item-task-comments-enabled":{default:"true",type:"boolean"},"projects-report-item-tasklist-enabled":{default:"true",type:"boolean"},"projects-report-type-completed-enabled":{default:"true",type:"boolean"},"projects-report-type-edited-enabled":{default:"true",type:"boolean"},"projects-report-type-liked-enabled":{default:"true",type:"boolean"},"projects-report-type-new-enabled":{default:"true",type:"boolean"},"projects-report-type-re-opened-enabled":{default:"true",type:"boolean"},"projects-sort-mode":{default:"DESC",type:"string"},"quick-add-time-last-project":{default:"{'id': '0', 'text': ''}",type:"string"},"quick-search-use-current-project-only":{default:!0,type:"boolean"},"has-seen-project-update-prompt":{default:!1,type:"boolean"},"has-seen-blog-subscribe-prompt":{default:!1,type:"boolean"},"has-seen-dashboard-prompt":{default:!1,type:"boolean"},"user-surveys":{default:{id:null,type:null,show:!1,seen:!1},type:"object"},"user-surveys-optout":{default:!1,type:"boolean"},"has-seen-home-welcome-modal":{default:!1,type:"boolean"},"risks-filter-showClosedRisks":{default:!1,type:"boolean"},"risks-filter-showOpenRisks":{default:!0,type:"boolean"},"risks-filter-showPendingRisks":{default:!0,type:"boolean"},"search-selected-project":{default:{id:"0",name:"All Projects"},type:"object"},"search-settings-tko":{default:"",type:"string"},"shortcuts-sort-by":{default:"name",type:"string"},"shortcuts-sort-order":{default:"ASC",type:"string"},showOnlyMyEvents:{default:!1,type:"boolean"},showOnlyMyItems:{default:!1,type:"boolean"},showOnlyStarredProjects:{default:!1,type:"boolean"},showWelcomeMat:{default:!1,type:"boolean"},showAllActiveTimers:{default:!0,type:"boolean"},"task-card-show-more-options":{default:!1,type:"boolean"},"task-templates-filter-people":{default:[],type:"array[int]"},"task-templates-filter-priority":{default:"",type:"string"},"task-templates-filter-searchText":{default:"",type:"string"},"task-templates-filter-tags":{default:[],type:"array"},"tasks-filter-people":{default:[],type:"array[int]"},"tasks-filter-priority":{default:"",type:"string"},"tasks-filter-searchText":{default:"",type:"string"},"tasks-filter-tags":{default:[],type:"array"},"task-dropdown-show-advanced":{default:!1,type:"boolean"},"task-push-dependent-tasks":{default:!0,type:"boolean"},"task-push-sub-tasks":{default:!0,type:"boolean"},"task-push-on-update":{default:"all",type:"string"},"task-quick-view-display-description":{default:!1,type:"boolean"},"task-template-notify-everyone":{default:!1,type:"boolean"},"task-template-skip-weekends":{default:!1,type:"boolean"},"tasklist-dropdown-show-advanced":{default:!1,type:"boolean"},"tasklists-completed-count":{default:10,type:"number"},"time-default-billable":{default:!1,type:"boolean"},"time-default-minutes":{default:30,type:"number"},"time-default-timeSpent":{default:n.duration(30,"minutes"),type:"duration"},"time-filter-userId":{default:0,type:"number"},"todays-tasks-display-option":{default:"0",type:"string"},useStartDatesForTodaysTasks:{default:!1,type:"boolean"},"use-compact-navigation":{default:"false",type:"boolean"},"use-desktop-notifications":{default:!1,type:"boolean"},useAdvancedMarkdownEditor:{default:!0,type:"boolean"},webBNotifsOn:{default:!0,type:"boolean"},quicklyAddTasksLastProjectId:{default:0,type:"number"},quicklyAddTasksLastTasklistId:{default:0,type:"number"},"last-seen-announcement":{default:"",type:"string"},copyProjectTasks:{default:!0,type:"boolean"},copyProjectTaskLists:{default:!0,type:"boolean"},copyProjectMilestones:{default:!0,type:"boolean"},copyProjectMessages:{default:!0,type:"boolean"},copyProjectFiles:{default:!0,type:"boolean"},copyProjectLinks:{default:!0,type:"boolean"},copyProjectNotebooks:{default:!0,type:"boolean"},copyProjectTimelogs:{default:!0,type:"boolean"},copyProjectInvoices:{default:!0,type:"boolean"},copyProjectExpenses:{default:!0,type:"boolean"},copyProjectRisks:{default:!0,type:"boolean"},copyProjectPeople:{default:!0,type:"boolean"},copyProjectKeepOffWeekends:{default:0,type:"number"},copyProjectCreateActivityLog:{default:!0,type:"boolean"},copyProjectCreateItemsUsingCurrentUser:{default:!0,type:"boolean"},copyProjectUncompleteItems:{default:!1,type:"boolean"},copyProjectCopyComments:{default:!0,type:"boolean"},copyProjectCopyFollowers:{default:!0,type:"boolean"},copyProjectCopyProjectRoles:{default:!0,type:"boolean"},copyProjectCopyProjectUpdates:{default:!0,type:"boolean"},copyProjectPrivacy:{default:!0,type:"boolean"},copyProjectBudgets:{default:!0,type:"boolean"},enableNewDashboard:{default:!0,type:"boolean"},teamsEnabled:{default:!1,type:"boolean"},"is-showing-filter-suggestions":{default:!0,type:"boolean"}},i={};for(p in o)r=o[p],s=t.camelize(p),r.serverName=p,r.name=s,i[s]=r;return l=function(e){return function(e){var t,r;if("string"==(r=typeof e)||"boolean"===r||"number"===r)return""+e;if(n.isDuration(e))return""+e.asMinutes();if(n.isMoment(e))return e.toISOString();if(!Array.isArray(e)&&"object"!=typeof e)return console.warn("UserPreferences.serializeValue: Unsupported type. Returning an empty string."),"";try{return JSON.stringify(e)}catch(e){return t=e,console.error("UserPreferences.serializeValue: JSON.stringify failed.",t),""}}}(),a=function(e,t,r,i){var o,a,s;if(null==i&&(i=[]),"null"===e)return null;switch(i.length&&-1===i.indexOf(e)&&(e=i[0]),t){case"boolean":switch(typeof e){case"boolean":return e;case"string":return"yes"===(s=e.toLowerCase())||"true"===s||"1"===s;default:return!!e}break;case"number":return a=parseInt(e,10),isNaN(a)?r:a;case"duration":return n.isDuration(e)?e:(a=parseInt(e,10),isNaN(a)||a<0?r:n.duration(a,"minutes"));case"moment":return n.isMoment(e)?e:("today"===r?r=n().startOf("day"):"-1weeks"===r&&(r=n().startOf("day").subtract("1","weeks")),o="string"==typeof e?"today"===e?n().startOf("day"):"-1weeks"===e?n().startOf("day").subtract("1","weeks"):n(new Date(e)):n(e),o.isValid()?o:r);case"array[int]":if("string"==typeof e)try{e=JSON.parse(e)}catch(t){t,e=r}return Array.isArray(e)?e.map(Number):r;case"array":if("string"==typeof e)try{e=JSON.parse(e)}catch(t){t,e=r}return Array.isArray(e)?e:r;case"object":if(("{}"===e||"[]"===e||Array.isArray(e))&&(e=r),"string"==typeof e)try{e=JSON.parse(e)}catch(t){t,e=r}return"object"==typeof e?e:r;case"string":return null!=e?""+e:r;default:return console.warn("UserPreferences.convertValue: Unsupported type. Returning default value. type =",t),r}},function(){function t(e){this.subscriptions=[],this.Update(e)}return t.prototype.Update=function(t){var n,o,l,p,u;this.updatingPreferences=!0,o={};for(s in i)r=i[s],o[s]=r.default;for(s in t)u=t[s],o[s]=u;for(s in o)u=o[s],r=null!=(l=i[s])?l:{name:s,serverName:s,default:"",type:"string"},n=null!=(p=r.accepted)?p:[],console.assert(null!=r.type,"Preference type must be specified"),console.assert(void 0!==r.default,"Preference default value must be specified"),"boolean"!==r.type||"null"!==u&&null!=u||(u=r.default),u=a(u,r.type,r.default,n),e.isObservable(this[s])?this[s](u):this._initPreference(r,u);return e.tasks.schedule(function(e){return function(){return e.updatingPreferences=!1}}(this))},t.prototype._initPreference=function(t,n){return this[t.name]=Array.isArray(n)?e.observableArray(n):e.observable(n),this.subscriptions.push(this[t.name].subscribe(function(n){return function(r){if(!n.updatingPreferences)return"boolean"===t.type&&"boolean"!=typeof r?void n[t.name](t.default):(["showOnlyStarredProjects","showOnlyMyItems","useStartDatesForTodaysTasks","showOnlyMyEvents"].indexOf(t.name)>-1&&e.postbox.publish("dashboard-filter-updated",{}),n._setPreference(t,r))}}(this)))},t.prototype._setPreference=function(t,n){return null==this._preferencesToPersist&&(this._preferencesToPersist={}),this._preferencesToPersist[t.serverName]=l(n),e.tasks.schedule(function(e){return function(){if(null!=e._preferencesToPersist)return app.hybrid.apiDispatch("preferences/hybrid-persist",{prefs:e._preferencesToPersist,scope:"user"}),e._preferencesToPersist=null}}(this))},t.prototype.dispose=function(){this.subscriptions.forEach(function(e){return e.dispose()})},t}()}.apply(t,r))&&(e.exports=i)},4461:function(e,t,n){var r,i,o=function(e,t){return function(){return e.apply(t,arguments)}};r=[],void 0!==(i=function(){return function(){function e(e){this.OnTWEvent=o(this.OnTWEvent,this),this.subscriptions=[],this.cacheKey="twProjects-inline-help-skips",this.trialProgress=e,this.skips=ko.observableArray(app.cache.get(this.cacheKey)||[]),this.show=function(e){return function(t){return!e.trialProgress().includes(t)&&!e.skips().includes(t)}}(this),this.subscriptions.push(app.ko.postbox.subscribe("allTWEvents",this.OnTWEvent))}return e.prototype.skipThisHelp=function(e){if(!~this.skips.indexOf(e))return this.skips.push(e),app.cache.set(this.cacheKey,this.skips())},e.prototype.OnTWEvent=function(e){if(e.actionType===app.consts.ACTIONTYPE.ADDED)switch(e.itemType){case"task":this.skipThisHelp("task");break;case"person":this.skipThisHelp("invite");break;case"taskList":this.skipThisHelp("tasklist");break;case"project":this.skipThisHelp("project");break;case"milestone":this.skipThisHelp("milestone")}if(e.actionType===app.consts.ACTIONTYPE.UPDATED&&("task_comment"===e.itemType&&this.skipThisHelp("comment"),"milestone"===e.itemType))return this.skipThisHelp("milestoneLink")},e}()}.apply(t,r))&&(e.exports=i)},4463:function(e,t,n){var r,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=[n(164),n(1133),n(1120),n(4456),n(1119),n(245),n(1175),n(1912)],void 0!==(i=function(e,t,n,r,i,s,l){return function(n){function i(t){this.GetWeekNumberString=o(this.GetWeekNumberString,this),this.GetWeekString=o(this.GetWeekString,this),this.ToggleClockIn=o(this.ToggleClockIn,this),this.ShowLinkedAccounts=o(this.ShowLinkedAccounts,this),this.ensureCorrectDataAndTypes=o(this.ensureCorrectDataAndTypes,this);var n,a,s,p,u,d;console.assert(void 0!==t),console.assert(null!=t.preferences),this.subscriptions=[],this.subscriptions.push(this.preferences=new r(t.preferences)),this.defaultFilters={},u=null!=(p=t.defaultFilters)?p:{};for(d in u)s=u[d],this.defaultFilters[d]=new l(s);delete t.preferences,delete t.defaultFilters,null==t.canAccessSpaces&&(t.canAccessSpaces=!1),null==t.canAccessCRM&&(t.canAccessCRM=!1),null==(n=t.permissions).canAccessPortfolio&&(n.canAccessPortfolio=!1),null==(a=t.permissions).canAccessCalendar&&(a.canAccessCalendar=!1),null==t.marketoId&&(t.marketoId=0),t.marketoId=parseInt(t.marketoId,10),i.__super__.constructor.call(this,t),this.ensureCorrectDataAndTypes(),this.statsLoaded=e.observable(!1),this.GetStats(!0),this.isAccount()&&this.permissions.canAccessCalendar(!0),this.GetIntegrations(),null!=this.preferences.teamsEnabled&&this.subscriptions.push(this.preferences.teamsEnabled.subscribe(function(e){return function(e){return e?console.info("Reloading to enable teams"):console.info("Reloading to disable teams"),document.location.reload()}}())),this.subscriptions.push(this.hasStarredProjects=e.pureComputed(function(e){return function(){return!!e.statsLoaded()&&app.loggedInUser.stats.projects.starred()>0}}(this))),this.subscriptions.push(e.postbox.subscribe("allTWEvents",function(e){return function(t){var n;if("project"===t.itemType&&("starred"===(n=t.subType)||"unstarred"===n))return e.GetStats(!1)}}(this)))}return a(i,n),i.prototype.Update=function(t){var n,r,i,o,a;this.preferences.Update(t.preferences),o=null!=(i=t.defaultFilters)?i:{};for(a in o)n=o[a],null!=this.defaultFilters[a]?this.defaultFilters[a].Update(n):this.defaultFilters[a]=new l(n);r=Object.assign({},this.mapping,{ignore:["preferences","defaultFilters"]}),e.mapping.fromJS(t,r,this),this.ensureCorrectDataAndTypes()},i.prototype.ensureCorrectDataAndTypes=function(){var t;this.id(parseInt(this.id(),10)),this.lengthOfDay(parseFloat(this.lengthOfDay(),10)),this.userInvited(parseInt(this.userInvited(),10)),null!=this.companyId&&this.companyId(parseInt(this.companyId(),10)),null!=this.teamIds&&this.teamIds(this.teamIds().map(Number)),null!=this.localization&&(this.localization.timezoneId(parseInt(this.localization.timezoneId(),10)),this.localization.timezoneUTCOffsetMins(parseInt(this.localization.timezoneUTCOffsetMins(),10)),this.localization.dateFormatId(parseInt(this.localization.dateFormatId(),10)),this.localization.timeFormatId(parseInt(this.localization.timeFormatId(),10)),this.localization.timeFormat(this.localization.timeFormat().replace("tt","A")),this.localization.timeDiff(parseInt(this.localization.timeDiff(),10)),null!=this.localization.languageCode&&this.localization.languageCode(this.localization.languageCode().toUpperCase())),null!=this.impersonatingPreviousUserId&&this.impersonatingPreviousUserId(parseInt(this.impersonatingPreviousUserId(),10)),null==this.privateNotes&&this.privateNotes(""),null==this.privateNotesText&&this.privateNotesText(""),null==this.timeFormatString&&(this.timeFormatString=app.ko.observable("")),1===this.localization.timeFormatId()?this.timeFormatString("dddd, MMMM Do YYYY, h:mm:ss a"):this.timeFormatString("dddd, MMMM Do YYYY, HH:mm:ss"),"h:mmtt"===this.localization.timeFormat().toLowerCase()&&this.localization.timeFormat("h:mmA"),"hh:mm"===this.localization.timeFormat().toLowerCase()&&this.localization.timeFormat("HH:mm"),this.localization.dateFormat(this.localization.dateFormat().toUpperCase()),"EN"===("function"==typeof(t=this.localization).languageCode?t.languageCode():void 0)?this.localization.ellipsis="\u2026":this.localization.ellipsis="",null==this.preferences.showWelcomeMat&&(this.preferences.showWelcomeMat=e.observable(!1)),null!=this.inOwnerCompany&&("string"==typeof this.inOwnerCompany()?this.inOwnerCompany(1===parseInt(this.inOwnerCompany(),10)):"number"==typeof this.inOwnerCompany()&&this.inOwnerCompany(1===this.inOwnerCompany()),this.inOwnerCompany()&&(this.canAccessSpaces(!0),this.canAccessCRM(!0)))},i.prototype.OnLanguagePackLoaded=function(){var e,t,n;null!=this.localization.languageCode&&"EN"!==this.localization.languageCode()&&(t=this.localization.languageCode().toLowerCase(),"AR"!==(n=!this.localization.languageCode())&&"BN"!==n&&"HI"!==n&&"FA"!==n||moment.locale(t)!==t&&moment.locale(t,{months:[app.tl("january"),app.tl("february"),app.tl("march"),app.tl("april"),app.tl("may"),app.tl("june"),app.tl("july"),app.tl("august"),app.tl("september"),app.tl("october"),app.tl("november"),app.tl("december")],monthsShort:[app.tl("jan"),app.tl("feb"),app.tl("mar"),app.tl("apr"),app.tl("may"),app.tl("jun"),app.tl("jul"),app.tl("aug"),app.tl("sept"),app.tl("oct"),app.tl("nov"),app.tl("dec")],weekdays:[app.tl("sunday"),app.tl("monday"),app.tl("tuesday"),app.tl("wednesay"),app.tl("thursday"),app.tl("friday"),app.tl("saturday")],weekdaysShort:[app.tl("sun"),app.tl("mon"),app.tl("tues"),app.tl("wed"),app.tl("thur"),app.tl("fri"),app.tl("sat")],calendar:{sameDay:app.tl("Today"),nextDay:app.tl("Tomorrow"),nextWeek:app.tl("Next Week"),lastDay:"["+app.tl("Yesterday at")+"] LT",sameElse:"L"},relativeTime:{future:app.tl("in [_s]").replace("[_s]","%s"),past:app.tl("[_s] ago").replace("[_s]","%s"),s:app.tl("seconds"),m:app.tl("a minute"),mm:app.tl("[_s] minutes").replace("[_s]","%d"),h:app.tl("an hour"),hh:app.tl("[_s] hours").replace("[_s]","%d"),d:app.tl("a day"),dd:app.tl("[_s] days").replace("[_s]","%d"),M:app.tl("a month"),MM:app.tl("[_s] months").replace("[_s]","%d"),y:app.tl("a year"),yy:app.tl("[_s] years").replace("[_s]","%d")}}),s&&s.fn&&s.fn.select2&&s.fn.select2.amd&&(e=this.localization.ellipsis,s.fn.select2.amd.define("select2/i18n/"+t,[],function(){return{errorLoading:function(){return app.tl("The results could not be loaded.")},inputTooLong:function(e){var t;return t=e.input.length-e.maximum,1===t?app.tl("Please delete one character"):app.tl("Please delete [_s] character",t)},inputTooShort:function(e){var t;return t=e.minimum-e.input.length,app.tl("Please enter [_s] or more characters",t)},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(e){return app.tl("You can only select [_s] item",e.maximum)},noResults:function(){return app.tl("No Results Found")},searching:function(){return app.tl("Searching")+e}}}),s.fn.select2.defaults.set("language",t)))},i.prototype.GetStats=function(n){var r;null==n&&(n=!0),r=this.preferences.showOnlyStarredProjects(),app.hybrid.apiDispatch("stats/reload").then(function(n){return function(i){var o,a,s,l,p;o=i.response,console.assert("object"==typeof o.stats),console.assert("object"==typeof o.stats.tasks),console.assert("object"==typeof o.stats.milestones),console.assert("object"==typeof o.stats.projects),0===parseInt(o.stats.projects.starred,10)&&n.preferences.showOnlyStarredProjects(!1);for(p in o.stats)for(a in o.stats[p])"boolean"!=typeof o.stats[p][a]&&(o.stats[p][a]=parseInt(o.stats[p][a],10));return null==n.stats&&(n.stats={}),t.fromJS(o.stats,{},n.stats),n.stats.users={count:e.observable(~~(null!=(s=o.stats.users)?s.count:void 0)),clockedIn:e.observable(~~(null!=(l=o.stats.users)?l.clockedIn:void 0))},n.stats.forStarred?n.stats.forStarred(r):n.stats.forStarred=e.observable(r),n.statsLoaded(!0)}}(this))},i.prototype.ShowLinkedAccounts=function(){app.modal.Show("linkedAccounts",{userId:this.id()})},i.prototype.ToggleClockIn=function(){var e,t,n;return t=!this.isClockedIn(),e={info:""},n=t?"./me/clockin.json":"./me/clockout.json",app.api.post(n,e).then(function(e){return function(n){var r,i;return i=t?app.tl("Clocked In"):app.tl("Clocked Out"),app.flash.Success(i+" - <a href='#/people/"+app.loggedInUser.id()+"/time'>"+app.tl("View Clock Ins")+"</a>"),e.isClockedIn(t),r={eventTime:new Date,itemType:"clockin",actionType:t?app.consts.ACTIONTYPE.ADDED:app.consts.ACTIONTYPE.UPDATED,subType:t?"clockin-clockedin":"clockin-clockedout",extraInfo:{userId:e.id()}},null!=n.id&&(r.itemId=n.id),app.ko.postbox.publish("allTWEvents",r)}}(this))},i.prototype.GetWeekString=function(){return this.localization.startOnSunday()?"week":"isoweek"},i.prototype.GetWeekNumberString=function(){return this.localization.startOnSunday()?"w":"W"},i.prototype.dispose=function(){this.subscriptions.forEach(function(e){return e.dispose()})},i}(n)}.apply(t,r))&&(e.exports=i)},4467:function(e,t,n){(function(r,i){var o,a,s=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};o=[n(164),n(3537),n(3540),n(165),n(1118),n(1119),n(1918)],void 0!==(a=function(e,t,n,o,a,l,p){var u,d,c,f;return d={homePageTab:["welcome","dashboards","work","activity","projects","comments","messages","events"],dashboardPageTab:["welcome","activity","latetasks","todaystasks","upcomingtasks","latemilestones","todaysmilestones","upcomingmilestones","upcomingevents"],everythingPageTab:["tasks","completedTasks","milestones","messages","comments","notebooks","files","links","time","risks","billing","workload"],everythingPageMilestonesTab:["all","upcoming","late","completed","calendar"],reportingPageTab:["reports","tasks","completedTasks","milestones","messages","comments","notebooks","files","links","time","risks","billing","workload"],reportingPageMilestonesTab:["all","upcoming","late","completed","calendar"],projectsPageTab:["active","starred","current","late","upcoming","completed","archived","chart","portfolio","templates"],teamPageTab:["members","statuses","subteams","projects"],companyPageTab:["profile","people","teams","loggedtime","projects"],peoplePageTab:["companies","people","teams","loginHistory","statuses"],personPageTab:["details","projects","tasks","events","teams","boards","completed","milestones","time","integrations","activity"],statusesPageTab:["overview","timeline"],settingsPageTab:["general","logo","templates","colortheme","customfields","integrations","beta","referral","import","export","email","forms","webhooks","sso","tags","subscription","invoicehistory"],referralPageTab:["about","latest","banners","tips","terms","classic"],workloadPageTab:["overview","planner"],integrationsPageTab:["all","teamwork","cloud","productivity","apps","accounting","connectors","partner"],personIntegrationsPageTab:["all","productivity","apps","accounting","connectors","other","partner"],projectTab:["overview","tasks","tasklists","gantt","milestones","messages","files","time","notebooks","risks","links","billing","comments","people","settings","report","roles","workload"],projectOverviewTab:["summary","activity"],projectTasksTab:["board"],projectMilestonesTab:["all","upcoming","late","completed","calendar","0-9"],projectMessagesTab:["create","0-9"],projectNotebooksTab:["create","0-9"],projectBillingTab:["open","completed"],projectPeopleTab:["people","teams","roles"],projectSettingsTab:["general","integrations","forms","notifications","tags"]},u=function(r){var i,o;t.shouldTypecast=!0,t.ignoreState=!0,i=this.currentRoute=e.observable({}),i.subscribe(function(e){return function(t){if(null!=t)return e.maxRedirectHops=0,app.onUpdateRoute(t)}}(this)),this.project=null,this.projectId=null,this.maxRedirectHops=0,this.acceptedRoutes=d,this.configuredRoutes=r.routes,this.configuredRoutes=r.routes,o=function(e){return function(t){var n,r,i,o,a,l,p,u,f,h,m,g,y,b,v,w,k,T,I,C,x,S,j,O,P,_,D,A,E;if(null==t&&(t={}),D=null!=(y=t.tab)?y:null,A=null!=(b=t.type)?b:null,n=null!=(v=t.cacheKey)?v:null,h=null!=(w=t.permission)?w:null,j=null!=(k=t.requestParams)?k:null,a=null!=D?d[D][0]:"",E=null!=(T=j.request_)?T:"",O=null!=(I=j[D])?I:"",_=E.length&&"/"===E[E.length-1],P=!1,g="",m=E.split("?"),m.length>1&&(E=m[0],g="?"+m[1]),null!=h&&"function"==typeof h&&!h(j))return console.info("Blocked request is:",j),j.request_.includes("/portfolio")||j.request_.includes("/chart")||j.request_.includes("/archived")||j.request_.includes("/templates")?{url:"projects/list/active",redirect:!0}:"loggedtime"===(C=j.companyPageTab)||"projects"===C?{url:"companies/"+j.companyId+"/profile",redirect:!0}:"settingsPageTab"in j&&(!app.loggedInUser.administrator()||!app.loggedInUser.inOwnerCompany())&&app.loggedInUser.permissions.canManageCustomFields()&&(app.featureFlip.check("customfieldsprojects",{unwrap:!0})||app.featureFlip.check("customfieldstasks",{unwrap:!0}))?{url:"settings/customfields",redirect:!0}:(app.flash.Warn(app.tl("You don't have permission to view this page")),{url:"project"===A?"projects/"+e.projectId+"/overview":"dashboard/activity",redirect:!0});if(""===E||"/"===E)return{url:"dashboard/activity",redirect:!0};if(null!=c.project&&app.enforceProject()&&null!=("function"==typeof app.enforceProjectId?app.enforceProjectId():void 0)&&-1!==app.enforceProjectId()&&app.enforceProjectId()!==c.project.id())return app.flash.Warn(app.tl("Sorry, you're unable to switch between projects when on an embedded project")),{url:"projects/"+app.enforceProjectId(),redirect:!0};if(app.account&&"gantt"===E.slice(-5)&&"tasks/gantt"!==E.slice(-11)&&app.featureFlip.check("newgantt",{unwrap:!0}))return{url:"projects/"+e.projectId+"/tasks/gantt",redirect:!0};if(E.startsWith("statuses"))return{url:"people/statuses",redirect:!0};if(null!=D){if("projects"===n&&null!=c.project&&!isNaN(parseInt(j.projectsPageTab,10)))return{url:"projects/"+c.project.id()+"/"+c.project.startPage(),redirect:!0};if(s.call(d[D],"0-9")>=0&&!isNaN(parseInt(j[D],10)))return{url:""+E+g,redirect:!1};if("overview"===n&&(null==j.projectOverviewTab||"summary"===(x=!j.projectOverviewTab)||"activity"===x))return p="overview/summary",o=c.project.overviewStartPage(),"default"===o?"summary"!==(f=null!=(S=app.cache.get("last-overview-section"))?S:"summary")&&"activity"!==f||(p="overview/"+f):p="overview/"+o,{url:"projects/"+c.project.id()+"/"+p,redirect:!0};if(i=!0===app.loggedInUser.permissions.canManagePeople()||parseInt(j.personId,10)===app.loggedInUser.id(),u=app.loggedInUser.administrator(),r=app.cache.get(null!=n?"last-"+n+"-section":"last-"+D.replace("PageTab","")+"-section"),""===O&&null!=r&&-1===r.indexOf("undefined"))return"personPageTab"===D&&!0!==i&&(r="details"),"peoplePageTab"!==D||"loginHistory"!==r||u||(r="companies"),{url:E+"/"+r+g,redirect:!0};if(s.call(d[D],O)>=0||(E=""===O?E+(_?"":"/")+a:E.replace(O,a),P=!0),"personPageTab"===D){if("integrations"===j.personPageTab&&parseInt(j.personId,10)!==app.loggedInUser.id())return{url:"people/"+j.personId+"/details",redirect:!0};if("details"!==j.personPageTab&&!i)return window.devMode&&(l=app.loggedInUser.firstName()+" "+app.loggedInUser.lastName(),console.info("User "+l+", "+app.loggedInUser.id().toString()+" doesn't have permissions to access: ",E)),app.flash.Warn(app.tl("You don't have permission to view this page.")),{url:"people/"+j.personId+"/details",redirect:!0}}}return{url:E+g,redirect:P}}}(this),e.utils.arrayForEach(r.routes,function(r){return function(a){var s,l,p,u,d,c;if(null==(l=a.params).isLoggedInPage&&(l.isLoggedInPage=!0),null==(p=a.params).canViewFullScreen&&(p.canViewFullScreen=!1),null==(u=a.params).hasHeader&&(u.hasHeader=!0),null==(d=a.params).hasFooter&&(d.hasFooter=!0),s=a.url+(a.url.includes(":?queryString:")?"":":?queryString:"),c=t.addRoute(s,function(s){var l,p,u,d,c,f,h,m,g;return null!=s.projectURLCode&&(s.projectId=r.projectId,s.project=r.project,null===s.project)?(null==window.app||null==window.app.loggedInUser||0===window.app.loggedInUser.id()?app.flash.Info("Hold on, you need to log in first!"):app.flash.Error("Error loading project"),!1):(null!=s.personId&&(s.personId=parseInt(s.personId,10)),null!=a.validate&&(g=o({tab:null!=(u=a.validate.tab)?u:null,type:null!=(d=a.validate.type)?d:"",permission:null!=(c=a.validate.permission)?c:null,cacheKey:null!=(f=a.validate.cacheKey)?f:null,requestParams:s}),g.redirect)?void(n.getURL().endsWith(n.getHash())||n.getHash().startsWith(r.oldHash)?n.replaceHash(g.url):n.setHash(g.url)):"-startPageRedirect-"===a.params.page?void(null==(null!=(h=window.app)?h.loggedInUser:void 0)||0===window.app.loggedInUser.id()?app.redirectToLogin():(m="activity",l="dashboard/"+m,n.replaceHash(l),t.parse(l))):(null!=s["?queryString"]&&(p=s["?queryString"],null!=(null!=p?p.catId:void 0)&&(s.categoryId=e.observable(parseInt(p.catId,10))),null!=(null!=p?p.catid:void 0)&&(s.categoryId=e.observable(parseInt(p.catid,10))),null!=(null!=p?p.c:void 0)&&(s.commentId=parseInt(p.c,10)),s.queryParams=p,s.request_=s.request_.split("?")[0]),null==s.categoryId&&(s.categoryId=e.observable(-1)),i(e.utils.extend(s,a.params)),void app.hybrid.store.dispatch("project/current",i().projectId)))}),null!=a.rules)return c.rules=a.rules}}(this)),t.bypassed.add(function(e){var r,i,o;if(null!=app.loggedInUser)return console.error("Route not found:",e),r="dashboard/activity",i=!0,0===e.indexOf("search/")&&(o=e.replace("search/",""),r="search/"+o.replace(/\//g,"%2F"),i=!1),i&&app.flash.Error(app.tl("Page not found")),n.replaceHash(r),t.parse(r)}),this.hasher=n},u.prototype.init=function(){return t.normalizeFn=t.NORM_AS_OBJECT,n.initialized.add(this.parseHash.bind(this)),n.changed.add(this.parseHash.bind(this)),n.init(),this.maxRedirectHops=0},u.prototype.parseHash=function(e,n){if(this.maxRedirectHops>10)return app.flash.Error(app.tl("Sorry, an error has occurred accessing this content.")),console.error("Router max redirects"),void(this.maxRedirectHops=0);this.maxRedirectHops++,this.oldHash=n,this.intercept(e,n)||(t.parse(e),this.oldHash=null)},u.prototype.loadProject=function(e){return app.projectInfo.findByProjectId(e).then(function(t){return function(t){var n,r,i;return i=t.response,r=i.project,null!=i.customFields&&(r.customFields=app.customFieldsHelper.normalizeFields(i.customFields,i.project.customFields)),n=new a(r),null==app.cachedProjects&&(app.cachedProjects={}),app.cachedProjects[e]=n}}()).catch(function(e){return function(e){return app.error.Ajax(e,{redirect:!0,custom404Text:app.tl("Sorry, either that project does not exists or you do not have permission to access it.")})}}())},u.prototype.setHashSilently=function(e){var n;if(n=!1,null==e&&(n=!0,e="dashboard"),this.hasher.changed.active=!1,this.hasher.setHash(e),this.hasher.changed.active=!0,n)return t.parse(e)},u.prototype.intercept=function(e,o){var s,l,u,d,c,f,h,m,g,y,b,v,w,k,T,I,C,x,S,j,O;if(r(".hasChanged").length)return this.setHashSilently(o),s=function(t){return function(n){if(n)return Lightbox.closeAll(),app.utility.IgnoreFormChanges(),t.hasher.setHash(e)}}(this),r(".hasChanged").confirmCancel({callback:s}),!0;if(Lightbox.closeAll(),v="",b=e.split("?"),d=b[0],b.length>1&&(v="?"+b[1]),app.enforceProject()&&!o&&0===e.indexOf("projects/")&&app.enforceProjectId(parseInt(e.split("/")[1],10)),app.enforceProject()&&0===(null!=o?o.indexOf("projects/"):void 0)&&("people"===(w=e.split("/")[0])||"companies"===w||"task-templates"===w||"categories"===w||"portfolio"===(k=e.split("/")[1])||"chart"===k||"active"===k||0===e.indexOf("projects/active")))return app.flash.Warn(app.tl("Sorry, you're unable to leave a project when on an embedded project")),this.setHashSilently(o),!0;if(app.enforceProject()&&("tasklists"===(T=null!=o?o.split("/")[0]:void 0)||"tasks"===T||"gantt"===T||"milestones"===T||"messages"===T||"files"===T||"notebooks"===T||"links"===T)&&("people"===(I=e.split("/")[0])||"companies"===I))return app.flash.Warn(app.tl("Sorry, you're unable to leave a project when on an embedded project")),this.setHashSilently(o),!0;if(("login"===(C=e.split("/")[0])||"forgotpassword"===C)&&(null!=(x=window.app.loggedInUser)?x.id():void 0)>0)return this.setHashSilently(o),!0;if("login"!==(S=e.split("/")[0])&&"forgotpassword"!==S&&"changepassword"!==S&&(null!=window.app.loggedInUser&&0===window.app.loggedInUser.id()||null==window.app||null==window.app.loggedInUser))return void("login"===o&&window.location.reload());if(""===d&&v.match(/PPBAID/)&&v.match(/PPBLINK/))return e="home/work"+v,n.replaceHash(e),t.parse(e),!0;if(-1===["projects","tasklists","tasks","gantt","milestones","messages","files","notebooks","links","test","embed"].indexOf(e.split("/")[0]))return t.parse(e),!0;if(0!==e.indexOf("projects/")||isNaN(parseInt(e.split("/")[1],10))){if("projects"===e||0===e.indexOf("projects/")&&isNaN(parseInt(e.split("/")[1],10)))return t.parse(e),!0}else if(y=parseInt(e.split("/")[1],10))return app.enforceProject()&&null!=("function"==typeof app.enforceProjectId?app.enforceProjectId():void 0)&&-1!==app.enforceProjectId()&&app.enforceProjectId()!==y?(app.flash.Warn(app.tl("Sorry, you can not switch to a different project when embedded")),this.setHashSilently(o),!0):(g=app.FindProjectById(y),null==g?(this.loadProject(y).then(function(r){return function(i){var o;return null==(null!=i?i.status:void 0)||"deleted"===i.status()||"tasklists-template"===i.type()?(e="dashboard/activity",n.replaceHash(e),void t.parse(e)):(r.project=i,r.projectId=y,o=e.split("/"),o.length<=2||3===o.length&&""===o[2]?(e="projects/"+y+"/"+i.startPage(),n.replaceHash(e),!0):t.parse(e))}}(this)),!0):(this.project=g,this.projectId=y,t.parse(e),!0));return c=0,h=i.grep(["tasklists","tasks","gantt","milestones","messages","files","notebooks","links"],function(t){if(0===e.indexOf(t+"/"))return c=parseInt(e.split("/")[1],10)}),0!==h.length&&(f=h[0],m=function(){switch(f){case"tasklists":return"task list";default:return f.substr(0,f.length-1)}}(),j=function(r){return function(i){var o,s;if(s=i.response,o=s.project,null!=s.customFields&&(o.customFields=app.customFieldsHelper.normalizeFields(s.customFields,s.project.customFields)),g=new a(o),void 0===app.cachedProjects&&(app.cachedProjects={}),app.cachedProjects[y]=g,y=g.id(),"tasklists-template"===g.type())return e="dashboard/activity",n.replaceHash(e),void t.parse(e);r.project=g,r.projectId=y,t.parse("projects/"+y+"/"+f+"/"+c+v),r.onNextItemNotFound=null}}(this),u=function(r){return function(i,a){if(401===i.status)return o.indexOf("task")>-1||n.replaceHash(o),void app.showLoginModal();if(r.onNextItemNotFound){if(r.onNextItemNotFound())return;r.onNextItemNotFound=null}app.flash.Info(app.tl("The [_s] could not be found. It may have been deleted",m)),e="dashboard/activity",r.currentRoute().projectId&&(e="projects/"+r.currentRoute().projectId+"/overview/activity"),n.replaceHash(e),t.parse(e)}}(this),O=app.prefixApi(f+"/"+c+"/project.json","API_PREFIX_V2","API_PREFIX_V2"),l={getPermissions:!0,getNotificationSettings:!0,getActivePages:!0,getDateInfo:!0,getEmailAddress:!0,formatMarkdown:!1,includeProjectOwner:!0,includeCustomFields:!0},p.get(O,l).then(j).catch(u),!0)},f=[{url:"home/welcome",params:{page:"home",homePageTab:"welcome",hasSidebar:!0,hasFilter:!1}},{url:"home/dashboards",params:{page:"home",homePageTab:"dashboards",hasSidebar:!0,hasFilter:!1},validate:{permission:function(){return app.loggedInUser.isAccount()}}},{url:"home/work",params:{page:"home",homePageTab:"work",hasSidebar:!0,hasFilter:!1}},{url:"home/activity",params:{page:"home",homePageTab:"activity",hasSidebar:!0,hasFilter:!0}},{url:"home/events",params:{page:"home",homePageTab:"events",hasSidebar:!0,hasFilter:!0},validate:{permission:function(){var e;return null!=(null!=(e=app.loggedInUser)?e.permissions:void 0)&&app.loggedInUser.permissions.canAccessCalendar()}}},{url:"home/messages",params:{page:"home",homePageTab:"messages",hasSidebar:!0,hasFilter:!0}},{url:"home/comments",params:{page:"home",homePageTab:"comments",hasSidebar:!0,hasFilter:!0}},{url:"home/projects",params:{page:"home",homePageTab:"projects",hasSidebar:!0,hasFilter:!0}},{url:"home/shortcuts",params:{page:"home",homePageTab:"shortcuts",hasSidebar:!0,hasFilter:!1}},{url:"home/:homePageTab:",params:{page:"home",hasSidebar:!0,hasFilter:!1},validate:{tab:"homePageTab",cacheKey:"home"}},{url:"dashboard/welcome",params:{page:"dashboard",dashboardPageTab:"welcome",hasSidebar:!0,hasFilter:!1}},{url:"dashboard/summary",params:{page:"dashboard",dashboardPageTab:"summary",hasSidebar:!0,hasFilter:!1}},{url:"dashboard/activity",params:{page:"dashboard",dashboardPageTab:"activity",hasSidebar:!0,hasFilter:!0}},{url:"dashboard/events",params:{page:"dashboard",dashboardPageTab:"events",hasSidebar:!0,hasFilter:!0}},{url:"dashboard/messages",params:{page:"dashboard",dashboardPageTab:"messages",hasSidebar:!0,hasFilter:!0}},{url:"dashboard/comments",params:{page:"dashboard",dashboardPageTab:"comments",hasSidebar:!0,hasFilter:!0}},{url:"dashboard/projects",params:{page:"dashboard",dashboardPageTab:"projects",hasSidebar:!0,hasFilter:!0}},{url:"dashboard/shortcuts",params:{page:"dashboard",dashboardPageTab:"shortcuts",hasSidebar:!0,hasFilter:!1}},{url:"dashboard/:dashboardPageTab:",params:{page:"dashboard",hasSidebar:!0,hasFilter:!1},validate:{tab:"dashboardPageTab",cacheKey:"dashboard"}},{url:"reporting/reports/",params:{page:"reporting",reportingPageTab:"reports",hasSidebar:!0,hasFilter:!1},validate:{permission:function(){var e;return null!=(e=app.loggedInUser)?e.isAccount():void 0}}},{url:"reporting/reports/{reportId}",rules:{reportId:/^[0-9]+$/},params:{page:"reporting",reportingPageTab:"reports",hasFilter:!1,hasSidebar:!1},validate:{permission:function(){var e;return null!=(e=app.loggedInUser)?e.isAccount():void 0}}},{url:"everything/tasks",params:{page:"everything",everythingPageTab:"tasks",hasFilter:!0},validate:{permission:function(){var e;return null!=(e=app.loggedInUser)?e.isAccount():void 0}}},{url:"everything/boards/{boardId}",rules:{boardId:/^[0-9]+$/},params:{page:"everything",everythingPageTab:"boards",hasFilter:!0,canViewFullScreen:!0}},{url:"everything/time",params:{page:"everything",everythingPageTab:"time",hasFilter:!0},validate:{permission:function(){var e;return null!=(e=app.loggedInUser)?e.isAccount():void 0}}},{url:"everything/risks",params:{page:"everything",everythingPageTab:"risks",hasFilter:!0}},{url:"everything/milestones/:everythingPageMilestonesTab:",params:{page:"everything",everythingPageTab:"milestones",hasFilter:!0},validate:{tab:"everythingPageMilestonesTab",cacheKey:"milestones",permission:function(){var e;return null!=(e=app.loggedInUser)?e.isAccount():void 0}}},{url:"everything/workload/planner",params:{page:"everything",everythingPageTab:"workload",workloadPageTab:"planner",hasFilter:!0,canViewFullScreen:!0,fullstoryEnabled:!0},validate:{permission:function(e){var t;return!(null==(t=app.loggedInUser)||!t.isAccount())&&(!(!app.loggedInUser.inOwnerCompany()||app.featureFlip.check("workloadplanner")())||!!app.featureFlip.check("workloadplanner",{unwrap:!0}))}}},{url:"everything/workload/:workloadPageTab:",params:{page:"everything",everythingPageTab:"workload",hasFilter:!0,fullstoryEnabled:!0},validate:{tab:"workloadPageTab",cacheKey:"workload",permission:function(e){var t;if(!(null!=(t=app.loggedInUser)?t.isAccount():void 0))return!1;if("planner"===e.workloadPageTab){if(app.loggedInUser.inOwnerCompany()&&!app.featureFlip.check("workloadplanner")())return!0;if(!app.featureFlip.check("workloadplanner",{unwrap:!0}))return!1}return!0}}},{url:"everything/:everythingPageTab:",params:{page:"everything",hasFilter:!0},validate:{tab:"everythingPageTab",permission:function(){var e;return null!=(e=app.loggedInUser)?e.isAccount():void 0}}},{url:"reporting/tasks",params:{page:"reporting",reportingPageTab:"tasks",hasFilter:!0,hasSidebar:!0},validate:{permission:function(){var e;return null!=(e=app.loggedInUser)?e.isAccount():void 0}}},{url:"reporting/time",params:{page:"reporting",reportingPageTab:"time",hasFilter:!0,hasSidebar:!0},validate:{permission:function(){var e;return null!=(e=app.loggedInUser)?e.isAccount():void 0}}},{url:"reporting/risks",params:{page:"reporting",reportingPageTab:"risks",hasFilter:!0,hasSidebar:!0}},{url:"reporting/milestones/:reportingPageMilestonesTab:",params:{page:"reporting",reportingPageTab:"milestones",hasFilter:!0,hasSidebar:!0},validate:{tab:"reportingPageMilestonesTab",cacheKey:"milestones",permission:function(){var e;return null!=(e=app.loggedInUser)?e.isAccount():void 0}}},{url:"reporting/workload/planner",params:{page:"reporting",reportingPageTab:"workload",workloadPageTab:"planner",hasFilter:!0,hasSidebar:!0,canViewFullScreen:!0,fullstoryEnabled:!0},validate:{permission:function(e){var t;return!(null==(t=app.loggedInUser)||!t.isAccount())&&(!(!app.loggedInUser.inOwnerCompany()||app.featureFlip.check("workloadplanner")())||!!app.featureFlip.check("workloadplanner",{unwrap:!0}))}}},{url:"reporting/workload/:workloadPageTab:",params:{page:"reporting",reportingPageTab:"workload",hasFilter:!0,hasSidebar:!0,fullstoryEnabled:!0},validate:{tab:"workloadPageTab",cacheKey:"workload",permission:function(e){var t;if(!(null!=(t=app.loggedInUser)?t.isAccount():void 0))return!1;if("planner"===e.workloadPageTab){if(app.loggedInUser.inOwnerCompany()&&!app.featureFlip.check("workloadplanner")())return!0;if(!app.featureFlip.check("workloadplanner",{unwrap:!0}))return!1}return!0}}},{url:"reporting/:reportingPageTab:",params:{page:"reporting",hasFilter:!0,hasSidebar:!0},validate:{tab:"reportingPageTab",permission:function(){var e;return null!=(e=app.loggedInUser)?e.isAccount():void 0}}},{url:"calendar",params:{page:"calendar",hasFilter:!0},validate:{permission:function(){var e;return null!=(null!=(e=app.loggedInUser)?e.permissions:void 0)&&app.loggedInUser.permissions.canAccessCalendar()}}},{url:"serverstats",params:{page:"serverstats"},validate:{permission:function(){var e;return null!=(e=app.loggedInUser)?e.administrator():void 0}}},{url:"welcome",params:{page:"welcome",hasHeader:!1},validate:{permission:function(){var e;return(null!=(e=app.loggedInUser)?e.siteOwner():void 0)&&1===parseInt(app.loggedInUser.loginCount(),10)}}},{url:"statuses/:statusesPageTab:",params:{page:"statuses"},validate:{tab:"statusesPageTab",permission:function(){return null!=app.loggedInUser&&app.loggedInUser.inOwnerCompany()&&app.loggedInUser.isAccount()}}},{url:"search/:searchTerm:",params:{page:"search"}},{url:"people/{personId}/events",params:{page:"person",hasFilter:!0,personPageTab:"events"},rules:{personId:/^[0-9]+$/},validate:{permission:function(e){return app.loggedInUser.permissions.canManagePeople()||app.loggedInUser.inOwnerCompany()||parseInt(e.personId,10)===app.loggedInUser.id()}}},{url:"people/{personId}/boards",params:{page:"person",hasFilter:!1,personPageTab:"boards",canViewFullScreen:!1},rules:{personId:/^[0-9]+$/},validate:{permission:function(e){return null!=app.loggedInUser&&(app.loggedInUser.permissions.canManagePeople()||app.loggedInUser.inOwnerCompany()&&app.loggedInUser.administrator()||parseInt(e.personId,10)===app.loggedInUser.id())}}},{url:"people/{personId}/boards/{boardId}",params:{page:"person",hasFilter:!0,personPageTab:"boards",canViewFullScreen:!0},rules:{personId:/^[0-9]+$/,boardId:/^[0-9]+$/},validate:{permission:function(e){return null!=app.loggedInUser&&(app.loggedInUser.permissions.canManagePeople()||app.loggedInUser.inOwnerCompany()&&app.loggedInUser.administrator()||parseInt(e.personId,10)===app.loggedInUser.id())}}},{url:"people/{personId}/:personPageTab:",params:{page:"person",hasFilter:!1},rules:{personId:/^[0-9]+$/,personPageTab:/^details|activity|teams|time|integrations$/},validate:{tab:"personPageTab",permission:function(e){return null!=app.loggedInUser&&(app.loggedInUser.permissions.canManagePeople()||app.loggedInUser.inOwnerCompany()&&app.loggedInUser.isAccount()||parseInt(e.personId,10)===app.loggedInUser.id())}}},{url:"people/{personId}/:personPageTab:",params:{page:"person",hasFilter:!0},rules:{personId:/^[0-9]+$/},validate:{tab:"personPageTab",permission:function(e){return null!=app.loggedInUser&&(app.loggedInUser.permissions.canManagePeople()||app.loggedInUser.inOwnerCompany()&&app.loggedInUser.isAccount()||parseInt(e.personId,10)===app.loggedInUser.id())}}},{url:"people/statuses/:statusesPageTab:",params:{page:"people",peoplePageTab:"statuses"},validate:{tab:"statusesPageTab",permission:function(){return null!=app.loggedInUser&&app.loggedInUser.inOwnerCompany()&&app.loggedInUser.isAccount()}}},{url:"teams",params:{page:"people",peoplePageTab:"teams"},validate:{permission:function(e){return(app.loggedInUser.permissions.canManagePeople()||app.loggedInUser.inOwnerCompany())&&app.loggedInUser.isAccount()}}},{url:"teams/{teamId}/:teamPageTab:",params:{page:"team",hasFilter:!1},rules:{teamId:/^[0-9]+$/},validate:{tab:"teamPageTab",permission:function(e){var t;return!!app.loggedInUser.isAccount()&&(t=e.teamId,s.call(app.loggedInUser.teamIds(),t)>=0||!(!app.loggedInUser.permissions.canManagePeople()&&!app.loggedInUser.inOwnerCompany()))}}},{url:"people/loginHistory",params:{page:"people",peoplePageTab:"loginHistory"},validate:{permission:function(e){var t;return null!=(t=app.loggedInUser)?t.administrator():void 0}}},{url:"people/:peoplePageTab:",params:{page:"people",hasFilter:!0},validate:{tab:"peoplePageTab",permission:function(e){return null!=app.loggedInUser&&((app.loggedInUser.permissions.canManagePeople()||app.loggedInUser.inOwnerCompany())&&app.loggedInUser.isAccount())}}},{url:"companies",params:{page:"people",peoplePageTab:"companies"},validate:{permission:function(e){return null!=app.loggedInUser&&((app.loggedInUser.permissions.canManagePeople()||app.loggedInUser.inOwnerCompany())&&app.loggedInUser.isAccount())}}},{url:"companies/{companyId}/teams",params:{page:"company",hasFilter:!1,companyPageTab:"teams"},rules:{companyId:/^[0-9]+$/},validate:{permission:function(e){return null!=app.loggedInUser&&(!!app.featureFlip.check("teamscompanyteams",{unwrap:!0})&&((app.loggedInUser.permissions.canManagePeople()||app.loggedInUser.inOwnerCompany())&&app.loggedInUser.isAccount()))}}},{url:"companies/{companyId}/:companyPageTab:",params:{page:"company",hasFilter:!0},rules:{companyId:/^[0-9]+$/},validate:{tab:"companyPageTab",permission:function(e){var t;return null!=app.loggedInUser&&("loggedtime"===e.companyPageTab?null!=(t=app.loggedInUser)?t.administrator():void 0:"projects"===e.companyPageTab?app.loggedInUser.administrator()||app.loggedInUser.permissions.canManagePeople()||app.loggedInUser.inOwnerCompany():(app.loggedInUser.permissions.canManagePeople()||app.loggedInUser.inOwnerCompany())&&app.loggedInUser.isAccount())}}},{url:"settings/referral/:referralPageTab:",params:{page:"settings",settingsPageTab:"referral"},validate:{tab:"referralPageTab",permission:function(){return null!=app.loggedInUser&&(app.loggedInUser.administrator()&&app.loggedInUser.inOwnerCompany())}}},{url:"settings/integrations/:integrationsPageTab:",params:{page:"settings",settingsPageTab:"integrations"},validate:{tab:"integrationsPageTab",permission:function(){return null!=app.loggedInUser&&(app.loggedInUser.administrator()&&app.loggedInUser.inOwnerCompany())}}},{url:"people/{personId}/integrations/:personIntegrationsPageTab:",params:{page:"person",personPageTab:"integrations"},rules:{personId:/^[0-9]+$/},validate:{tab:"personIntegrationsPageTab",permission:function(){return null!=app.loggedInUser&&(app.loggedInUser.permissions.canManagePeople()||app.loggedInUser.inOwnerCompany()&&app.loggedInUser.isAccount()||parseInt(params.personId,10)===app.loggedInUser.id())}}},{url:"settings/:settingsPageTab:",params:{page:"settings"},validate:{tab:"settingsPageTab",permission:function(e){if(null==app.loggedInUser)return!1;if("customfields"===e.settingsPageTab){if(!app.featureFlip.check("customfieldsprojects",{unwrap:!0})&&!app.featureFlip.check("customfieldstasks",{unwrap:!0}))return!1;if(app.loggedInUser.permissions.canManageCustomFields())return!0}return app.loggedInUser.administrator()&&app.loggedInUser.inOwnerCompany()}}},{url:"import/basecamp-next",params:{page:"basecamp-next",isFullScreen:!1},validate:{permission:function(){return null!=app.loggedInUser&&(app.loggedInUser.administrator()&&app.loggedInUser.inOwnerCompany())}}},{url:"import/basecamp-classic",params:{page:"basecamp-classic",isFullScreen:!1},validate:{permission:function(){return null!=app.loggedInUser&&(app.loggedInUser.administrator()&&app.loggedInUser.inOwnerCompany())}}},{url:"import",params:{page:"settings/import",isFullScreen:!1},validate:{permission:function(){return null!=app.loggedInUser&&(app.loggedInUser.administrator()&&app.loggedInUser.inOwnerCompany())}}},{url:"projects/chart",params:{page:"projects",projectsPageTab:"chart",hasSidebar:!1,hasFilter:!0,canViewFullScreen:!0},validate:{permission:function(){return null!=app.loggedInUser&&(app.loggedInUser.isAccount()||app.loggedInUser.isCollaborator())}}},{url:"projects/templates",params:{page:"projects",projectsPageTab:"templates",hasSidebar:!1,hasFilter:!0,canViewFullScreen:!0},validate:{permission:function(){return null!=app.loggedInUser&&(!!app.featureFlip.check("projecttemplates",{unwrap:!0})&&(!!app.loggedInUser.isAccount()&&app.loggedInUser.permissions.canViewProjectTemplates()))}}},{url:"projects/portfolio",params:{page:"projects",projectsPageTab:"portfolio",hasSidebar:!1},validate:{permission:function(){return null!=app.loggedInUser&&(!(!app.loggedInUser.inOwnerCompany()||app.featureFlip.check("portfolio")())||app.loggedInUser.permissions.canAccessPortfolio()&&app.loggedInUser.isAccount())}}},{url:"projects/portfolio/boards/:itemId:",params:{page:"projects",projectsPageTab:"portfolio",hasSidebar:!1,hasFilter:!0,canViewFullScreen:!0},validate:{permission:function(){return null!=app.loggedInUser&&(!(!app.loggedInUser.inOwnerCompany()||app.featureFlip.check("portfolio")())||app.loggedInUser.permissions.canAccessPortfolio()&&app.loggedInUser.isAccount())}}},{url:"projects/list/:projectsPageTab:",params:{page:"projects",hasSidebar:!0,hasFilter:!0},validate:{tab:"projectsPageTab",cacheKey:"projects-list",permission:function(e){var t;return"archived"!==e.projectsPageTab||("account"===(t=app.loggedInUser.userType())||"collaborator"===t)}}},{url:"projects/:projectsPageTab:",params:{page:"projects",hasSidebar:!0,hasFilter:!0},validate:{tab:"projectsPageTab",cacheKey:"projects",permission:function(e){var t;return"archived"!==e.projectsPageTab||("account"===(t=app.loggedInUser.userType())||"collaborator"===t)}}},{url:"projects/{projectURLCode}/risks",params:{page:"project",projectTab:"risks",hasFilter:!0},validate:{type:"project",permission:function(){var e;return e=c.project,"1"===e.activePages.riskRegister()&&e.permissions.viewRiskRegister()}}},{url:"projects/{projectURLCode}/links",params:{page:"project",projectTab:"links",hasFilter:!0,hasSidebar:!0},validate:{type:"project",permission:function(){var e;return e=c.project,"1"===e.activePages.links()&&e.permissions.viewLinks()}}},{url:"projects/{projectURLCode}/notebooks",params:{page:"project",projectTab:"notebooks",hasSidebar:!0,hasFilter:!0},validate:{type:"project",permission:function(){var e;return e=c.project,"1"===e.activePages.notebooks()&&e.permissions.viewNotebook()}}},{url:"projects/{projectURLCode}/tasks/board",params:{page:"project",projectTab:"tasks",hasFilter:!0,canViewFullScreen:!0},validate:{type:"project",permission:function(){var e;return e=c.project,"1"===e.activePages.tasks()&&e.permissions.viewTasksAndMilestones()}}},{url:"projects/{projectURLCode}/tasks/gantt",params:{hasFilter:!1,hasSidebar:!1}},{url:"projects/{projectURLCode}/tasks",params:{page:"project",projectTab:"tasks",hasSidebar:!0,hasFilter:!0},validate:{type:"project",permission:function(){var e;return e=c.project,"1"===e.activePages.tasks()&&e.permissions.viewTasksAndMilestones()}}},{url:"projects/{projectURLCode}/overview/:projectOverviewTab:",params:{page:"project",projectTab:"overview",hasSidebar:!0},validate:{tab:"projectOverviewTab",cacheKey:"overview"}},{url:"projects/{projectURLCode}/milestones/:projectMilestonesTab:",params:{page:"project",projectTab:"milestones",hasSidebar:!0,hasFilter:!0},validate:{type:"project",tab:"projectMilestonesTab",cacheKey:"milestones",permission:function(){var e;return e=c.project,"1"===e.activePages.milestones()&&e.permissions.viewTasksAndMilestones()}}},{url:"projects/{projectURLCode}/billing/:projectBillingTab:",params:{page:"project",projectTab:"billing"},validate:{tab:"projectBillingTab",type:"project",permission:function(){var e;return e=c.project,"1"===e.activePages.billing()&&e.permissions.canAccessInvoiceTracking()}}},{url:"projects/{projectURLCode}/comments",params:{page:"project",projectTab:"comments",hasSidebar:!1,hasFilter:!0},validate:{type:"project",permission:function(){return"1"===c.project.activePages.comments()}}},{url:"projects/{projectURLCode}/settings/:projectSettingsTab:",params:{page:"project",projectTab:"settings"},validate:{tab:"projectSettingsTab",type:"project",permission:function(e){return null!=app.loggedInUser&&(!("tags"===e.projectSettingsTab&&!app.featureFlip.check("projecttags",{unwrap:!0}))&&(app.loggedInUser.administrator()&&app.loggedInUser.inOwnerCompany()||c.project.permissions.projectAdministrator()))}}},{url:"projects/{projectURLCode}/people/:projectPeopleTab:",params:{page:"project",projectTab:"people"},validate:{tab:"projectPeopleTab",type:"project",permission:function(e){return null!=app.loggedInUser&&("roles"===e.projectPeopleTab||(app.loggedInUser.administrator()&&app.loggedInUser.inOwnerCompany()||c.project.permissions.projectAdministrator()||c.project.permissions.canViewProjectMembers()))}}},{url:"projects/{projectURLCode}/report",params:{page:"project",projectTab:"report"},validate:{type:"project",permission:function(){return c.project.permissions.viewTasksAndMilestones()}}},{url:"projects/{projectURLCode}/gantt",params:{page:"gantt",isFullScreen:!0},validate:{type:"project",permission:function(){var e;return e=c.project,"1"===e.activePages.tasks()&&e.permissions.viewTasksAndMilestones()}}},{url:"projects/{projectURLCode}/:projectTab:/:itemId:",params:{page:"project",hasSidebar:!0,hasFilter:!0},validate:{tab:"projectTab",type:"project",permission:function(e){var t,n,r;switch(r=c.project.permissions,t=c.project.activePages,n=function(e){var n;return n=t[e](),"boolean"==typeof n?n:"0"!==n&&"1"===n},e.projectTab){case"tasks":case"gantt":case"milestones":case"report":case"task":case"tasklists":return!!n("tasks")&&r.viewTasksAndMilestones();case"messages":return!!n("messages")&&("create"===r.itemId?r.viewMessagesAndFiles()&&r.canAddMessages():r.viewMessagesAndFiles());case"files":return!!n("files")&&r.viewMessagesAndFiles();case"time":return!!n("time")&&r.viewTimeLog();case"notebooks":return!!n("notebooks")&&("create"===r.itemId?r.viewNotebook()&&r.canAddNotebooks():r.viewNotebook());case"risks":return!!n("riskRegister")&&r.viewRiskRegister();case"links":return!!n("links")&&r.viewLinks();case"billing":return!!n("billing")&&r.canAccessInvoiceTracking();case"comments":return n("comments");case"people":return r.canViewProjectPeople();case"settings":case"roles":return r.projectAdministrator()}}}},{url:"task-templates",params:{page:"task-templates",hasSidebar:!0,hasFilter:!0},validate:{permission:function(){return null!=app.loggedInUser&&app.loggedInUser.permissions.canAccessTemplates()}}},{url:"task-templates/{taskTemplateId}",params:{page:"task-templates",hasSidebar:!0,hasFilter:!0},rules:{taskTemplateId:/^[0-9]+$/},validate:{permission:function(){return null!=app.loggedInUser&&app.loggedInUser.permissions.canAccessTemplates()}}},{url:"referral/:referralPageTab:",params:{page:"referral"},validate:{tab:"referralPageTab",permission:function(){return null!=app.loggedInUser&&app.loggedInUser.administrator()}}},{url:"test",params:{page:"test"}},{url:"embed",params:{page:"embed",isFullScreen:!0}},{url:"cancel-account",params:{page:"cancel-account"},validate:{permission:function(){return null!=app.loggedInUser&&(app.loggedInUser.siteOwner()||app.loggedInUser.administrator()&&app.loggedInUser.inOwnerCompany())}}},{url:"login/:username:",params:{page:"login",isLoggedInPage:!1}},{url:"resetpassword/:userId:/:name:/:token:",params:{page:"reset-password",isLoggedInPage:!1}},{url:"forgotpassword/:username:",params:{page:"forgotpassword",isLoggedInPage:!1,bodyId:"login"}},{url:"changepassword",params:{page:"changepassword",isLoggedInPage:!1}},{url:"integrations/projects/{projectId}/summary",rules:{projectId:/^[0-9]+$/},params:{page:"integrations-project-overview-summary",hasHeader:!1,hasSidebar:!1,hasFilter:!1,hasFooter:!1}},{url:"integrations/tasks/{taskId}/summary",rules:{taskId:/^[0-9]+$/},params:{page:"integrations-task",hasHeader:!1,hasSidebar:!1,hasFilter:!1,hasFooter:!1}},{url:"json-to-project",params:{page:"json-to-project"}},{url:"getting-started",params:{page:"sample-projects-picker"}},{url:"cancel",params:{page:"cancellation"}},{url:"downgrade",params:{page:"cancellation"}},{url:"/:startPage:",params:{page:"-startPageRedirect-"}}],c=new u({routes:f})}.apply(t,o))&&(e.exports=a)}).call(t,n(245),n(245))},4480:function(e,t,n){var r,i,o=[].slice;r=[n(164)],void 0!==(i=function(e){return function(){var t,n,r,i;return r={},i={},t=function(){var t,n,r,a,s,l,p,u,d,c,f;for(d=arguments[0],f=2<=arguments.length?o.call(arguments,1):[],d=e.unwrap(d),f=null!=(l=null!=(p=i[d])&&"function"==typeof p.normalizeParams?p.normalizeParams.apply(p,f):void 0)?l:f,u="\0"+d,n=t=0,r=f.length;t<r;n=++t)if(c=f[n],a=e.unwrap(c),s=typeof a,null===a)u+="\0$null";else if("undefined"===s)u+="\0$undefined";else{if("string"===s&&a.indexOf("\0")>=0)throw new Error("shared: resourceParams["+n+"] string contains an invalid character: \\0 (NULL character)");if("string"!==s&&"number"!==s&&"boolean"!==s)throw new Error("shared: Unsupported type: typeof resourceParams["+n+"] is "+s);u+="\0"+s.charAt(0)+a}return u},n=function(e){var t,n,r,i,o,a,s,l;return"\0"!==e.charAt(0)?null:(r=e.split("\0"),s=r[1],i=r.slice(2),l=function(){var e,r,s;for(s=[],t=e=0,r=i.length;e<r;t=++e)switch(n=i[t],o=n.charAt(0),a=n.substr(1),o){case"s":s.push(a);break;case"n":s.push(Number(a));break;case"b":s.push("true"===a);break;case"$":if("null"===a)s.push(null);else{if("undefined"!==a)throw new Error("shared: Unrecognized param at resourceParams["+t+"]: "+o+" "+a);s.push(void 0)}break;default:throw new Error("shared: Unsupported type in resource key: '"+o+"' at index "+t)}return s}(),{resourceName:s,resourceParams:l})},{get:function(t){var a,s,l,p,u;return console.assert("string"==typeof t),a=r[t]=r[t]||{refCount:0,observable:e.observable(null)},a.refCount++,a.observable.dispose=function(){var e;if(a.refCount--,console.assert(a.refCount>=0),0===a.refCount)return null!=(e=a.provider)&&"function"==typeof e.dispose&&e.dispose(),delete r[t]},1===a.refCount&&null!=(l=n(t))&&(s=l.resourceName,p=l.resourceParams,u=i[s],null!=u?(console.assert(null==a.provider),a.provider=function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(u,[a.observable].concat(o.call(p)),function(){})):console.warn("Resource provider not found: '"+s+"'")),a.observable},getValue:function(e){return r[e]?r[e].observable():null},getPureComputed:function(t){var n,r,i,o,a,s;return r=null,n=e.observable(!0),o=e.pureComputed(function(){return n(),null!=r?r():null},this),a=function(){return console.assert(null===r),r=this.get(t),n.valueHasMutated()},s=function(){if(null!=r)return r.dispose(),r=null},o.subscribe(a,this,"awake"),o.subscribe(s,this,"asleep"),i=o.dispose,o.dispose=function(){return s(),i.apply(this,arguments)},o},getResource:function(){var n,r,i,a;return r=arguments[0],a=2<=arguments.length?o.call(arguments,1):[],n=null,i=e.pureComputed(function(){return this.getPureComputed(t.apply(null,[r].concat(o.call(a))))},this),e.computed({owner:this,read:function(){var e,t;return t=i(),e=t(),null!=e&&!0===e.delayUntilReady&&"boolean"==typeof e.ready?e.ready?(n=t,e):null!=n?n():e:(n=null,e)},deferEvaluation:!0})},hasResourceProvider:function(e){return null!=i[e]},registerResourceProvider:function(e,t){var n,r;if(console.assert("string"==typeof e),console.assert("function"==typeof t),this.hasResourceProvider(e))throw new Error("shared: Resource provider already registered for resource name: '"+e+"'");return i[e]=t,r=!1,n=function(){console.assert(!r),console.assert(i[e]===t),r||(r=!0,delete i[e])},{dispose:n}}}}}.apply(t,r))&&(e.exports=i)}});
//# sourceMappingURL=app-starter.e8275184ead8e966eefa.js.map