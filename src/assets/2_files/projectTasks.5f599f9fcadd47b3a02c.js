webpackJsonp([21],{1082:function(t,e,s){t.exports={"modal-addOrEditTaskList":Promise.all([s.e(0),s.e(21)]).then(s.bind(null,3631)),"sidebar-project-tasks":Promise.all([s.e(0),s.e(21)]).then(s.bind(null,4147)),"section-completed-tasks-list":Promise.all([s.e(0),s.e(21)]).then(s.bind(null,3887)),"section-project-tasks-header-buttons":Promise.all([s.e(0),s.e(21)]).then(s.bind(null,4036)),"section-project-tasks":Promise.all([s.e(0),s.e(21)]).then(s.bind(null,4037)),"sidebar-project-task":Promise.all([s.e(0),s.e(21)]).then(s.bind(null,4146)),"section-subtasks-list":Promise.all([s.e(0),s.e(21)]).then(s.bind(null,4112)),"section-tasklists-list":Promise.all([s.e(0),s.e(21)]).then(s.bind(null,4119)),"section-taskList":Promise.all([s.e(0),s.e(21)]).then(s.bind(null,4116)),"section-tasks-list":Promise.all([s.e(0),s.e(21)]).then(s.bind(null,4121)),"widget-search-input":Promise.all([s.e(0),s.e(21)]).then(s.bind(null,4321)),"widget-text-input":Promise.all([s.e(0),s.e(21)]).then(s.bind(null,4355))}},1285:function(t,e,s){(function(n){var i,a,o=function(t,e){return function(){return t.apply(e,arguments)}};i=[s(14),s(1119),s(164),s(1133),s(1118)],void 0!==(a=function(t,e,s,i,a){return function(){function e(t,e){null==e&&(e=null),this.SetupComputedsAndSubscribers=o(this.SetupComputedsAndSubscribers,this),this.ToggleTimer=o(this.ToggleTimer,this),this.LoadUpdate=o(this.LoadUpdate,this),this.ResetData=o(this.ResetData,this),this.OnUpdatePriority=o(this.OnUpdatePriority,this),this.OnUpdateProgress=o(this.OnUpdateProgress,this),this.OnQuickView=o(this.OnQuickView,this),this.Delete=o(this.Delete,this),this.DeleteTask=o(this.DeleteTask,this),this.SaveTaskList=o(this.SaveTaskList,this),this.Save=o(this.Save,this),this.OnClickComplete=o(this.OnClickComplete,this),this.OnClickRetry=o(this.OnClickRetry,this),this.OnClickEdit=o(this.OnClickEdit,this),this.boardColumn=e,this.componentName="TaskCard",null==t&&(t=this.GetNewJSON()),this.UpdateProperties(t),i.fromJS(t,this.mapping,this),this.SetupComputedsAndSubscribers()}return e.prototype.mapping={key:function(t){return s.unwrap(t.id)}},e.prototype.Click=function(){},e.prototype.OnClickEdit=function(t,e){null==this.failedAPIAttempt()&&this.canEdit()&&"completed"!==this.taskStatus()&&(Tipped.hideAll(),this.isEditMode()||("string"==typeof this.responsiblePartyIds()&&this.responsiblePartyIds(this.responsiblePartyIds().split(",")),this.previousCardInfo=this.Clone(),this.isEditMode(!0),null!=(null!=e?e.currentTarget:void 0)&&setTimeout(function(){return n(e.currentTarget).find("form textarea").focus()},100),app.ko.postbox.publish("task-card-state-change",{state:"editing",columnId:this.columnId(),id:this.id(),column:this.boardColumn})))},e.prototype.OnClickRetry=function(t,e){var s;if(Tipped.hideAll(),null!=this.failedAPIAttempt())return s=this.failedAPIAttempt(),this.failedAPIAttempt(null),this.isUpdating(!0),this.isRetryingFailedAPIAttempt(!0),app.api[s.method](s.url,s.data).then(s.callback).catch(function(t){return function(){return t.failedAPIAttempt(s)}}(this)).finally(function(t){return function(){return t.isUpdating(!1),t.isRetryingFailedAPIAttempt(!1)}}(this)),null!=e&&e.stopPropagation(),!1},e.prototype.OnClickComplete=function(t,e){var s,n,i,a;return Tipped.hideAll(),!(!this.canComplete()||!this.canStart())&&(this.numActiveSubTasks()>0?void 0:(n=!0,"completed"===this.taskStatus()&&(n=!1),this.isUpdating(!0),a="boards/columns/cards/"+this.id()+"/"+("completed"===this.taskStatus()?"uncomplete":"complete")+".json",i=this.taskStatus(),s={get:"card,columnStats"},this.boardId()>0&&(s.boardId=this.boardId()),this.boardColumnId()>0&&(s.boardColumnId=this.boardColumnId()),app.api.put(a,s).then(function(t){return function(s){var a,o,l,r,p,d,c,u;if("OK"===s.response.STATUS&&(null!=(p=s.response.linkedCardId)?p:0,null!=(d=s.response.linkedColumnId)?d:0,r=null!=(c=s.response.linkedColumnName)?c:"",t.isUpdating(!1),"completed"===i?(t.progress(0),t.taskStatus("reopened")):(t.progress(100),t.taskStatus("completed"),((null!=e?e.ctrlKey:void 0)||(null!=e?e.metaKey:void 0))&&app.modal.Show("addOrEditComment",{item:t.GetTask(),projectId:app.currentRoute().projectId,type:"task"})),a=null!=s.response.card&&s.response.card.archived,l=null!=s.response.card&&s.response.card.isRecurring,null!=(null!=(u=s.response.column)?u.stats:void 0)&&app.ko.postbox.publish("sync-column-stats",s.response.column),o={eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:t.id(),projectId:app.currentRoute().projectId,subType:"task-"+t.taskStatus(),extraInfo:{data:{cardId:t.id(),columnId:t.columnId(),columnName:r,cardArchived:a,isRecurring:l,parentTaskId:t.parentTaskId()>0?t.parentTaskId():null}}},app.ko.postbox.publish("allTWEvents",o),n&&null!=s.response.recurringNextTask&&null!=s.response.recurringNextTask.linkedColumnId&&s.response.recurringNextTask.linkedColumnId/1!=t.columnId()/1))return o={eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:t.id(),projectId:app.currentRoute().projectId,subType:"task-updated",extraInfo:{data:{cardId:t.id(),columnId:s.response.recurringNextTask.linkedColumnId,columnName:s.response.recurringNextTask.linkedColumnName,isRecurring:!0}}},app.ko.postbox.publish("allTWEvents",o)}}(this)),null!=e&&e.stopPropagation(),!1))},e.prototype.Blur=function(t,e){var s,i,a,o,l;if(null!=e&&(n(e.relatedTarget).hasClass("card-tasklist-name")||n(e.relatedTarget).parents(".card-tasklist-name").length))return!0;i=parseInt(this.id(),10),isNaN(i)?(this.name(""),this.progress(0),null!=(null!=(a=this.boardColumn)&&null!=(o=a.defaultTasklist)&&null!=(l=o.newTaskDefaults)?l.responsiblePartyId:void 0)?(s=this.boardColumn.defaultTasklist.newTaskDefaults,this.assignedPeople(app.utility.ConvertToArray(s.responsiblePartyId())),this.responsiblePartyIds(s.responsiblePartyId()),this.startDate(s.startDate()),this.dueDate(s.dueDate()),this.estimatedMinutes(parseInt(s.estimatedMinutes(),10)),this.estimatedTimeHours(Math.floor(this.estimatedMinutes()/60)),this.estimatedTimeMinutes(this.estimatedMinutes()%60),this.priority(s.priority()),this.tags(s.tags())):(this.responsiblePartyIds(""),this.priority("none"),this.startDateAsMoment(null),this.dueDateAsMoment(null),this.estimatedMinutes(0),this.tags([])),app.ko.postbox.publish("task-card-state-change",{state:"cancelled",columnId:this.columnId(),column:this.boardColumn,id:this.id()})):(null!=this.previousCardInfo&&(this.name(this.previousCardInfo.name()),this.responsiblePartyIds(this.previousCardInfo.responsiblePartyIds()),this.taskListId(this.previousCardInfo.taskListId()),this.taskListName(this.previousCardInfo.taskListName()),this.priority(this.previousCardInfo.priority()),this.progress(this.previousCardInfo.progress()),this.startDateAsMoment(this.previousCardInfo.startDateAsMoment()),this.dueDateAsMoment(this.previousCardInfo.dueDateAsMoment()),this.estimatedMinutes(this.previousCardInfo.estimatedMinutes()),this.tags(this.previousCardInfo.tags()),this.previousName(this.name())),this.isEditMode(!1))},e.prototype.Focus=function(){return this.previousName(this.name())},e.prototype.Save=function(){var t,e,s;return this.name().trim().length?null!=this.startDateAsMoment()&&null!=this.dueDateAsMoment()&&this.startDateAsMoment().startOf("day")>this.dueDateAsMoment().startOf("day")?void app.flash.Warn(app.tl("Due dates must not be before start dates")):(this.isEditMode(!1),this.isUpdating(!0),s=this.previousName(),this.previousName(this.name()),t={card:{content:this.name(),taskListId:this.taskListId(),"start-date":null!=this.startDate()?this.startDate():"","due-date":null!=this.dueDate()?this.dueDate():"","responsible-party-id":app.utility.ConvertToArray(null!=(e=this.responsiblePartyIds())?e:"").join(","),"estimated-minutes":this.estimatedMinutes(),priority:this.priority(),progress:this.progress(),tags:this.tags().map(function(t){return t.name()}).join(",")}},app.api.put("boards/columns/cards/"+this.id()+".json",t).then(function(t){return function(){var e;return t.previousName(t.name()),e={eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:t.id(),projectId:app.currentRoute().projectId,subType:"task-"+t.taskStatus()},app.ko.postbox.publish("allTWEvents",e)}}(this)).catch(function(t){return function(e){return t.name(s),t.previousName(s)}}(this)).finally(function(t){return function(){return t.isUpdating(!1)}}(this)),void app.ko.postbox.publish("task-card-state-change",{state:"cancelled",columnId:this.columnId(),column:this.boardColumn,id:this.id()})):void app.flash.Warn(app.tl("Name must not be blank"))},e.prototype.SaveTaskList=function(){var t,e;return e="tasks/"+this.taskId()+"/move.json",t={taskListId:this.taskListId(),projectId:this.projectId()},app.api.put(e,t)},e.prototype.DeleteTask=function(t){if(null==t&&(t={}),Tipped.hideAll(),this.taskId()>0)return this.isUpdating(!0),app.api.delete("tasks/"+this.id()+".json").then(function(t){return function(e){var n,i,a,o,l,r,p,d;return i=null!=(l=e.response.linkedCardId)?l:0,a=null!=(r=e.response.linkedColumnId)?r:0,o=null!=(p=e.response.linkedColumnName)?p:"",d=function(){return app.flash.Info(app.tl("Undeleting")+app.localizationPreferences().ellipsis),app.api.put("trashcan/tasks/"+t.taskId()+"/restore.json",{}).then(function(e){return app.flash.Success(app.tl("Task [_s] has been undeleted",'"'+s.unwrap(t.name())+'"')),app.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:t.taskId(),projectId:t.projectId(),taskListId:t.taskListId(),parentTaskId:t.parentTaskId(),subType:"task-reopened",extraInfo:{data:{cardId:i,columnId:a,columnName:o}}})})},app.flash.Success(app.tl("Task [_s] has been deleted",'"'+s.unwrap(t.name())+'"'),{undo:d}),n={eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.DELETED,itemId:t.taskId(),projectId:t.projectId(),taskListId:t.taskListId(),taskStatus:t.status(),parentTaskId:t.parentTaskId(),extraInfo:{data:{cardId:i,columnId:a,columnName:o}}},t.status("deleted"),app.ko.postbox.publish("allTWEvents",n)}}(this)).finally(function(t){return function(){return t.isUpdating(!1)}}(this))},e.prototype.Delete=function(t){var e;null==t&&(t={}),Tipped.hideAll(),this.taskId()>0&&(this.isUpdating(!0),e={get:"card,columnStats"},app.api.delete("boards/columns/cards/"+this.id()+".json",e).then(function(t){return function(e){var s,n;return null!=(null!=(n=e.response.column)?n.stats:void 0)&&app.ko.postbox.publish("sync-column-stats",e.response.column),s={eventTime:new Date,itemType:"card",actionType:app.consts.ACTIONTYPE.DELETED,itemId:t.taskId(),projectId:t.projectId()},t.taskStatus("deleted"),app.ko.postbox.publish("allTWEvents",s)}}(this)).finally(function(t){return function(){return t.isUpdating(!1)}}(this)))},e.prototype.OnQuickView=function(t){if(this.id()>0)return app.quickView.show("taskCard",{id:this.taskId(),isSubtask:("function"==typeof this.parentTaskId?this.parentTaskId():void 0)>0,taskId:this.taskId(),projectId:this.projectId(),task:this.GetTask(),tab:t,wrapperName:null!=t?"task-view":null,title:null!=t?app.utility.Truncate((("function"==typeof this.parentTaskId?this.parentTaskId():void 0)>0?app.tl("Subtask"):app.tl("Task"))+": "+app.utility.HTMLToString(this.name()),60,app.localizationPreferences().ellipsis):void 0})},e.prototype.OnUpdateProgress=function(){var t;return t={progress:this.progress()},app.api.put("tasks/"+this.taskId()+"/progress.json",t)},e.prototype.OnUpdatePriority=function(t){var e,s,n;t!==this.priority()&&(Tipped.hideAll(),e=this.priority(),this.priority(t.toLowerCase()),n=function(){switch(t){case"none":return 0;case"low":return 200;case"medium":return 100;case"high":return 1;default:return-1}}(),s={"todo-item":{priority:n}},app.api.put("tasks/"+this.taskId()+".json",s).then(function(t){return function(s){var n;return"OK"===s.response.STATUS?(n={eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:t.taskId(),projectId:t.projectId(),taskListId:t.taskListId()},0!==t.parentTaskId()&&(n.parentTaskId=t.parentTaskId()),app.ko.postbox.publish("allTWEvents",n)):t.priority(e)}}(this)).catch(function(t){return function(){return t.priority(e)}}(this)))},e.prototype.ResetData=function(){return this.name("")},e.prototype.UpdateData=function(t){if(null!=t)return this.isUpdating(!0),null!=this.isSelected&&(t.isSelected=this.isSelected()),this.UpdateProperties(t),i.fromJS(t,{},this),this.isUpdating(!1),null!=t.isPrivate&&"string"==typeof t.isPrivate?"inherited"===t.isPrivate?this.private(2):"true"===t.isPrivate?this.private(1):this.private(0):void 0},e.prototype.LoadUpdate=function(t){if(null==t&&(t=!0),0!==this.id())return this.isUpdating(t),app.api.get("boards/columns/cards/"+this.id()+".json").then(function(t){return function(e){var s;return s=e.response.card,t.UpdateData(s)}}(this))},e.prototype.nwlExp=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/\*%?=~_|!:,.;\]\[]*[-A-Z0-9+&@#\/\*%=~_|\]\[])/gi,e.prototype.nameWithLinksFN=function(){return String(this.name()).replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(this.nwlExp,"<a href='$1' style='word-break: break-word' target=_blank class=blue>$1</a>")},e.prototype.ToggleTimer=function(){var t,e;if(this.canLogTime())return e=app.timers().filter(function(t){return function(e){return e.taskId()===t.taskId()}}(this)),e.length>0?e[0].Toggle():(t={timer:{taskId:this.taskId(),projectId:this.projectId(),isBillable:app.loggedInUser.preferences.timeDefaultBillable()}},app.api.post("me/timers.json",t).then(function(t){return function(e){var n;return n=e.response.id,s.postbox.publish("allTWEvents",{eventTime:new Date,actionType:app.consts.ACTIONTYPE.ADDED,itemType:"userTimer",itemId:n,projectId:t.projectId(),taskId:t.taskId()})}}(this)))},e.prototype.UpdateProperties=function(t){return null==t.temporaryId&&(t.temporaryId=""),null==t.isTaskCard&&(t.isTaskCard=!0),null==t.assignedPeople&&(t.assignedPeople=[]),null==t.canEdit&&(t.canEdit=!0),null==t.canComplete&&(t.canComplete=!0),null==t.isEditMode&&(t.isEditMode=!1),null==t.isUpdating&&(t.isUpdating=!1),null==t.currentRequestId&&(t.currentRequestId=""),null==t.isSelected&&(t.isSelected=!1),null==t.failedAPIAttempt&&(t.failedAPIAttempt=null),null==t.isRetryingFailedAPIAttempt&&(t.isRetryingFailedAPIAttempt=!1),null==t.hasUnreadComments&&(t.hasUnreadComments=!1),null==t.estimatedMinutes&&(t.estimatedMinutes=0),null==t.boardId&&(t.boardId=0),null==t.boardColumnId&&(t.boardColumnId=0),null==t.numComments&&(t.numComments=0),null==t.numAttachments&&(t.numAttachments=0),null==t.numDependencies&&(t.numDependencies=0),null==t.numPredecessors&&(t.numPredecessors=0),null==t.numActiveSubTasks&&(t.numActiveSubTasks=0),null==t.parentTaskId&&(t.parentTaskId=0),t.uniqueTaskId="task-card-"+t.id+"-"+Date.now(),null==t.status&&(t.status="new"),null==t.assignedPeople&&(t.assignedPeople=[]),null==t.private&&(t.private=0),null==t.progress&&(t.progress=0),null==t.numDependents&&(t.numDependents=0),null==t.hasReminders&&(t.hasReminders=!1),null==t.hasRemindersForUser&&(t.hasRemindersForUser=!1),null==t.hasLoggedTime&&(t.hasLoggedTime=!1),null==t.isRecurring&&(t.isRecurring=!1),null==t.hasFollowers&&(t.hasFollowers=!1),null==t.userFollowingChanges&&(t.userFollowingChanges=!1),null==t.userFollowingComments&&(t.userFollowingComments=!1),null==t.hasTickets&&(t.hasTickets=!1),null==t.attachmentsCount&&(t.attachmentsCount=0),null==t.commentsCount&&(t.commentsCount=0),null==t.priority&&(t.priority=""),t.priority=t.priority.toLowerCase(),null==t.isPrivate&&(t.isPrivate=!1),null==t.tags&&(t.tags=[]),null==t.attachments&&(t.attachments=[]),null==t.startDate&&(t.startDate=""),null==t.dueDate&&(t.dueDate=""),null==t.projectName&&(t.projectName=""),null==t.canLogTime&&(t.canLogTime=!0),t.id=parseInt(t.id,10),t.taskId=parseInt(t.taskId,10),t.private=parseInt(t.private,10),t.columnId=parseInt(t.columnId,10),t.projectId=parseInt(t.projectId,10),t.numComments=parseInt(t.numComments,10),t.displayOrder=parseInt(t.displayOrder,10),t.navigationOrder=parseInt(t.displayOrder,10),t.numAttachments=parseInt(t.numAttachments,10),t.numDependencies=parseInt(t.numDependencies,10),t.numPredecessors=parseInt(t.numPredecessors,10),t.estimatedMinutes=parseInt(t.estimatedMinutes,10),t.numActiveSubTasks=parseInt(t.numActiveSubTasks,10),t.boardId=parseInt(t.boardId,10),t.boardColumnId=parseInt(t.boardColumnId,10),t.estimatedTimeHours=Math.floor(t.estimatedMinutes/60),t.estimatedTimeMinutes=t.estimatedMinutes%60,t.previousName=t.name,t},e.prototype.SetupComputedsAndSubscribers=function(){var e,n,i,a,o;for(app.loggedInUser.id(),null!=this.estimatedTimeHours&&this.estimatedTimeHours.subscribe(function(t){return function(e){var s;return s=t.estimatedTimeMinutes(),"string"==typeof e&&""===e.trim()&&(e=0),"string"==typeof s&&""===s.trim()&&(s=0),t.estimatedMinutes(60*parseInt(e,10)+parseInt(s,10))}}(this)),null!=this.estimatedTimeMinutes&&this.estimatedTimeMinutes.subscribe(function(t){return function(e){var s;return s=t.estimatedTimeHours(),"string"==typeof s&&""===s.trim()&&(s=0),"string"==typeof e&&""===e.trim()&&(e=0),t.estimatedMinutes(60*parseInt(s,10)+parseInt(e,10))}}(this)),null!=this.responsiblePartyIds&&s.isObservable(this.responsiblePartyIds)||(this.responsiblePartyIds=s.observable(this.assignedPeople()),this.responsiblePartyIds.subscribe(function(t){return function(e){if(null!=e)return t.assignedPeople(app.utility.ConvertToArray(e))}}(this))),null!=this.canStart&&s.isComputed(this.canStart)||(this.canStart=s.pureComputed(function(t){return function(){return!(t.numPredecessors()>0&&t.numPredecessors()>t.numActiveSubTasks())}}(this))),null!=this.isAssignedToMe&&s.isComputed(this.isAssignedToMe)||(this.isAssignedToMe=s.pureComputed(function(t){return function(){return app.utility.IsUserInSelection(t.responsiblePartyIds)}}(this))),0===this.projectId()||isNaN(this.projectId())?this.project=s.observable(null):this.project=app.projectInfo.get(this.projectId()),this.canViewMessagesAndFiles=s.pureComputed(function(t){return function(){return null!=t.project()&&t.project().permissions.viewMessagesAndFiles()&&"1"===t.project().activePages.files().toString()}}(this)),a=["start","due"],o=[],n=0,i=a.length;n<i;n++)e=a[n],o.push(function(e){return function(n){if(null==e[n+"DateAsMoment"]||!s.isComputed(e[n+"DateAsMoment"]))return e[n+"DateAsMoment"]=s.pureComputed({read:function(){var s;return s=e[n+"Date"](),null==s?null:8!==s.length?null:t(s,"YYYYMMDD")},write:function(s){var i;i=t.isMoment(s)?s.format("YYYYMMDD"):"",e[n+"Date"](i)},owner:e})}}(this)(e));return o},e.prototype.GetNewJSON=function(){var t,e,s,n,i;return t={id:0,assignedPeople:[],name:"",description:"",taskId:0,columnId:0,projectId:0,taskListId:0,parentTaskId:0,taskListName:"",estimatedMinutes:0,dateCreated:new Date,dateCompleted:"",displayOrder:1e12,tags:[],progress:0,priority:"none",isEditMode:!0,isUpdating:!1,isSelected:!1,status:"ACTIVE",taskStatus:"new",hasFollowers:!1,archived:!1,completed:!1,startDate:"",dueDate:""},null!=(null!=(s=this.boardColumn)&&null!=(n=s.defaultTasklist)&&null!=(i=n.newTaskDefaults)?i.responsiblePartyId:void 0)&&(e=this.boardColumn.defaultTasklist.newTaskDefaults,t.assignedPeople=app.utility.ConvertToArray(e.responsiblePartyId()),t.startDate=e.startDate(),t.dueDate=e.dueDate(),t.estimatedMinutes=parseInt(e.estimatedMinutes(),10),t.estimatedTimeHours=Math.floor(t.estimatedMinutes/60),t.estimatedTimeMinutes=t.estimatedMinutes%60,t.priority=e.priority(),t.tags=e.tags()),t},e.prototype.Duplicate=function(){var t;return t={get:"card,columnStats"},app.api.post("boards/columns/cards/"+this.id()+"/duplicate.json",t).then(function(t){return function(e){var s,n;return null!=(null!=(n=e.response.column)?n.stats:void 0)&&app.ko.postbox.publish("sync-column-stats",e.response.column),s={eventTime:new Date,itemType:"taskCard",actionType:app.consts.ACTIONTYPE.ADDED,itemId:t.id(),boardColumnId:t.columnId(),projectId:app.currentRoute().projectId,subType:"task-"+t.taskStatus()},app.ko.postbox.publish("allTWEvents",s)}}(this))},e.prototype.GetTask=function(){var t;return t=s.mapping.toJS(this),t.cardId=t.id,t.id=t.taskId,new e(t)},e.prototype.Clone=function(){var t;return t=s.mapping.toJS(this),new e(t)},e.prototype.UpdateDefaults=function(t){var e,s,n,i;if(null==t&&(t=null),null!=t&&(this.boardColumn=t),null!=(null!=(s=this.boardColumn)&&null!=(n=s.defaultTasklist)&&null!=(i=n.newTaskDefaults)?i.responsiblePartyId:void 0))return e=this.boardColumn.defaultTasklist.newTaskDefaults,this.assignedPeople(app.utility.ConvertToArray(e.responsiblePartyId())),this.startDate(e.startDate()),this.dueDate(e.dueDate()),this.estimatedMinutes(parseInt(e.estimatedMinutes(),10)),this.estimatedTimeHours(Math.floor(this.estimatedMinutes()/60)),this.estimatedTimeMinutes(this.estimatedMinutes()%60),this.priority(e.priority()),this.tags(e.tags())},e}()}.apply(e,i))&&(t.exports=a)}).call(e,s(245))},2356:function(t,e){t.exports='<div class="sectionFormLightbox" data-bind="attr: {id: holderId}">\n\n\t<div class="modal-header cursor--move">\n\t\t<h2 class="modal-title">{{ modalTitle }}</h2>\n\t</div>\n\n\t<form method="post" data-bind="submit: OnSubmit">\n\t\t<div class="modal-body">\n\t\t\t<div class="form-group mb--large">\n\t\t\t\t<label for="{{holderId}}_name" class="large">{{app.tl(\'Give the list a name\')}}</label>\n\t\t\t\t<input id="{{holderId}}_name" name="listName" type="text" tabindex="1" class="form-control" maxlength="255" data-bind="textInput: listName, attr: { autocomplete: app.isSafari ? \'off\' : \'on\' }" placeholder="{{namePlaceholder}}" />\n\t\t\t</div>\n\n\t\t\t<div class="lightBoxTabs" data-bind="if: tabs()">\n\t\t\t\t\x3c!-- ko component: { name: "ui-simple-tabs", params:{ tabs: tabs() } } --\x3e\x3c!-- /ko --\x3e\n\n\t\t\t\t<div class="tabPane" data-bind="visible: tabs().selCode() == \'notes\'">\n\t\t\t\t\t<label for="listDescription">\n\t\t\t\t\t\t{{app.tl(\'Do you have any notes for this list? Enter them here.\')}} <small>({{app.tl(\'Optional\')}})</small>\n\t\t\t\t\t</label>\n\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\tname: \'widget-easy-markdown-editor\',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tcontent: listDescription\n\t\t\t\t\t\t}\n\t\t\t\t\t} --\x3e\x3c!-- /ko --\x3e\n\t\t\t\t</div>\n\n\t\t\t\t<div class="tabPane" data-bind="visible:tabs().selCode() == \'privacy\'">\n\t\t\t\t\t<label class="large">{{app.tl(\'Who can view this task list?\')}}</label>\n\t\t\t\t\t\x3c!-- ko if: taskListLoaded --\x3e\n\t\t\t\t\t\t\x3c!-- ko ifnot: app.featureFlip.check(\'teams\') --\x3e\n\t\t\t\t\t\t\t\x3c!-- ko component: { name:\'widget-people-picker\', params:{ projectId:projectId, item:taskList, itemType:\'tasklist\', id:ko.unwrap(taskListId), pickerType:\'privacy\', mode:mode, privacyIds: privacyIds } } --\x3e\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\t\t\t\x3c!-- ko if: app.featureFlip.check(\'teams\') --\x3e\n\t\t\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\t\t\tname: \'widget-item-privacy-picker\',\n\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\tprojectId: projectId,\n\t\t\t\t\t\t\t\t\t\titem: taskList,\n\t\t\t\t\t\t\t\t\t\titemType: \'tasklist\',\n\t\t\t\t\t\t\t\t\t\titemId: taskListId,\n\t\t\t\t\t\t\t\t\t\tprivacyIds: privacyIds,\n\t\t\t\t\t\t\t\t\t\tformat: \'button\'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t</div>\n\n\t\t\t\t\x3c!-- ko if: canAddMilestones --\x3e\n\t\t\t\t\t<div ismoretab="false" class="tabPane" data-bind="visible:tabs().selCode()==\'milestone\'">\n\t\t\t\t\t\t<label class="large">\n\t\t\t\t\t\t\t{{app.tl(\'Does this list relate to a milestone?\')}}\n\t\t\t\t\t\t\t\x3c!-- ko if: stats() && stats().milestones && stats().milestones.complete --\x3e\n\t\t\t\t\t\t\t\t<a href="javascript:void(0)" style="font-size:11px; padding-left: 10px; padding-top:4px; float:right;" data-bind="click:function(){showCompletedMilestones(!showCompletedMilestones())}">\n\t\t\t\t\t\t\t\t\t\x3c!-- ko if: showCompletedMilestones --\x3e\n\t\t\t\t\t\t\t\t\t\t{{app.tl(\'Hide Completed\')}}\n\t\t\t\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t\t\t\t\x3c!-- ko ifnot: showCompletedMilestones --\x3e\n\t\t\t\t\t\t\t\t\t\t{{app.tl(\'Show Completed\')}}\n\t\t\t\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\x3c!-- ko if: stats() && !stats().milestones --\x3e\n\t\t\t\t\t\t\t<div>{{app.tl(\'Loading\')}}</div>\n\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\t\t\t\x3c!-- ko if: stats().milestones && stats().milestones.active == 0 && stats().milestones.complete == 0 --\x3e\n\t\t\t\t\t\t\t<div>{{app.tl(\'No Milestones Yet\')}}</div>\n\t\t\t\t\t\t\x3c!--/ko--\x3e\n\n\t\t\t\t\t\t\x3c!-- ko if: stats().milestones && (stats().milestones.active > 0 || stats().milestones.complete > 0) --\x3e\n\t\t\t\t\t\t\t<select id="addOrEditTaskListSelectedMilestone" data-bind="select2:{allowClear:true, templateResult:FormatMilestone, templateSelection:FormatSelectedMilestone, escapeMarkup: function(m) { return m; }, value:selectedMilestoneId, endpoint:milestonesUrl, itemClass:milestoneItemClass, searchKey:\'filterText\', key:\'milestones\', minimumResultsForSearch:10, placeholder:app.tl(\'No Milestone Selected\'), initialValue:initialMilestoneValue}" style="width:100%;"></select>\n\t\t\t\t\t\t\x3c!--/ko--\x3e\n\n\t\t\t\t\t\t<div style="margin:5px 0 10px 0;display:block;overflow:hidden">\n\t\t\t\t\t\t\t<a class="btn btn-default" data-bind="click:OnClickAddMilestone">\n\t\t\t\t\t\t\t\t<i class="fa fa-plus"></i>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{{app.tl("Create a new milestone")}}{{{app.localizationPreferences().ellipsis}}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\t<div class="tabPane" ismoretab="false" data-bind="visible:tabs().selCode()==\'advanced\'">\n\t\t\t\t\t<div class="form-content">\n\t\t\t\t\t\t<div class="form-group form-group--row">\n\t\t\t\t\t\t\t<label class="mr--large">{{app.tl(\'Pin this list so that it never gets closed?\')}}</label>\n\t\t\t\t\t\t\t<div class="mb--small">\n\t\t\t\t\t\t\t\t\x3c!-- ko component: {name: \'widget-toggleSwitch\', params:{value:isTasklistPinned, clickBubble:false }} --\x3e\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t<label class="large" data-bind="visible: taskListId == 0">{{app.tl(\'Would you like to use a template?\')}}</label>\n\t\t\t\t\t\t\t<div data-bind="visible: taskListId == 0">\n\t\t\t\t\t\t\t\t<div style="position: relative; min-height:50px">\n\t\t\t\t\t\t\t\t\t<div style="margin-top:3px;">\n\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\tclass="select"\n\t\t\t\t\t\t\t\t\t\t\tstyle="width: 100%; border-color:#DDD;"\n\t\t\t\t\t\t\t\t\t\t\tdata-bind="select2: {\n\t\t\t\t\t\t\t\t\t\t\t\tendpoint: \'tasklists/templates.json?getEmptyLists=false\',\n\t\t\t\t\t\t\t\t\t\t\t\tkey: \'tasklists\',\n\t\t\t\t\t\t\t\t\t\t\t\tpageSize: 200,\n\t\t\t\t\t\t\t\t\t\t\t\titemClass: templateItemClass,\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder: app.tl(\'Select a template\'),\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: selectedTemplateId,\n\t\t\t\t\t\t\t\t\t\t\t\ttextObservable: selectedTemplateName\n\t\t\t\t\t\t\t\t\t\t\t}">\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div id="ttlFormHolder" class="pt--small" data-bind="visible: templateTasks().length > 0">\n\t\t\t\t\t\t\t\t\t\t<div class="clearfix relative border--default radius--small" style="background-color:#FFF;">\n\t\t\t\t\t\t\t\t\t\t\t\x3c!-- ko if: (templateDatesExist() || templatePeopleExist()) && !isProjectTemplate() --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- ko if: templateDatesExist() --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="p--medium block clearfix">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="small" for="ttlStartDate" style="font-size:11px;color:#888;text-transform:uppercase;text-shadow: 1px 1px rgba(255, 255, 255, 0.9);">{{app.tl(\'Start Date\')}}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style="width:120px;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \'widget-dateInput\',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdate: templateStartDate,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateInputOptions: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowEmpty: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayShortcuts: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyleOverrides: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: \'90px\',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: \'28px\'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="w-date-input__shortcuts clearfix">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:;" class="w-date-input__shortcut" data-bind="click:function(){OnUpdateTemplateStartDate(0)}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{app.tl(\'Today\')}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t|\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:;" class="w-date-input__shortcut" data-bind="click:function(){OnUpdateTemplateStartDate(1)}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+1 {{app.tl(\'Day\')}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t|\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:;" class="w-date-input__shortcut" data-bind="click:function(){OnUpdateTemplateStartDate(7)}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+1 {{app.tl(\'Week\')}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div style="position:absolute;border-top-right-radius:3px;border-bottom-left-radius:3px;top:-1px;right:-1px;display:inline-block;overflow:hidden;border:1px solid #DDD; background: #fff;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- ko if: templateDatesExist() --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style="padding:10px 10px 10px 10px;" data-bind="style: { borderBottom: templatePeopleExist() ? \'1px dashed #CCC\' : \'none\' }">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style="display:inline-block;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class="scb lhs off" href="javascript:;" data-bind="css:{\'off\':!templateSkipWeekends()}, click:function(){templateSkipWeekends(!templateSkipWeekends())}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{{app.tl(\'Skip Weekends\')}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- ko if: templatePeopleExist() --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style="padding:10px 10px 10px 10px;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style="display:inline-block;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class="scb lhs off" href="javascript:;" data-bind="css:{\'off\':!templateNotifyEveryone()}, click:function(){templateNotifyEveryone(!templateNotifyEveryone())}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{{app.tl(\'Notify everyone by email\')}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\x3c!--/ko--\x3e\n\n\t\t\t\t\t\t\t\t\t\t\t<div style="margin:0 8px 5px 8px;">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class="small relative text-center" for="inputTaskDate" style="z-index:9999;background:#FFF;display:block;padding:0 5px;font-size:10px;color:#AAA;text-transform:uppercase;width:80px;margin:0 auto 0 auto;letter-spacing:1px">{{app.tl(\'Preview\')}}</label>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div style="width:100%;max-height:200px;overflow-x:hidden;overflow-y:auto;border-top:1px solid #EEE;margin-top:-8px;padding-top:10px;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<table width="100%" border="0" cellpadding="0" cellspacing="0">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody data-bind="foreach:templateTasks">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="width:60px;padding:7px 10px 7px 0px;;vertical-align:top;color:#A5A5A5;font-size:11px;white-space:nowrap;text-shadow: -1px -1px #FFF;">\x3c!-- ko if: parentTaskId != \'\' --\x3e<span style="display:inline-block;margin:0px 10px">&bull;</span>\x3c!--/ko--\x3e{{$component.getDateInterval($data)}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="padding:7px 10px 7px 0;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style="max-width:360px;height:16px;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#222;font-size:13px;font-weight:normal;">{{$component.getTemplateTaskNameNoRole($data)}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style="color:#C2AA60;font-size:10px;">{{$component.getTemplateTaskRoleName($data)}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style="color:#ADADAD;font-size:10px;">{{$component.getResponsibleUsers($data)}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div ismoretab="false" ignoreautofocus="true" class="tabPane" data-bind="visible:tabs().selCode()==\'defaults\'">\n\t\t\t\t\t\x3c!-- ko if: taskListId > 0 && tlDataLoader.isLoading() --\x3e\n\t\t\t\t\t\t{{app.tl(\'Loading\')}}\n\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\x3c!-- ko if: taskListId === 0 || !tlDataLoader.isLoading() --\x3e\n\t\t\t\t\t\t<label class="block">{{app.tl(\'Defaults for new tasks\')}}</label>\n\t\t\t\t\t\t<p class="font-size--small mb--large">{{(\'Tasks created on this list will use the following default values\')}}:</p>\n\n\t\t\t\t\t\t<div data-bind="click: OnClickEditTaskDefaults" class="border--default px--large py--medium radius--small relative">\n\t\t\t\t\t\t\t<button type="button" id="tlPickDefaults" style="top: 0; right: 0;" class="btn btn-default absolute m--small">\n\t\t\t\t\t\t\t\t<i class="fa fa-pencil" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t{{app.tl(\'Edit\')}}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<label for="tlPickDefaults" class="block m--none">\n\t\t\t\t\t\t\t\t<table class="u-task-defaults">\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__title-cell" data-bind="text:app.tl(\'Assigned To\')"></td>\n\t\t\t\t\t\t\t\t\t\t\t<td colspan="3" class="u-task-defaults__content-cell">\n\t\t\t\t\t\t\t\t\t\t\t\t<div>{{taskList.newTaskDefaults.responsiblePartySummary()}}</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__title-cell" data-bind="text:app.tl(\'Description\')"></td>\n\t\t\t\t\t\t\t\t\t\t\t<td colspan="3" class="u-task-defaults__content-cell">\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- ko if: taskList.newTaskDefaults.description().length > 60 --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t<div style="float: left;" data-tipped-options="skin: \'light\', hideOn:false, hideAfter: 300, maxWidth: 200, position: \'right\'"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-content="{{tippedContent}}" data-bind="marked: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: taskList.newTaskDefaults.description,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstrip: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlength: 60\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttippedDelegate"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- ko ifnot: taskList.newTaskDefaults.description().length > 60 --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t<div data-bind="marked: taskList.newTaskDefaults.description"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__title-cell">{{app.tl(\'Following Changes\')}}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td colspan="3" class="u-task-defaults__content-cell">\n\t\t\t\t\t\t\t\t\t\t\t\t<div>{{displayTaskDefaults(\'changeFollowers\',taskList.newTaskDefaults.changeFollowerSummary())}}</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__title-cell">{{app.tl(\'Following Comments\')}}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td colspan="3" class="u-task-defaults__content-cell">\n\t\t\t\t\t\t\t\t\t\t\t\t<div>{{displayTaskDefaults(\'commentFollowers\',taskList.newTaskDefaults.commentFollowerSummary())}}</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__title-cell">{{ app.tl(\'Private\') }}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__content-cell">{{displayTaskDefaults(\'private\',taskList.newTaskDefaults.private())}}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__title-cell">{{ app.tl(\'Set Reminders\') }}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__content-cell">{{displayTaskDefaults(\'reminders\',taskList.newTaskDefaults.reminders())}}</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__title-cell" data-bind="text:app.tl(\'Priority\')"></td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__content-cell">{{displayTaskDefaults(\'priority\',taskList.newTaskDefaults.priority())}}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__title-cell">{{app.tl(\'Estimated Time\')}}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__content-cell">{{displayTaskDefaults(\'estimatedMinutes\',taskList.newTaskDefaults.estimatedMinutes())}}</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__title-cell">{{app.tl(\'Start Date\')}}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__content-cell">{{displayTaskDefaults(\'days\',taskList.newTaskDefaults.startDateOffset())}}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__title-cell">{{app.tl(\'Due Date\')}}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__content-cell">{{displayTaskDefaults(\'days\',taskList.newTaskDefaults.dueDateOffset())}}</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr data-bind="visible:app.account.tagsEnabled()">\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__title-cell">{{app.tl(\'Tags\')}}</td>\n                                            <td colspan="3" class="u-task-defaults__content-cell">{{displayTaskDefaults(\'tags\',taskList.newTaskDefaults.tags())}}</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class="u-task-defaults__title-cell">{{app.tl(\'Board Column\')}}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td colspan="3" class="u-task-defaults__content-cell">{{displayTaskDefaults(\'column\',taskList.newTaskDefaults.boardColumn)}}</td>\n                                        </tr>\n                                        \x3c!-- ko if: app.featureFlip.check(\'customfieldstasks\') --\x3e\n                                            <tr>\n                                                <td class="u-task-defaults__title-cell">{{app.tl(\'Custom Fields\')}}</td>\n                                                <td colspan="3" class="u-task-defaults__content-cell">{{displayTaskDefaults(\'customFields\',taskList.newTaskDefaults.customFields())}}</td>\n                                            </tr>\n                                        \x3c!-- /ko --\x3e\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="modal-footer flex">\n\t\t\t<button type="button" class="btn btn-default" data-bind="click: Lightbox.cancel, css: {warning: true}">{{app.tl(\'Close\')}}</button>\n\t\t\t<button disabled type="submit" class="btn btn-success ml--auto mr--none"  data-bind="loader: isSubmitting, click: OnSubmit">\n\t\t\t    {{buttonText}}\n\t\t\t</button>\n\t\t</div>\n\t</form>\n\n</div>\n<span data-bind="template: { afterRender: function(){ OnShow() } }"></span>\n'},2357:function(t,e){t.exports='<div data-bind="marked: taskList.newTaskDefaults.description"></div>'},2657:function(t,e){t.exports="<div class=\"completedTasksList\" style=\"padding:0 0 30px 0;min-height:50px;\">\n\n    <div style=\"padding:0 0 10px 70px;color:#AAA;font-size:10px;text-transform:uppercase;\">\n    \t{{app.tl('Completed Tasks')}}\n    </div>\n\n\t\x3c!-- ko if: taskData.state() == 'loading' --\x3e\n\t\t\x3c!-- ko component: {name: 'list-state-loading-new', params:{itemType: 'task'}} --\x3e\x3c!-- /ko --\x3e\n\t\x3c!--/ko--\x3e\n\n\t\x3c!-- ko if: taskData.state() == 'blank' --\x3e\n\t\t<div class=\"tlBlankSlate\" style=\"margin-top: 15px; margin-left: 60px; cursor:pointer;\">{{app.tl('No completed tasks yet')}}.</div>\n\t\x3c!--/ko--\x3e\n\n\t\x3c!-- ko if: taskData.state() === 'content' --\x3e\n\t    \x3c!-- ko foreach: { data: taskData.list() } --\x3e\n\t    \t\x3c!-- ko if: status() === 'completed' --\x3e\n\t    \t    \x3c!-- ko component: {name: 'widget-task-row', params:{task:$data, taskList:$component.taskList, mode:$component.mode, level:1, parentVM:$component, inCompletedList:true, isQuickView:$component.isQuickView}} --\x3e\x3c!-- /ko --\x3e\n\t    \t\x3c!-- /ko --\x3e\n\t    \x3c!-- /ko --\x3e\n\n\t    \x3c!-- ko component:{name:'widget-loadMore', params:{dataLoader:taskData, class:'section-tasks-list'}} --\x3e\x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n</div>\n\n\x3c!-- IMPORTANT - Mark this template loaded --\x3e\n\x3c!-- ko if: $data.readyToShow != null && readyToShow --\x3e\n    <div data-bind=\"template:{afterRender:function(){templateLoaded(true)}}\" class=\"hidden\"></div>\n\x3c!-- /ko --\x3e"},2838:function(t,e){t.exports='\x3c!-- ko if: !isQuickView && app.isBoardsView() && shouldShowBoardOptions() --\x3e\n\n\t<button data-bind="visible: canModifyBoard, click: OnClickAddColumn" type="button" class="btn btn-success main-header__button mr--small">\n\t\t<span class="fa fa-plus-circle fa-lg"></span>\n\t\t{{app.tl(\'Add Column\')}}\n\t</button>\n\n\t<button\n\t\tdata-bind="visible: canModifyBoard, tippedDelegate"\n\t\tdata-content="{{tippedOptionsContent}}"\n\t\ttype="button"\n\t\tclass="btn btn-default main-header__button tipped-click mr--small"\n\t\taria-label="More Options"\n\t\tdata-tipped-options="\n\t\t\tshowOn: \'click\',\n\t\t\thideOthers: true,\n\t\t\thideOn: \'click\',\n\t\t\thideOnClickOutside: true,\n\t\t\tskin: \'light\',\n\t\t\tpadding: false,\n\t\t\tfadeIn: 120,\n\t\t\tshowDelay: 0,\n\t\t\thideAfter: 0,\n\t\t\tfadeOut: 0,\n\t\t\tposition:{\n\t\t\t\ttarget: \'bottommiddle\',\n\t\t\t\ttooltip: \'topmiddle\'\n\t\t\t}">\n\t\t<svg class="tipped-hide ma" width="3" height="13" viewBox="0 0 3 13" xmlns="http://www.w3.org/2000/svg" data-tipped="{{app.tl(\'Options\')}}">\n\t\t\t<path data-bind="attr: {d: app.consts.SVG.options}" fill-rule="evenodd"/>\n\t\t</svg>\n\t</button>\n\x3c!--/ko--\x3e\n\n\x3c!-- ko if: isListingMode() && !app.isBoardsView() --\x3e\n\t\x3c!-- ko ifnot: isReordering() --\x3e\n\t\t\x3c!-- ko if: $component.canAddTaskLists() --\x3e\n\t\t\t<button data-bind="click: OnClickAddTaskList" type="button" class="btn btn-success main-header__button mr">\n\t\t\t\t<span class="fa fa-plus-circle fa-lg"></span>\n\t\t\t\t{{app.tl(\'Add Task List\')}}\n\t\t\t</button>\n\t\t\x3c!--/ko--\x3e\n\n\t\t<button\n\t\t\ttype="button"\n\t\t\tclass="btn btn-default main-header__button tipped-click mr--small"\n\t\t\tdata-content="{{tippedProjectTasksOptionsContent}}"\n\t\t\tdata-bind="tippedDelegate"\n\t\t\tdata-tipped-options="\n\t\t\t\tskin: \'light\',\n\t\t\t\thideOthers: true,\n\t\t\t\thideOnClickOutside: true,\n\t\t\t\thideOn: \'click\',\n\t\t\t\tposition: {\n\t\t\t\t\ttarget: \'bottommiddle\',\n\t\t\t\t\ttooltip: \'topright\'\n\t\t\t\t},\n\t\t\t\tshowOn:\'click\',\n\t\t\t\tpadding: false,\n\t\t\t\tfadeIn: 120,\n\t\t\t\tshowDelay: 0,\n\t\t\t\thideAfter: 0,\n\t\t\t\tfadeOut: 0"\n\t\t\taria-label="More Options">\n\t\t\t<svg class="tipped-hide ma" data-tipped="{{app.tl(\'Options\')}}" width="3" height="13" viewBox="0 0 3 13" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t<path data-bind="attr: {d: app.consts.SVG.options}" fill-rule="evenodd"/>\n\t\t\t</svg>\n\t\t</button>\n\t\x3c!--/ko--\x3e\n\t\x3c!-- ko if: isReordering() --\x3e\n\t\t<button data-bind="click: OnReorderLists" type="button" class="btn btn-success main-header__button  mr--small">\n\t\t\t<span class="fa fa-check"></span>\n\t\t\t{{app.tl(\'Finished\')}}\n\t\t</button>\n\t\x3c!--/ko--\x3e\n\x3c!--/ko--\x3e\n\n\x3c!-- ko ifnot: tab --\x3e\n\t\x3c!-- ko if: canShowTaskHeaderButtons --\x3e\n\t\t\x3c!-- ko with: taskViewModel() --\x3e\n\t\t\t\x3c!-- ko if: projectIsActive() && !readOnly() --\x3e\n\t\t\t    \x3c!-- ko component: {\n\t\t\t\t\t\tname: \'widget-followBtn\',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\titem: task(),\n\t\t\t\t\t\t\ttype: \'task\'\n\t\t\t\t\t\t}\n\t\t\t\t\t}--\x3e\n\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\x3c!--/ko--\x3e\n\n\n\t\t\t\x3c!-- ko if: $component.shouldShowTimerButton() && !isTemplate() --\x3e\n\t\t\t\t<button data-bind="click: $component.OnStartTaskTimer" type="button" class="btn btn-default main-header__button mr">\n\t\t\t\t\t\x3c!-- ko if: $component.activeTaskTimer --\x3e\n\t\t\t\t\t\t\x3c!-- ko if: $component.activeTaskTimer().running --\x3e\n\t\t\t\t\t\t\t<span class="fa fa-square mr"></span>\n\t\t\t\t\t\t\t{{app.tl(\'Stop Timer\')}}\n\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t\x3c!-- ko ifnot: $component.activeTaskTimer().running --\x3e\n\t\t\t\t\t\t\t<span class="fa fa-play mr"></span>\n\t\t\t\t\t\t\t{{app.tl(\'Resume Timer\')}}\n\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\x3c!-- ko ifnot: $component.activeTaskTimer --\x3e\n\t\t\t\t\t\t<span class="fa fa-play mr"></span>\n\t\t\t\t\t\t{{app.tl(\'Start Timer\')}}\n\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t</button>\n\t\t\t\x3c!--/ko--\x3e\n\n\t\t\t\x3c!-- ko if: $component.isHarvestEnabled() && task && task() && task().harvestProjectData && !isTemplate() --\x3e\n\t\t\t\t<button\n\t\t\t\t\ttype="button"\n\t\t\t\t\tclass="btn harvest-timer main-header__button mr--small tipped-hide"\n\t\t\t\t\tdata-tipped="{{app.tl(\'Start/Stop [_s] Timer\',\'Harvest\')}}"\n\t\t\t\t\tdata-bind="attr:{\'data-project\':task().harvestProjectData(),\'data-item\':task().harvestItemData()}">\n\t\t\t\t\t<span class="icon"></span>\n\t\t\t\t\tHarvest\n\t\t\t\t</button>\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\x3c!-- ko if: task() && task().status() !== \'completed\' && task().canEdit() --\x3e\n\t\t\t\t<button data-bind="click: $component.OnEditTask" type="button" class="btn btn-success main-header__button mr--small">\n\t\t\t\t\t<span class="fa fa-pencil mr"></span>\n\t\t\t\t\t{{app.tl(\'Edit Task\')}}\n\t\t\t\t</button>\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t<button type="button"\n\t\t\t\tclass="btn btn-default main-header__button tipped-click"\n\t\t\t\taria-label="More Options"\n\t\t\t\tdata-tipped-options="\n\t\t\t\t\tskin:\'light\',\n\t\t\t\t\thideOthers:true,\n\t\t\t\t\thideOnClickOutside:true,\n\t\t\t\t\thideOn:\'click\',\n\t\t\t\t\tshowOn:\'click\',\n\t\t\t\t\tpadding: false,\n\t\t\t\t\tshowDelay: 0,\n\t\t\t\t\thideAfter: 0,\n\t\t\t\t\tfadeIn: 120,\n\t\t\t\t\tfadeOut: 0,\n\t\t\t\t\tposition:{\n\t\t\t\t\t\ttarget:\'bottommiddle\',\n\t\t\t\t\t\ttooltip:\'topright\'\n\t\t\t\t\t}"\n\t\t\t\tdata-content="{{$component.tippedTaskOptionsContent}}"\n\t\t\t\tdata-bind="tippedDelegate">\n\t\t\t\t<svg class="tipped-hide ma" width="3" height="13" viewBox="0 0 3 13" xmlns="http://www.w3.org/2000/svg" data-tipped="{{app.tl(\'Options\')}}">\n\t\t\t\t\t<path data-bind="attr: {d: app.consts.SVG.options}" fill-rule="evenodd"/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t\x3c!-- /ko --\x3e\n\t\x3c!-- /ko --\x3e\n\n\t\x3c!-- ko if: isTaskListDetailMode() && taskListViewModel() && taskListViewModel().taskList() --\x3e\n\t\t\x3c!-- ko with: taskListViewModel() --\x3e\n\t\t\t\x3c!-- ko if: canAddTasks() --\x3e\n\t\t\t\t<button data-bind="click: $component.OnAddTaskToTaskList" type="button" class="btn btn-success main-header__button mr--small">\n\t\t\t\t\t<span class="fa fa-plus-circle fa-lg mr"></span>\n\t\t\t\t\t{{app.tl(\'Add a Task\')}}\n\t\t\t\t</button>\n\n\t\t\t\t<button data-bind="click: $component.OnEditTaskList" type="button" class="btn btn-success main-header__button mr--small">\n\t\t\t\t\t<span class="fa fa-pencil mr"></span>\n\t\t\t\t\t{{app.tl(\'Edit\')}}\n\t\t\t\t</button>\n\t\t\t\x3c!--/ko--\x3e\n\n\t\t\t\x3c!-- ko component: {\n\t\t\t\t\tname: "widget-tasklist-dropdown",\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tshowIcon: false,\n\t\t\t\t\t\tuseButton: true,\n\t\t\t\t\t\ttaskList: taskList(),\n\t\t\t\t\t\tprojectId: ko.unwrap(projectId)\n\t\t\t\t\t}\n\t\t\t\t} --\x3e\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\x3c!-- /ko --\x3e\n\t\x3c!--/ko--\x3e\n\x3c!--/ko--\x3e\n\n\x3c!-- IMPORTANT - Mark this template loaded --\x3e\n\x3c!-- ko if: $data.readyToShow != null && readyToShow --\x3e\n    <div data-bind="template:{afterRender:function(){templateLoaded(true)}}" class="hidden"></div>\n\x3c!-- /ko --\x3e\n'},2839:function(t,e){t.exports='<div class="w-options-list w-options-list--tipped">\n\t<ul class="w-options-list__list">\n\t\t\x3c!-- ko if: boardHasActiveFilter() && !app.account.isFreeAccount() --\x3e\n\t\t\t<li>\n\t\t\t\t<a class="w-options-list__item" data-bind="click: OnClickShareBoardFilter" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-fw fa-share"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Share Filter\')}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\x3c!--/ko--\x3e\n\t\t<li>\n\t\t\t<a class="w-options-list__item" data-bind="click: OnClickViewArchivedCards" href="javascript:;">\n\t\t\t\t<i class="w-options-list__icon fa fa-fw fa-archive"></i>\n\t\t\t\t<span class="w-options-list__text">{{app.tl(\'View Archived Cards\')}}</span>\n\t\t\t</a>\n\t\t</li>\n\t\t<li>\n\t\t\t<a class="w-options-list__item" data-bind="click: OnClickManageColumns" href="javascript:;">\n\t\t\t\t<i class="w-options-list__icon fa fa-fw fa-cog"></i>\n\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Manage Columns\')}}</span>\n\t\t\t</a>\n\t\t</li>\n\t\t<li>\n\t\t\t<a class="w-options-list__item" data-bind="click: OnClickCollapseCards" href="javascript:;">\n\t\t\t\t\x3c!-- ko ifnot: useCollapsedMode --\x3e\n\t\t\t\t\t<i class="w-options-list__icon fa fa-fw fa-minus"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Minimize Card Details\')}}</span>\n\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\x3c!-- ko if: useCollapsedMode --\x3e\n\t\t\t\t\t<i class="w-options-list__icon fa fa-fw fa-align-justify"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Show Card Details\')}}</span>\n\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t</a>\n\t\t</li>\n\t\t\x3c!-- ko if: app.featureFlip.check(\'myBoards\') --\x3e\n\t\t\t<li>\n\t\t\t\t<a class="w-options-list__item" data-bind="click: OnClickSaveBoard" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-fw fa-save"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Save to My Boards\')}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\x3c!-- /ko --\x3e\n\t\t<li>\n\t\t\t<a class="w-options-list__item" data-bind="click: OnClickKeyboardShortcuts" href="javascript:;">\n\t\t\t\t<i class="w-options-list__icon fa fa-fw fa-keyboard-o"></i>\n\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Keyboard Shortcuts\')}}</span>\n\t\t\t</a>\n\t\t</li>\n\t</ul>\n</div>'},2840:function(t,e){t.exports='<div class="w-options-list w-options-list--tipped">\n\t<ul class="w-options-list__list">\n\t\t\x3c!-- ko if: hasActiveFilter() && !app.account.isFreeAccount() --\x3e\n\t\t\t<li data-bind="click: OnClickShareFilter" >\n\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-fw fa-share"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Share Filter\')}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\x3c!--/ko--\x3e\n\t\t\x3c!-- ko if: app.loggedInUser.userType() == \'account\' && !isTemplate() && canAddTasks() && canEditAllTasks--\x3e\n\t\t\t<li data-bind="click: OnClickBulkEditTasks, visible: projectIsActive">\n\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-pencil"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Bulk Edit Tasks\')}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- ko ifnot: hasActiveFilter --\x3e\n\t\t\t<li data-bind="click:OnCollapseAll">\n\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-minus-square"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Collapse All Task Lists\')}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<li data-bind="click:OnExpandAll">\n\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-plus-square"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Expand All Task Lists\')}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- ko if: canAddTasks() && !isTemplate() --\x3e\n\t\t\t<li data-bind="click:OnClickPostByEmail">\n\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-envelope"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Post Tasks via Email\')}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t\x3c!-- ko if: $component.canAddTaskLists() --\x3e\n\t\t\t\t<li data-bind="click:OnClickImportTasks">\n\t\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t\t<i class="w-options-list__icon fa fa-upload"></i>\n\t\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Import Tasks\')}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- ko if: $component.canAddTaskLists() && !hasActiveFilter() --\x3e\n\t\t\t<li>\n\t\t\t\t<a class="w-options-list__item tipped" data-tipped-options="stacked:true,inline:\'taskListSortOptions\',skin:\'light\',hideOthers:false,position:{target:\'rightmiddle\',tooltip:\'leftmiddle\' }, hideOn:false, hideAfter:300, padding: false" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-sort"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Reorder Task Lists\')}}</span>\n\t\t\t\t</a>\n\t\t\t\t<ul id="taskListSortOptions" class="w-options-list__list w-options-list__list--hidden">\n\t\t\t\t\t<li data-bind="click:function(){OnClickSortTaskList(\'name\')}, event:{\'mouseover\':OnHideIcon, \'mouseout\':OnShowIcon}">\n\t\t\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'By Task List Name\')}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li data-bind="click:function(){OnClickSortTaskList(\'numberOfTasks\')}, event:{\'mouseover\':OnHideIcon, \'mouseout\':OnShowIcon}">\n\t\t\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'By Number of Tasks\')}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li data-bind="click:function(){OnClickSortTaskList(\'createdDate\')}, event:{\'mouseover\':OnHideIcon, \'mouseout\':OnShowIcon}">\n\t\t\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'By Date Created\')}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li data-bind="click:function(){OnClickSortTaskList(\'milestoneName\')}, event:{\'mouseover\':OnHideIcon, \'mouseout\':OnShowIcon}">\n\t\t\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'By Milestone Name\')}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li data-bind="click:function(){OnClickSortTaskList(\'milestoneDate\')}, event:{\'mouseover\':OnHideIcon, \'mouseout\':OnShowIcon}">\n\t\t\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'By Milestone Date\')}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li data-bind="click:OnReorderLists">\n\t\t\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Manually\')}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t\x3c!--/ko--\x3e\n\t\t\x3c!-- ko ifnot: readOnly --\x3e\n\t\t\t<li data-bind="click: function(){app.GoTo(\'task-templates\')}, visible: app.loggedInUser.permissions.canAccessTemplates() && projectIsActive()">\n\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-list"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Manage Task Templates\')}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\x3c!-- /ko --\x3e\n\t</ul>\n</div>\n'},2841:function(t,e){t.exports='<div class="w-options-list w-options-list--tipped">\n\t<ul class="w-options-list__list">\n\t\t<li data-bind="click: $component.OnShowPrintableTaskVersion">\n\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t<i class="w-options-list__icon fa fa-print"></i>\n\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Printable Version\')}}</span>\n\t\t\t</a>\n\t\t</li>\n\t\t\x3c!-- ko ifnot: $component.isTemplate --\x3e\n\t\t\t<li data-bind="click: $component.OnViewTaskActivity">\n\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-bolt"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'View History\')}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- ko if: !$component.isTemplate --\x3e\n\t\t<li data-bind="click: $component.OnShowTaskReminders">\n\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t<i class="w-options-list__icon fa fa-bell"></i>\n\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Task Reminders\')}}</span>\n\t\t\t</a>\n\t\t</li>\n\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- ko if: task().canLogTime() && !$component.isTemplate() --\x3e\n\t\t\t<li data-bind="click: $component.OnStartTaskTimer">\n\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-play"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Start Task Timer\')}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\x3c!--/ko--\x3e\n\t\t\x3c!-- ko if: task().canEdit() --\x3e\n\t\t\t<li data-bind="click: $component.OnModifyTaskProperties">\n\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-info-circle"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Modify Properties\')}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<li data-bind="click: $component.OnClickMoveOrCopyTask">\n\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-copy"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Move or Copy this Task\')}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<li data-bind="click: $component.OnClickDeleteTask">\n\t\t\t\t<a class="w-options-list__item" href="javascript:;">\n\t\t\t\t\t<i class="w-options-list__icon fa fa-trash"></i>\n\t\t\t\t\t<span class="w-options-list__text">{{app.tl(\'Delete [_s]\', app.tl(\'Task\') )}}</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\x3c!--/ko--\x3e\n\t</ul>\n</div>\n'},2842:function(t,e){t.exports='<header class="main-header mb--medium" data-bind="visible: shouldShowViewModes">\n\n\t\x3c!-- ko if: taskMode() == \'list\' --\x3e\n\t\t\x3c!-- ko component: {\n\t\t\t\tname: \'ui-filterInfo\',\n\t\t\t\tparams: {\n\t\t\t\t\tfilter: filters(),\n\t\t\t\t\tnumberOfRecords: numberOfResults,\n\t\t\t\t\tmode: \'bar\'\n\t\t\t\t}\n\t\t\t} --\x3e\n\t\t\x3c!-- /ko --\x3e\n\t\x3c!-- /ko --\x3e\n\n\t<div class="main-header__secondary mt--none mb--medium">\n\t\t<div class="main-header__left">\n\t\t\t<div class="main-header__filtered-results flex flex-items-center">\n\t\t\t\t\x3c!-- ko if: taskMode() == \'board\' && shouldShowBacklog() && canAddCards() --\x3e\n\t\t\t\t\t<button class="btn btn-primary btn-sm mr--small" type="button" data-bind="click: function(){ app.showBacklog(!app.showBacklog()) }">\n\t\t\t\t\t\t\x3c!-- ko if: app.showBacklog --\x3e\n\t\t\t\t\t\t\t<i class="fa fa-angle-left" style="color: #fff;"></i> {{app.tl(\'Hide Backlog\')}}\n\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t\x3c!-- ko ifnot: app.showBacklog --\x3e\n\t\t\t\t\t\t\t<i class="fa fa-angle-right" style="color: #fff;"></i> {{app.tl(\'Show Backlog\')}}\n\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<span id="{{$component.boardRemovalPlaceholderId}}"\n\t\t\t\t\t\tclass="remove-card"\n\t\t\t\t\t\tdata-bind="\n\t\t\t\t\t\t\tvisible: isDraggingCard,\n\t\t\t\t\t\t\tcss: {\n\t\t\t\t\t\t\t\t\'boards--can-remove-card\': canRemoveCard,\n\t\t\t\t\t\t\t\t\'archive-card\': isDraggingCompletedCard\n\t\t\t\t\t\t\t}">\n\t\t\t\t\t\t<button class="btn btn-default btn-sm" type="button">\n\t\t\t\t\t\t\t\x3c!-- ko ifnot: isDraggingCompletedCard --\x3e\n\t\t\t\t\t\t\t\t<i class="fa fa-times-circle"></i>\n\t\t\t\t\t\t\t\t{{app.tl(\'Remove from Board\')}}\n\t\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t\t\x3c!-- ko if: isDraggingCompletedCard --\x3e\n\t\t\t\t\t\t\t\t<i class="fa fa-archive"></i>\n\t\t\t\t\t\t\t\t{{app.tl(\'Archive Card\')}}\n\t\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t\x3c!--/ko--\x3e\n\n\t\t\t\t\x3c!-- ko if: taskMode() == \'board\' && boardHasActiveFilter() --\x3e\n\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\tname: \'ui-filterInfo\',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tfilter: boardFilters(),\n\t\t\t\t\t\t\t\tmode: \'inline-bar\',\n\t\t\t\t\t\t\t\tclasses: [\'ml--small\'],\n\t\t\t\t\t\t\t\tinfoText: app.tl(\'This board is filtered\')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\t\t\x3c!-- ko if: boardHasHiddenColumns() && !app.showBacklog() --\x3e\n\t\t\t\t\t\t<span class="ml--small">\n\t\t\t\t\t\t\t<i class="fa fa-info-circle ml--small"></i>\n\t\t\t\t\t\t\t{{app.tl(\'Some columns are hidden\')}}\n\n\t\t\t\t\t\t\t(<a href="javascript:;" data-click="OnClickShowAllColumns">{{app.tl(\'Show All Columns\')}}</a>)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="main-header__right main-header__secondary-filters ">\n\t\t\t\x3c!-- ko if: !app.isShowingFullScreenMode() --\x3e\n\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\tname: \'widget-options\',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tselectedItem: taskMode,\n\t\t\t\t\t\titems: viewOptions,\n\t\t\t\t\t\tshowTips: true\n\t\t\t\t\t}\n\t\t\t\t} --\x3e\x3c!-- /ko --\x3e\n\t\t\t\t\x3c!-- ko if: showOldGantt --\x3e\n\t\t\t\t\t<button type="button"\n\t\t\t\t\tclass="btn btn-white btn-sm flex-self-baseline ml--small main-header__button tipped-hide"\n\t\t\t\t\taria-label="View Gantt Chart"\n\t\t\t\t\tdata-bind="click: OnClickViewGantt"\n\t\t\t\t\tdata-tipped="{{app.tl(\'View [_s] Chart\', \'Gantt\')}}">\n\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tname: \'gantt-tw-regular\'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\x3c!-- /ko--\x3e\n\t\t\t\t\t</button>\n\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\x3c!-- ko if: taskMode() == \'board\' && shouldShowBoardOptions() --\x3e\n\t\t\t\t\x3c!-- ko component: { name: \'ui-fullscreenToggleButton\', params: {buttonClasses: [\'btn-sm\', \'btn--toggle-fullscreen--no-margin\']} } --\x3e\x3c!-- /ko --\x3e\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\x3c!-- ko if: app.isShowingFullScreenMode --\x3e\n\t\t\t\t<button class="btn btn-success btn-sm ml" type="button" data-bind="visible: canModifyBoard, click: OnClickAddColumn">\n\t\t\t\t\t<i class="fa fa-plus"></i> {{app.tl(\'Add Column\')}}\n\t\t\t\t</button>\n\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="btn btn-default btn-sm ml main-header__button tipped-click"\n\t\t\t\t\taria-label="More Options"\n\t\t\t\t\tdata-content="{{tippedOptionsContent}}"\n\t\t\t\t\tdata-bind="visible: canModifyBoard, tippedDelegate"\n\t\t\t\t\tdata-tipped-options="\n\t\t\t\t\t\tshowOn: \'click\',\n\t\t\t\t\t\thideOn: \'click\',\n\t\t\t\t\t\thideOthers: true,\n\t\t\t\t\t\thideOnClickOutside: true,\n\t\t\t\t\t\tskin: \'light\',\n\t\t\t\t\t\tposition:{\n\t\t\t\t\t\t\ttarget: \'bottommiddle\',\n\t\t\t\t\t\t\ttooltip: \'topright\'\n\t\t\t\t\t\t}">\n\t\t\t\t\t<svg class="tipped-hide ma" width="3" height="13" viewBox="0 0 3 13" xmlns="http://www.w3.org/2000/svg" data-tipped="{{app.tl(\'Options\')}}">\n\t\t\t\t\t\t<path data-bind="attr: {d: app.consts.SVG.options}" fill-rule="evenodd"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\n\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\tname: \'ui-filterButton\',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\thasActiveFilter: boardHasActiveFilter,\n\t\t\t\t\t\t\tbuttonClasses: [\'btn-sm\']\n\t\t\t\t\t\t}\n\t\t\t\t\t} --\x3e\n\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\x3c!-- /ko --\x3e\n\t\t</div>\n\t</div>\n</header>\n\n\x3c!-- ko if: (app.currentRoute().itemId == null || app.currentRoute().request_.indexOf(\'board\') > -1) && app.currentRoute().projectTab == \'tasks\' --\x3e\n\n\t\x3c!-- ko if: taskMode() == \'list\' --\x3e\n\t\t\x3c!-- ko if: filters().active --\x3e\n\t\t\t\x3c!-- ko component: {\n\t\t\t\t\tname: "section-filtered-tasks",\n\t\t\t\t\tparams:{\n\t\t\t\t\t\tparentVM: $data,\n\t\t\t\t\t\tprojectId: app.currentRoute().projectId,\n\t\t\t\t\t\tmode: \'all\',\n\t\t\t\t\t\tnumberOfResults: numberOfResults\n\t\t\t\t\t}\n\t\t\t\t} --\x3e\n\t\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- /ko --\x3e\n\n\t\t\x3c!-- ko ifnot: filters().active --\x3e\n\t\t\t\x3c!-- ko component: {\n\t\t\t\t\tname: "section-tasklists-list",\n\t\t\t\t\tparams:{\n\t\t\t\t\t\tmode: \'project\',\n\t\t\t\t\t\tprojectId: app.currentRoute().projectId,\n\t\t\t\t\t\ttab: app.currentRoute().itemId,\n\t\t\t\t\t\tparentVM: $data\n\t\t\t\t\t}\n\t\t\t\t} --\x3e\n\t\t\t\x3c!--/ko--\x3e\n\t\t\x3c!-- /ko --\x3e\n\t\x3c!-- /ko --\x3e\n\n\t\x3c!-- ko if: taskMode() == \'board\' --\x3e\n\t\t\x3c!-- ko component: {\n\t\t\t\tname: "section-project-tasks-board",\n\t\t\t\tparams:{\n\t\t\t\t\tmode: \'project\',\n\t\t\t\t\ttab: app.currentRoute().itemId,\n\t\t\t\t\tparentVM: $data\n\t\t\t\t}\n\t\t\t} --\x3e\n\t\t\x3c!--/ko--\x3e\n\n\t\t<div class="board-sidebar--backlog" data-bind="css: { show-backlog: app.loggedInUser.preferences.projectTasksViewMode() && app.showBacklog()}">\n\t\t\t\x3c!-- ko component: { name: \'section-cards-backlog\' } --\x3e\x3c!-- /ko --\x3e\n\t\t</div>\n\t\x3c!--/ko--\x3e\n\n\x3c!-- /ko --\x3e\n\n\n\x3c!-- ko if: app.currentRoute().itemId && app.currentRoute()[1] == \'tasks\' --\x3e\n\t\x3c!-- ko component: {\n\t\t\tname: "section-project-task",\n\t\t\tparams: {\n\t\t\t\tmode: \'project\',\n\t\t\t\ttaskId: app.currentRoute().itemId,\n\t\t\t\tprojectId: app.currentRoute().projectId\n\t\t\t}\n\t\t} --\x3e\n\t\x3c!-- /ko --\x3e\n\x3c!--/ko--\x3e\n\n\x3c!-- ko if: app.currentRoute().itemId && app.currentRoute()[1] == \'tasklists\' --\x3e\n\t\x3c!-- ko component: {\n\t\t\tname: "section-project-tasklist",\n\t\t\tparams: {\n\t\t\t\tmode: \'project\',\n\t\t\t\ttaskListId: app.currentRoute().itemId,\n\t\t\t\thasActiveFilter: filters().active(),\n\t\t\t\tparentSection: $data,\n\t\t\t\tnumberOfResults: numberOfResults\n\t\t\t}\n\t\t} --\x3e\n\t\x3c!-- /ko --\x3e\n\x3c!--/ko--\x3e\n\n\x3c!-- IMPORTANT - Mark this template loaded --\x3e\n\x3c!-- ko if: $data.readyToShow != null && readyToShow --\x3e\n    <div data-bind="template:{afterRender:function(){templateLoaded(true)}}" class="hidden"></div>\n\x3c!-- /ko --\x3e\n'},2843:function(t,e){t.exports='<ul class="tippedMenu">\n\t\x3c!-- ko if: boardHasActiveFilter() && !app.account.isFreeAccount() --\x3e\n\t\t<li>\n\t\t\t<a data-bind="click: OnClickShareBoardFilter" href="javascript:;">\n\t\t\t\t<i class="fa fa-fw fa-share"></i>\n\t\t\t\t{{app.tl(\'Share Filter\')}}\n\t\t\t</a>\n\t\t</li>\n\t\x3c!--/ko--\x3e\n\t<li>\n\t\t<a data-bind="click: OnClickViewArchivedCards" href="javascript:;">\n\t\t\t<i class="fa fa-fw fa-archive"></i>\n\t\t\t{{app.tl(\'View Archived Cards\')}}\n\t\t</a>\n\t</li>\n\t<li>\n\t\t<a data-bind="click: OnClickManageColumns" href="javascript:;">\n\t\t\t<i class="fa fa-fw fa-cog"></i>\n\t\t\t{{app.tl(\'Manage Columns\')}}\n\t\t</a>\n\t</li>\n\t<li>\n\t\t<a data-bind="click: OnClickCollapseCards" href="javascript:;">\n\t\t\t\x3c!-- ko ifnot: useCollapsedMode --\x3e\n\t\t\t\t<i class="fa fa-fw fa-minus"></i>\n\t\t\t\t{{app.tl(\'Minimize Card Details\')}}\n\t\t\t\x3c!--/ko--\x3e\n\t\t\t\x3c!-- ko if: useCollapsedMode --\x3e\n\t\t\t\t<i class="fa fa-fw fa-align-justify"></i>\n\t\t\t\t{{app.tl(\'Show Card Details\')}}\n\t\t\t\x3c!--/ko--\x3e\n\t\t</a>\n\t</li>\n</ul>'},2933:function(t,e){t.exports='<div data-bind="\n\t\tdragulaExtra: { data: taskData.list, useSyncClone: true, group: \'tasks\' },\n\t\tcss: { \'tasks-list-empty\': taskData.list().length == 0 }">\n\t<div class="task-groupHold-wrapper" data-task-id="{{id}}" data-parent-task-id="{{parentTaskId}}" data-bind=\'component: {\n\t\tname: "widget-task-row",\n\t\tparams:{\n\t\t\ttask: $data,\n\t\t\ttaskList: $component.taskList,\n\t\t\tmode: ( $component.mode == "template" ? "template" : "normal" ),\n\t\t\tlevel: $component.level,\n\t\t\tparentVM: $component,\n\t\t\tshowIt: $component.shouldDisplay($data),\n\t\t\tisQuickView: $component.isQuickView\n\t\t}\n\t}\'></div>\n</div>\n\n<div class="task-row extra" data-bind="style:{\'border-bottom\':app.currentRoute().itemId && app.currentRoute().itemId == task.id() ? \'none\' : \'\'}">\n\t\x3c!-- ko component: {name: \'widget-loadMore\', params:{dataLoader:taskData}} --\x3e\x3c!-- /ko --\x3e\n\n\t\x3c!-- ko if: taskData.state() == \'loading\' --\x3e\n\t\t<p class="no-sub-tasks">\n\t\t\t<i class="fa fa-circle-o-notch fa-spin fa-fw" style="margin-right: 5px;"></i> {{app.tl(\'Loading\')}}{{{app.localizationPreferences().ellipsis}}}\n\t\t</p>\n\t\x3c!--/ko--\x3e\n\n\t\x3c!-- ko if: task.numActiveSubTasks() == 0 && taskData.list().length == 0 && !taskData.isLoading() --\x3e\n\t\t<p class="no-sub-tasks" data-bind="click: function(){ if ( $component.task.canEdit() && $component.task.status() !== \'completed\' ){OnClickShowAddSubTask()} }">\n\t\t\t\x3c!-- ko if: task.numCompletedSubTasks() > 0 --\x3e\n\t\t\t\t{{app.tl(\'No Subtasks Left\')}}\n\t\t\t\x3c!--/ko--\x3e\n\t\t\t\x3c!-- ko if: task.numCompletedSubTasks() == 0 --\x3e\n\t\t\t\t\x3c!-- ko if: $component.task.status() !== \'completed\' --\x3e\n\t\t\t\t\t{{app.tl(\'No Subtasks Yet\')}}\n\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\x3c!-- ko if: $component.task.status() === \'completed\' --\x3e\n\t\t\t\t\t{{app.tl(\'No Subtasks\')}}\n\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\x3c!--/ko--\x3e\n\t\t</p>\n\t\x3c!--/ko--\x3e\n\t<div class="add--task" data-bind="visible:canAddSubtasks">\n\t\t\x3c!-- ko if: $component.task.canEdit() && $component.task.status() !== \'completed\' --\x3e\n\t\t<a href="javascript:;" class="inner-button add-sub-task" data-bind="click:OnClickShowAddSubTask">\n\t\t\t<i class="fa fa-plus"></i> {{app.tl(\'Add Subtask\')}}\n\t\t</a>\n\t\t\t\x3c!-- ko if: task.numCompletedSubTasks() > 0 || showCloseLink() --\x3e\n\t\t\t\t|\n\t\t\t\x3c!--/ko--\x3e\n\t\t\x3c!--/ko--\x3e\n\t\t\x3c!-- ko if: task.numCompletedSubTasks() > 0 --\x3e\n\t\t<a href="javascript:;" class="inner-button add-sub-task" data-bind="click:function(){\n\t\tshowCompletedSubTasks(!showCompletedSubTasks())}">{{completedTasksLabel}}</a>\n\t\t\t\x3c!-- ko if: showCloseLink() --\x3e\n\t\t\t\t|\n\t\t\t\x3c!--/ko--\x3e\n\t\t\x3c!--/ko--\x3e\n\t\t\x3c!-- ko if: showCloseLink() --\x3e\n\t\t<a href="#" class="inner-button close-row" data-bind="click:task.OnClickToggleShowSubTasks">\n\t\t\t<i class="fa fa-times"></i> {{app.tl(\'Close\')}}\n\t\t</a>\n\t\t\x3c!--/ko--\x3e\n\t</div>\x3c!-- add task --\x3e\n</div>\n\n\x3c!-- IMPORTANT - Mark this template loaded --\x3e\n\x3c!-- ko if: $data.readyToShow != null && readyToShow --\x3e\n\t<div data-bind="template:{afterRender:function(){templateLoaded(true)}}" class="hidden"></div>\n\x3c!-- /ko --\x3e'},2937:function(t,e){t.exports='<div class="tasklist-item s-tasklist taskListDrag"\n\tdata-bind="visible: (!showBlankSlate() || taskList.isAddingTask() || taskList.isShowingCompletedTasks()),\n\t\tattr:{ id:\'taskList\'+taskList.id() },\n\t\tcss:{ s-tasklist--reordering:isReordering() }">\n\n\t\x3c!-- ko if: !isTaskListPage --\x3e\n\t\t<div class="s-tasklist__title u-group-title h-show-hover--parent taskListDrag">\n\t\t\t\x3c!-- ko if: !isReordering() --\x3e\n\n\t\t\t\t<div class="mr--medium" data-bind="with: taskList">\n\t\t\t\t\t<a class="flex-inline group-collapse color--gray-light text-decoration--none tipped" href="javascript:;"\n\t\t\t\t\t\tdata-bind="click: OnClickToggleCollapse">\n\n\t\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\tname: (collapsed() ? \'chevron-right-solid\' : \'chevron-down-solid\'),\n\t\t\t\t\t\t\t\t\tclass: \'color--inherit\'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\x3c!-- ko if: mode == "filtered" && !isReordering() && canAddTasks()  --\x3e\n\t\t\t\t<span>\n\t\t\t\t\t<a data-bind="click: taskList.OnClickAddTask">\n\t\t\t\t\t\t{{ app.tl(\'Add a Task\') }}\n\t\t\t\t\t</a>\n\t\t\t\t</span>\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\x3c!-- Task List Name --\x3e\n\t\t\t\x3c!-- Template page version is just the text without the link --\x3e\n\t\t\t<h3 class="u-group-title__label mr--none">\n\t\t\t\t<a data-bind="\n\t\t\t\t\tattr: {\n\t\t\t\t\t\thref: ( [\'tlTemplate\',\'template\'].indexOf(mode) > -1 ? \'#task-templates/\'+taskList.id() : tasklistUrl )\n\t\t\t\t\t}">\n\t\t\t\t\t{{ taskList.name }}\n\t\t\t\t</a>\n\n\t\t\t\t\x3c!-- ko if: isQuickView --\x3e\n\t\t\t\t\t<span class="color--muted ml--small font-weight--normal">\n\t\t\t\t\t\t<a href="#projects/{{projectId}}/tasks"\n\t\t\t\t\t\t\tclass="text-decoration--none">\n\t\t\t\t\t\t\t{{ projectName }}\n\n\t\t\t\t\t\t\t<span class="ml--small">\n\t\t\t\t\t\t\t\t{{ companyName }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</span>\n\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t</h3>\n\n\t\t\t\x3c!-- Right end Title options --\x3e\n\t\t\t\x3c!-- ko if: mode == "normal" && !isReordering() && canAddTaskLists() --\x3e\n\t\t\t\t\x3c!-- ko if: taskList.pinned --\x3e\n\t\t\t\t\t<span class="mx--medium">\n\t\t\t\t\t\t<a class="u-group-title__pin is-active tipped-hide" href="javascript:"\n\t\t\t\t\t\t\tdata-tipped-options="position: {target: \'topleft\',tooltip: \'bottomright\'}"\n\t\t\t\t\t\t\tdata-bind="click: function(){ taskList.OnClickTogglePinned(projectId) }, attr:{ \'data-tipped\':app.tl(\'Unpin\') }">\n\n\t\t\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\tname: \'pin-solid\'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</span>\n\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\x3c!-- Privacy Indicator --\x3e\n\t\t\t\x3c!-- ko if: taskList.isPrivate --\x3e\n\t\t\t\t\x3c!-- ko component: { name: "widget-privacy-icon", params: {private: taskList.isPrivate, lockdownId: taskList.lockdownId, projectId: taskList.projectId, id: taskList.id, title: taskList.name, type: \'tasklist\'} } --\x3e\x3c!-- /ko --\x3e\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\x3c!-- ko if: taskList.collapsed() && !isReordering() --\x3e\n\t\t\t\t<span class="collapsed u-count u-count--subtle font-size--small mx--medium">\n\t\t\t\t\t\x3c!-- ko text: app.tl(\'[_num] tasks\').replace(\'[_num]\', taskList.numIncomplete() ) --\x3e\x3c!-- /ko --\x3e\n\t\t\t\t</span>\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\x3c!-- ko with: taskList --\x3e\n\t\t\t\t<span class="h-show-hover--child mx--small">\n\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\tname: "widget-tasklist-dropdown",\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\ttaskListId: id(),\n\t\t\t\t\t\t\t\tprojectId: projectId(),\n\t\t\t\t\t\t\t\ttaskList: $data\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t</span>\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\x3c!-- Task List options --\x3e\n\t\t\t\x3c!-- ko if: canAddTasks() && (mode == "normal" || mode == "template") --\x3e\n\t\t\t\t\x3c!-- ko ifnot: isReordering --\x3e\n\t\t\t\t\t<ul class="u-group-title__list-options list-inline h-show-hover--child">\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a href="javascript:;" data-bind="click:taskList.OnClickAddTask">\n\t\t\t\t\t\t\t\t\x3c!-- ko if: taskList.numIncomplete() == 0 && taskList.numComplete() == 0 --\x3e\n\t\t\t\t\t\t\t\t\t{{app.tl(\'Add the First Task\')}}\n\t\t\t\t\t\t\t\t\x3c!--/ko--\x3e\n\n\t\t\t\t\t\t\t\t\x3c!-- ko ifnot: taskList.numIncomplete() == 0 && taskList.numComplete() == 0 --\x3e\n\t\t\t\t\t\t\t\t\t{{app.tl(\'Add a Task\')}}\n\t\t\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\x3c!-- /ko --\x3e\n\t\t</div>\n\t\x3c!--/ko--\x3e\n\n\t\x3c!-- Tasks Holding Container --\x3e\n\t\x3c!-- ko if: readyToShowTasks() --\x3e\n\t\t\x3c!-- ko if: taskList.milestoneId() > 0 && taskList.milestone && $component.milestoneFeatureEnabled() --\x3e\n\t\t\t\x3c!-- ko if: taskList.milestone && taskList.milestone.completed() --\x3e\n\t\t\t\t<div class="completed s-tasklist__milestone s-tasklist__milestone--completed">\n\t\t\t\t\t\x3c!-- ko component: { name:"ui-milestone-icon" } --\x3e\x3c!-- /ko --\x3e\n\t\t\t\t\t<span class="px--small">{{ app.tl(\'Linked to completed milestone\') }}</span>\n\t\t\t\t\t<span class="h-char-separator color--inherit"></span>\n\t\t\t\t\t<a class="tipped" id="taskListMilestoneTip1"\n\t\t\t\t\t\tdata-bind="attr:{ href:\'#milestones/\' + taskList.milestone.id(),\n\t\t\t\t\t\t\t\'data-component\': JSON.stringify({\n\t\t\t\t\t\t\t\tname: \'widget-tipped-milestone-info\',\n\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\tmilestoneId: taskList.milestone.id(),\n\t\t\t\t\t\t\t\t\tselector: \'taskListMilestoneTip1\'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})},\n\t\t\t\t\t\t\ttippedDelegate"\n\t\t\t\t\t\tdata-tipped-options="skin: \'light\', hideOthers: true, hideOn: false, hideAfter: 300, showDelay: 500">\n\t\t\t\t\t\t{{ taskList.milestone.title }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\x3c!-- ko ifnot: taskList.milestone && taskList.milestone.completed() --\x3e\n\t\t\t\t<div class="s-tasklist__milestone"\n\t\t\t\t\tdata-bind="css: taskList.milestone.completed() ? \'s-tasklist__milestone--completed\' : (taskList.milestone.isLate() ? \'s-tasklist__milestone--late\' : \'s-tasklist__milestone--upcoming\')">\n\t\t\t\t\t\x3c!-- ko component: { name:"ui-milestone-icon" } --\x3e\x3c!-- /ko --\x3e\n\t\t\t\t\t<span class="px--small">{{ app.tl(\'Milestone\') }}:</span>\n\t\t\t\t\t<a class="tipped" id="taskListMilestoneTip2"\n\t\t\t\t\t\tdata-bind="attr:{ href:\'#milestones/\' + taskList.milestone.id(),\n\t\t\t\t\t\t\t\'data-component\': JSON.stringify({\n\t\t\t\t\t\t\t\tname: \'widget-tipped-milestone-info\',\n\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\tmilestoneId: taskList.milestone.id(),\n\t\t\t\t\t\t\t\t\tselector: \'taskListMilestoneTip2\'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})},\n\t\t\t\t\t\t\ttippedDelegate"\n\t\t\t\t\t\tdata-tipped-options="skin: \'light\', hideOthers:true, hideOn:false, hideAfter: 300, showDelay: 500">\n\t\t\t\t\t\t{{ taskList.milestone.title }}\n\t\t\t\t\t</a>\n\n\t\t\t\t\t<span class="ml--medium mr--none" data-bind="attr:{ relDate:taskList.milestone.deadline() }">\n\t\t\t\t\t\t\x3c!-- ko ifnot: $component.isProjectTemplate --\x3e\n\t\t\t\t\t\t\t({{$component.formatMilestoneDate(taskList.milestone.deadline())}})\n\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\x3c!-- ko if: $component.isProjectTemplate --\x3e\n\t\t\t\t\t\t\t({{ app.tl(\'Day\') }}: {{ ~~(taskList.milestone.dueDateOffset())+1 }})\n\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t</span>\n\n\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\tname: \'widget-tipped-responsible-person\',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tclasses: {\'ml--auto mr--none\': true},\n\t\t\t\t\t\t\t\ttext: taskList.milestone.responsiblePartyText(),\n\t\t\t\t\t\t\t\titemType: \'milestone\',\n\t\t\t\t\t\t\t\titemId: taskList.milestoneId(),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t</div>\n\t\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!--/ko--\x3e\n\n\t\t\x3c!-- ko if: taskList.description() !== \'\' --\x3e\n\t\t\t<div class="s-tasklist__description"\n\t\t\t\tdata-bind="marked: taskList.description,\n\t\t\t\t\tcss: { isTaskListPage ? \'s-tasklist__description--on-tasklist-page\' : \'s-tasklist__description--not-tasklist-page\' }">\n\t\t\t</div>\n\t\t\x3c!--/ko--\x3e\n\t\t<div class="tasks-container">\n\t\t\t\x3c!-- ko component: {\n\t\t\t\tname: \'section-tasks-list\',\n\t\t\t\tparams:{\n\t\t\t\t\tprojectId:projectId,\n\t\t\t\t\ttaskList:taskList, mode:mode,\n\t\t\t\t\tnumIncomplete:taskList.numIncomplete,\n\t\t\t\t\tparentVM:$data, pageSize:tasksPageSize,\n\t\t\t\t\tloadAll:tasksLoadAll,\n\t\t\t\t\tinitNumPagesToLoad:tasksInitNumPagesToLoad,\n\t\t\t\t\tonloadCallback:onloadTasks,\n\t\t\t\t\tisQuickView:isQuickView\n\t\t\t\t}} --\x3e\n\t\t\t\x3c!-- /ko --\x3e\n\n\t\t\t\x3c!-- ko if: taskList.isShowingCompletedTasks() && taskList.numComplete() > 0 --\x3e\n\t\t\t\t\x3c!-- ko component: {name: \'section-completed-tasks-list\', params:{projectId:projectId, taskList:taskList, isQuickView:isQuickView}} --\x3e\x3c!-- /ko --\x3e\n\t\t\t\x3c!--/ko--\x3e\n\t\t</div>\n\t\x3c!-- /ko --\x3e\n</div>\n\n\x3c!-- ko if: showBlankSlate() --\x3e\n\n\t\x3c!-- ko if: taskList.milestone && taskList.milestone.completed() --\x3e\n\t\t<p class="completed s-tasklist__milestone s-tasklist--completed">\n\t\t\t\x3c!-- ko component: { name:"ui-milestone-icon" } --\x3e\x3c!-- /ko --\x3e\n\t\t\t<span class="px--small">{{ app.tl(\'Linked to completed milestone\') }}</span>\n\t\t\t<span class="h-char-separator color--inherit"></span>\n\t\t\t<a class="tipped" id="taskListMilestoneTip1"\n\t\t\t\tdata-bind="attr:{ href:\'#milestones/\' + taskList.milestone.id(),\n\t\t\t\t\t\'data-component\': JSON.stringify({\n\t\t\t\t\t\tname: \'widget-tipped-milestone-info\',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tmilestoneId: taskList.milestone.id(),\n\t\t\t\t\t\t\tselector: \'taskListMilestoneTip1\'\n\t\t\t\t\t\t}\n\t\t\t\t\t})},\n\t\t\t\t\ttippedDelegate"\n\t\t\t\tdata-tipped-options="skin: \'light\', hideOthers: true, hideOn: false, hideAfter: 300, showDelay: 500">\n\t\t\t\t{{ taskList.milestone.title }}\n\t\t\t</a>\n\t\t</p>\n\t\x3c!-- /ko --\x3e\n\t\x3c!-- ko if: taskList.milestone && !taskList.milestone.completed() --\x3e\n\t\t<p class="s-tasklist__milestone"\n\t\t\tdata-bind="css: taskList.milestone.completed() ? \'s-tasklist__milestone--completed\' : (taskList.milestone.isLate() ? \'s-tasklist__milestone--late\' : \'s-tasklist__milestone--upcoming\')">\n\t\t\t\x3c!-- ko component: { name:"ui-milestone-icon" } --\x3e\x3c!-- /ko --\x3e\n\t\t\t<span class="px--small">{{ app.tl(\'Milestone\') }}:</span>\n\t\t\t<a class="tipped" id="taskListMilestoneTip2"\n\t\t\t\tdata-bind="attr:{ href:\'#milestones/\' + taskList.milestone.id(),\n\t\t\t\t\t\'data-component\': JSON.stringify({\n                        name: \'widget-tipped-milestone-info\',\n                        params: {\n                            milestoneId: taskList.milestone.id(),\n                \t\t\tselector: \'taskListMilestoneTip2\'\n                        }\n\t\t\t\t\t})},\n\t\t\t\t\ttippedDelegate"\n\t\t\t\tdata-tipped-options="skin: \'light\', hideOthers: true, hideOn: false, hideAfter: 300, showDelay: 500">\n\t\t\t\t{{ taskList.milestone.title }}\n\t\t\t</a>\n\t\t\t<span class="ml--medium mr--none" data-bind="attr:{ relDate:taskList.milestone.deadline() }">\n\t\t\t\t\x3c!-- ko ifnot: $component.isProjectTemplate --\x3e\n\t\t\t\t\t({{$component.formatMilestoneDate(taskList.milestone.deadline())}})\n\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\x3c!-- ko if: $component.isProjectTemplate --\x3e\n\t\t\t\t\t({{ app.tl(\'Day\') }}: {{ ~~(taskList.milestone.dueDateOffset())+1 }})\n\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t</span>\n\n\t\t\t\x3c!-- ko component: {\n\t\t\t\tname: \'widget-tipped-responsible-person\',\n\t\t\t\tparams:{\n\t\t\t\t\tclasses: {\'ml--auto mr--none\': true},\n\t\t\t\t\ttext: taskList.milestone.responsiblePartyText(),\n\t\t\t\t\titemType: \'milestone\',\n\t\t\t\t\titemId: taskList.milestoneId()\n\t\t\t\t}\n\t\t\t} --\x3e\x3c!-- /ko --\x3e\n\t\t</p>\n\t\x3c!-- /ko --\x3e\n\n\t<div class="s-tasklist__description"\n\t\tdata-bind="marked: taskList.description,\n\t\t\tcss: { isTaskListPage ?  \'s-tasklist__description--blankslate-on-tasklist-page\' : \'s-tasklist__description--blankslate-not-tasklist-page\' }">\n\t</div>\n\t<div id="blankSlate" class="s-tasklist__blank-slate">\n\t\t<img src="//cdn.teamwork.com/images/newui/blankslates/v2/tasks.gif" height="200">\n\n\t\t<h3>\n\t\t\t\x3c!-- ko if: taskList.numComplete() == 0 && taskList.numIncomplete()==0 --\x3e{{ app.tl(\'No Tasks Here Yet\') }}.\x3c!--/ko--\x3e\n\t\t\t\x3c!-- ko if: taskList.numComplete() > 0 && taskList.numIncomplete()==0 --\x3e{{ app.tl(\'All Tasks Completed\') }}.\x3c!--/ko--\x3e\n\t\t</h3>\n\t\t<p>\n\t\t\t\x3c!-- ko if: taskList.numComplete() == 0 && taskList.numIncomplete()==0 && [\'template\',\'tlTemplate\'].indexOf(mode) == -1 --\x3e{{ app.tl(\'There are no tasks in this list yet\') }}.\x3c!--/ko--\x3e\n\t\t\t\x3c!-- ko if: taskList.numComplete() == 0 && taskList.numIncomplete()==0 && [\'template\',\'tlTemplate\'].indexOf(mode) > -1 --\x3e{{ app.tl(\'OK, now add some tasks to this template\') }} {{{ app.localizationPreferences().ellipsis }}}\x3c!--/ko--\x3e\n\t\t\t\x3c!-- ko if: taskList.numComplete() > 0 && taskList.numIncomplete()==0 --\x3e{{ app.tl(\'You have completed all the tasks in this list\') }}.\x3c!--/ko--\x3e\n\n\t\t\t\x3c!-- ko if: canAddTasks() && !taskList.isAddingTask() --\x3e\n\t\t\t\t<br>\n\t\t\t\t\x3c!-- ko if: taskList.numComplete() == 0 && taskList.numIncomplete()==0 --\x3e{{ app.tl(\'Add the first task by clicking the button below\') }}.\x3c!--/ko--\x3e\n\t\t\t\t\x3c!-- ko if: taskList.numComplete() > 0 && taskList.numIncomplete()==0 --\x3e{{ app.tl(\'Add more tasks by clicking the button below\') }}.\x3c!--/ko--\x3e\n\t\t\t\x3c!-- /ko --\x3e\n\t\t</p>\n\t\t\x3c!-- ko if: canAddTasks() && !taskList.isAddingTask() --\x3e\n\t\t\t<button data-bind="click: taskList.OnClickAddTask" class="btn btn-success js-add-task mb--xlarge" type="button">\n\t\t\t\t<span class="fa fa-plus"></span>\n\t\t\t\t\x3c!-- ko if: taskList.numComplete() == 0 --\x3e{{ app.tl(\'Add the First Task\') }}\x3c!-- /ko --\x3e\n\t\t\t\t\x3c!-- ko ifnot: taskList.numComplete() == 0 --\x3e{{ app.tl(\'Add a Task\') }}\x3c!-- /ko --\x3e\n\t\t\t</button>\n\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- ko if: taskList.numComplete() > 0 && taskList.numIncomplete()==0 --\x3e\n\t\t\t<a href="javascript:;" class="block" data-bind="click: function(){ taskList.isShowingBlankSlateCompletedTasks(!taskList.isShowingBlankSlateCompletedTasks()); }">\n\t\t\t\t<span class="s-tasklist__completed-tasks">{{ taskList.numComplete }} {{ app.tl(\'completed tasks\') }}</span>\n\t\t\t</a>\n\t\t\x3c!-- /ko --\x3e\n\t</div>\n\x3c!--/ko--\x3e\n\n\x3c!-- ko if: taskList.isShowingBlankSlateCompletedTasks() && taskList.numComplete() > 0 && taskList.numIncomplete() == 0 --\x3e\n\t<div class="tasks-container">\n\t\t\x3c!-- ko component: {name: \'section-completed-tasks-list\', params:{projectId:projectId, taskList:taskList, isQuickView:isQuickView}} --\x3e\x3c!-- /ko --\x3e\n\t</div>\n\x3c!--/ko--\x3e\n\n\n\x3c!-- IMPORTANT - Mark this template loaded --\x3e\n\x3c!-- ko if: $data.readyToShow != null && readyToShow --\x3e\n\t<div data-bind="template: { afterRender: function(){ templateLoaded(true) } }" class="hidden"></div>\n\x3c!-- /ko --\x3e'},2940:function(t,e){t.exports="\x3c!-- ko if: data.state() == 'loading' --\x3e\n\t\x3c!-- ko component: {name: 'list-state-loading-new', params:{itemType: 'taskList'}} --\x3e\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\x3c!-- ko if: data.state() == 'error' --\x3e\n\t\x3c!-- ko component: {name: 'list-state-error', params:{itemType: 'taskList', onTryAgainAction: data.TryLoadAgain, errorStatus: data.APIErrorStatus}} --\x3e\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\x3c!-- ko if: data.state() == 'blank'--\x3e\n\t\x3c!-- ko if: taskMode == 'template' --\x3e\n\t\t\x3c!-- ko component: {name: 'list-state-blank', params:{itemType: 'taskList', showButton: canAddTaskLists(), title:app.tl('No Templates'), msg: canAddTaskLists() ? app.tl('Hey [_s], you don\\'t have any active templates. Click the button below to create a template.', app.loggedInUser.firstName()) : '', buttonText:app.tl('Create a Template'), onClickButton: OnClickAddTemplate }} --\x3e\x3c!-- /ko --\x3e\n\t\x3c!-- /ko --\x3e\n\t\x3c!-- ko if: taskMode != 'template' --\x3e\n\t\t\x3c!-- ko component: {name: 'list-state-blank', params:{itemType: 'taskList', showButton: canAddTaskLists(), title:app.tl('No Task Lists'), msg: canAddTaskLists() ? app.tl('Hey [_s], you don\\'t have any active task lists on this project. Click the button below to create a task list.', app.loggedInUser.firstName()) : '', buttonText:app.tl('Create a Task List'), onClickButton: OnClickAddTaskList }} --\x3e\x3c!-- /ko --\x3e\n\t\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\x3c!-- ko if: data.state() == 'content' --\x3e\n\t\x3c!-- ko if: data.list().length > 0 --\x3e\n\n\t\t\x3c!-- ko ifnot: onboardingHasAddedTasks() --\x3e\n\t\t\t\x3c!-- ko component: {\n\t\t\t\tname: \"widget-usage-hint\",\n\t\t\t\tparams: {\n\t\t\t\t\ttitle: app.tl(\"Create Your First Task.\"),\n\t\t\t\t\tcontent: app.tl(\"To get you started, we've added an initial task list. Click on [_s] to create your first task. [_s] You can type [_s] to quickly choose a task assignee.\", '\"' + app.tl(\"Add the First Task\") + '\"', \"<strong>\" + app.tl(\"Pro Tip\") + \":</strong>\", '\"' + '@' + '\"'),\n\t\t\t\t\tstyle: 'fixed'\n\t\t\t\t}\n\t\t\t} --\x3e\x3c!-- /ko --\x3e\n\t\t\x3c!-- /ko --\x3e\n\n\t\t\x3c!-- ko component: { name: \"widget-inline-help\", params: { type:'taskList', data: $data } } --\x3e\x3c!-- /ko --\x3e\n\t\t<div class=\"taskList tasklist-container\" style=\"margin-top:10px;\" data-bind=\"dragulaExtra: { data: data.list, invalid: DragulaInvalid, moves: DragulaMoves, afterDrop: OnDrop, useSyncClone: true }\">\n\t\t\t<div class=\"tasklist-item-wrapper\" data-bind='component: {\n\t\t\t    name: \"section-taskList\",\n\t\t\t    params: { projectId:$parent.projectId, taskList:$data, mode: $component.taskMode, parentVM: $component, index:$component.getNextLoadIndex($data), isReordering: $component.isReordering }\n\t\t\t}'></div>\n\t\t</div>\n\t\t\x3c!-- ko component: {name: 'widget-loadMore', params:{dataLoader:data}} --\x3e\x3c!-- /ko --\x3e\n\t\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- IMPORTANT - Mark this template loaded --\x3e\n\x3c!-- ko if: $data.readyToShow != null && readyToShow --\x3e\n\t<div data-bind=\"template:{afterRender:function(){templateLoaded(true)}}\" class=\"hidden\"></div>\n\x3c!-- /ko --\x3e\n"},2943:function(t,e){t.exports='\x3c!-- ko if: taskData.state() == \'loading\' --\x3e\n\t\x3c!-- ko component: {name: \'list-state-loading-new\', params: {itemType: \'task\'}} --\x3e\x3c!-- /ko --\x3e\n\x3c!--/ko--\x3e\n\n<div data-bind="\n\t\tdragulaExtra: { data: taskData.list, useSyncClone: true, group: \'tasks\' },\n\t\tcss: { \'tasks-list-empty\': taskData.list().length == 0 }">\n\n\t<div class="task-groupHold-wrapper" data-task-id="{{id}}" data-parent-task-id="{{parentTaskId}}" data-bind=\'component: {\n\t\tname: "widget-task-row",\n\t\tparams:{\n\t\t\ttask:$data,\n\t\t\ttaskList:$component.taskList,\n\t\t\tmode:$component.mode,\n\t\t\tlevel:1,\n\t\t\tparentVM: $component,\n\t\t\tisQuickView: $component.isQuickView\n\t\t}\n\t}\'></div>\n</div>\n\n\x3c!-- ko if: taskData.state() === \'content\' && taskData.list().length > 0 && taskData.hasMoreRecords() --\x3e\n\t\x3c!-- ko component:{name:\'widget-loadMore\', params:{dataLoader:taskData, class:\'section-tasks-list\'}} --\x3e\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: ((taskList.numIncomplete() == 0 && taskList.numComplete() == 0) || taskData.state() == \'blank\') && !taskList.isAddingTask() && [\'template\',\'tlTemplate\'].indexOf(mode)==-1 --\x3e\n<div class="tlBlankSlate" style="margin-top: 15px; margin-left: 60px; cursor:pointer;" data-bind="click:$component.canAddTasks()?taskList.OnClickAddTask:null">{{app.tl(\'No tasks in this list yet\')}}.</div>\n\x3c!--/ko--\x3e\n\n\x3c!-- ko if: ((taskList.numIncomplete() == 0 && taskList.numComplete() == 0) || taskData.state() == \'blank\') && !taskList.isAddingTask() && [\'template\',\'tlTemplate\'].indexOf(mode)>-1 --\x3e\n<div class="tlBlankSlate" style="margin-top: 15px; margin-left: 60px; cursor:pointer;" data-bind="click:$component.canAddTasks()?taskList.OnClickAddTask:null">{{app.tl(\'OK, now add some tasks to this template\')}}{{{app.localizationPreferences().ellipsis}}}</div>\n\x3c!--/ko--\x3e\n\n<div class="tlOpts noSelT no-print">\n\t\x3c!-- ko if: ["task","normal","milestone","template","project"].indexOf($component.mode) > -1 --\x3e\n\t\t\x3c!-- ko if: $component.canAddTasks() --\x3e\n\t\t\t\x3c!-- ko ifnot: taskList.isAddingTask --\x3e\n\t\t\t\t<button data-bind="click:OnClickShowAddTask, css:{\'btn-success\':notEditing}" class="btn btn-success js-add-task" type="button">\n\t\t\t\t\t<span class="fa fa-plus" style="margin-right: 5px;"></span>\n\t\t\t\t\t\x3c!-- ko if: taskList.numIncomplete() == 0 && taskList.numComplete() == 0 --\x3e{{app.tl(\'Add the First Task\')}}\x3c!-- /ko --\x3e\n\t\t\t\t\t\x3c!-- ko ifnot: taskList.numIncomplete() == 0 && taskList.numComplete() == 0 --\x3e{{app.tl(\'Add a Task\')}}\x3c!-- /ko --\x3e\n\t\t\t\t</button>\n\t\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- ko if: params.mode != "taskDetails" && taskList.numComplete() > 0 --\x3e\n\t\t&nbsp;\n\t\t<a href="javascript:;" class="subtler pl--small" data-bind="click:function(){taskList.isShowingCompletedTasks(!taskList.isShowingCompletedTasks())}">\n\t\t\t<span>\n\t\t\t\t\x3c!-- ko ifnot: taskList.isShowingCompletedTasks --\x3e\n\t\t\t\t\t{{app.tl(\'[_s] Completed\', taskList.numComplete())}}\n\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\x3c!-- ko if: taskList.isShowingCompletedTasks --\x3e\n\t\t\t\t\t{{app.tl(\'Hide [_s] Completed\', taskList.numComplete())}}\n\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t</span>\n\t\t</a>\n\t\t\x3c!-- /ko --\x3e\n\t\x3c!-- /ko --\x3e\n\t\x3c!-- ko if: taskList.estimatedTotalMinutes() > 0 && viewEstimatedTime()--\x3e\n\t\t<div style="padding: 0; color: #CCC; font-size: 12px; margin-left: auto; margin-right: 20px;">{{app.tl(\'Total Estimated Time\')}}:\n\t\t\t<span class="estimatedTimeTotal">\n\t\t\t\t<span data-bind="visible:taskList.estimatedHours() > 0, text:taskList.estimatedHours() + \' \' + (taskList.estimatedHours()==1 ? \'hour\' : \'hours\')">X hours</span>\n\t\t\t\t<span data-bind="visible:taskList.estimatedMinutes() > 0, text:taskList.estimatedMinutes() + (taskList.estimatedMinutes()==1 ? \'min\' : \'mins\')">YZ mins</span>\n\t\t\t</span>\n\t\t</div>\n\t\x3c!-- /ko --\x3e\n</div>\n\n\x3c!-- IMPORTANT - Mark this template loaded --\x3e\n\x3c!-- ko if: $data.readyToShow != null && readyToShow --\x3e\n\t<div data-bind="template:{afterRender:function(){templateLoaded(true)}}" class="hidden"></div>\n\x3c!-- /ko --\x3e\n'},2974:function(t,e){t.exports='<div id="todoSidebarContent" data-bind="with: task">\n\t<div id="ViewTaskSidebar">\n\n\t\t<div class="app-sidebar__block">\n\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t{{app.tl(\'Task List\')}}\n\t\t\t\t</h3>\n\t\t\t\t\x3c!-- ko if: canEdit() --\x3e\n\t\t\t\t\t<a href="javascript:;" class="btn btn-clear app-sidebar__block-title-btn" data-bind="click: $component.OnMoveTask">\n\t\t\t\t\t\t<span>{{app.tl(\'Move\')}}{{{app.localizationPreferences().ellipsis}}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t</div>\n\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t<a data-bind="attr: {\'href\':\'#tasklists/\'+taskListId()}">{{taskListName}}</a>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- ko if: cardId() > 0 --\x3e\n\t\t\t<div class="app-sidebar__block">\n\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t\t{{app.tl(\'Board Column\')}}\n\t\t\t\t\t</h3>\n\t\t\t\t\t\x3c!-- ko if: canEdit --\x3e\n\t\t\t\t\t\t<a href="javascript:;" class="btn btn-clear app-sidebar__block-title-btn" data-bind="click: EditColumn">\n\t\t\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\tname: \'pencil-alt-regular\'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\t{{app.tl(\'Edit\')}}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t</div>\n\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t<p class="mb--none">\n\t\t\t\t\t\t\x3c!-- ko if: boardColumn.color() != \'transparent\' --\x3e\n\t\t\t\t\t\t\t<i class="h-indicator-icon h-indicator-icon--board-column" data-bind="style: {color: boardColumn.color}"></i>\n\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t\x3c!-- ko if: boardColumn.color() == \'transparent\' --\x3e\n\t\t\t\t\t\t\t<i class="fa fa-circle-thin" style="margin-right: 5px; font-size: 10px;"></i>\n\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t<a class="blue2 ql" data-bind="attr:{\'href\':\'#projects/\'+projectId()+\'/tasks/board\'}">{{boardColumn.name}}</a>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\x3c!--/ko--\x3e\n\n\t\t\x3c!-- ko if: parentTaskId() > 0 --\x3e\n\t\t\t<div class="app-sidebar__block">\n\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t\t{{app.tl(\'Parent Task\')}}\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t<a data-bind="attr: {\'href\':\'#tasks/\'+parentTaskId()}">{{parentTask.content}}</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\x3c!--/ko--\x3e\n\n\t\t<div class="app-sidebar__block">\n\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t{{app.tl(\'Assigned To\')}}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t{{responsibleSummaryFormatted}}\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- ko if: app.featureFlip.check(\'customfieldstasks\', {unwrap: true}) && $data.customFields --\x3e\n\t\t\t\x3c!-- ko foreach: customFields --\x3e\n\t\t\t\t<div class="app-sidebar__block">\n\t\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t\t\t<span title="{{name}}">\n\t\t\t\t\t\t\t\t{{name}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\x3c!-- ko if: app.customFieldsHelper.isCustomFieldValueSet(value) && $component.canEditCustomFields() --\x3e\n\t\t\t\t\t\t\t<button type="button" class="btn btn-clear app-sidebar__block-title-btn" data-bind="click: $component.OnClickCustomField">\n\t\t\t\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\t\tname: \'pencil-alt-regular\'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\t\t{{app.tl(\'Edit\')}}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t\t\x3c!-- ko if: app.customFieldsHelper.isCustomFieldValueSet(initialValue) --\x3e\n\t\t\t\t\t\t\t<p class="h-word-break">\n\t\t\t\t\t\t\t\t\x3c!-- ko if: type() === \'dropdown\' --\x3e\n\t\t\t\t\t\t\t\t\t<i class="fa fa-circle mr--small" data-bind="style: {color: $component.GetCustomFieldColor($data)}"></i>\n\t\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\t\t{{initialValue}}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\x3c!-- ko if: !app.customFieldsHelper.isCustomFieldValueSet(initialValue) --\x3e\n\t\t\t\t\t\t\t\t\x3c!-- ko if: $component.canEditCustomFields --\x3e\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<a href="javascript:;" data-bind="click: $component.OnClickCustomField">{{app.tl(\'Set Field\')}}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\t\t\x3c!-- ko ifnot: $component.canEditCustomFields --\x3e\n\t\t\t\t\t\t\t\t\t<p>{{app.tl(\'Not Set\')}}</p>\n\t\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- /ko --\x3e\n\n\t\t\x3c!-- ko if: estimatedMinutes && estimatedMinutes() != "" && estimatedMinutes() > 0 --\x3e\n\t\t\t<div class="app-sidebar__block">\n\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t\t{{app.tl(\'Estimated Time\')}}\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t<p class="mb--none">{{app.utility.MinutesIntToString( estimatedMinutes(), {showDays: false,format: true} )}}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\x3c!-- /ko --\x3e\n\n\t\t\x3c!-- ko if: progress != undefined && progress() > 0 --\x3e\n\t\t\t<div class="app-sidebar__block">\n\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t\t{{app.tl(\'Progress\')}}\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t<div class="ui-progress">\n\t\t\t\t\t\t<span class="progress-val">{{progress}}%</span>\n\t\t\t\t\t\t<span class="progress-bar">\n\t\t\t\t\t\t\t<span class="progress-in" data-bind="style: {width: progress() + \'%\'}"></span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\x3c!--/ko--\x3e\n\n\t\t\x3c!-- ko if: startDateAsMoment && startDateAsMoment() && !$component.isTemplate() --\x3e\n\t\t\t<div class="app-sidebar__block">\n\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t\t{{app.tl(\'Start Date\')}}\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t<p class="mb--none">{{startDateAsMoment().format(\'ddd Do MMMM YYYY\')}}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\x3c!--/ko--\x3e\n\n\t\t\x3c!-- ko if: startDateAsMoment && startDateAsMoment() && $component.isTemplate() --\x3e\n\t\t\t<div class="app-sidebar__block">\n\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t\t{{app.tl(\'Start\')}}\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t<p class="mb--none">{{app.tl(\'Day\')}} {{app.utility.getOffsetDays(startDateAsMoment())}}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\x3c!--/ko--\x3e\n\n\t\t\x3c!-- ko if: priority() != "" && priority() != "none"  --\x3e\n\t\t\t<div class="app-sidebar__block">\n\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t\t{{app.tl(\'Priority\')}}\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t<p class="mb--none">{{app.utility.Capitalize( app.serverTranslate(priority()) )}}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\x3c!-- /ko --\x3e\n\n\t\t\x3c!-- ko if: dueDateAsMoment && dueDateAsMoment() && !$component.isTemplate() --\x3e\n\t\t\t<div class="app-sidebar__block">\n\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t\t{{app.tl(\'Due Date\')}}\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t<p class="mb--none">{{dueDateAsMoment().format(\'ddd Do MMMM YYYY\')}}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\x3c!--/ko--\x3e\n\n\t\t\x3c!-- ko if: dueDateAsMoment && dueDateAsMoment() && $component.isTemplate() --\x3e\n\t\t\t<div class="app-sidebar__block">\n\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t\t{{app.tl(\'Due\')}}\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t<p class="mb--none">{{app.tl(\'Day\')}} {{app.utility.getOffsetDays(dueDateAsMoment())}}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\x3c!--/ko--\x3e\n\n\t\t<div class="app-sidebar__block">\n\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t{{app.tl(\'Created By\')}}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t<p class="mb--small">\n\t\t\t\t\t<img class="radius--circle vertical-align--bottom" width="16" height="16" data-bind="attr: {\'src\': createdBy.avatarUrl}, event: {error: app.OnImageThumbLoadFail.bind($data,\'person\')}">\n\t\t\t\t\t{{createdBy.firstName}} {{createdBy.lastName()}}\n\t\t\t\t</p>\n\t\t\t\t<p>{{moment(dateCreated()).format(\'ddd Do MMMM YYYY, \' + app.loggedInUser.localization.timeFormat())}}</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- ko if: status() == \'completed\' --\x3e\n\t\t\t<div class="app-sidebar__block">\n\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t\t{{app.tl(\'Completed By\')}}\n\t\t\t\t\t</h3>\n\t\t\t\t\t\x3c!-- ko if: $component.isProjectAdmin() --\x3e\n\t\t\t\t\t\t<a href="javascript:;" class="btn btn-clear app-sidebar__block-title-btn" data-bind="click: $component.OnClickModify">\n\t\t\t\t\t\t\t<span>{{app.tl(\'Modify\')}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t</div>\n\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t<p class="mb--small">\n\t\t\t\t\t\t<img class="radius--circle vertical-align--bottom" width="16" height="16"\n\t\t\t\t\t\t\tdata-bind="attr: {\'src\': completedBy.avatarUrl}, event: {error: app.OnImageThumbLoadFail.bind($data,\'person\')}">\n\t\t\t\t\t\t{{completedBy.firstName}} {{completedBy.lastName}}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>{{moment(completedOn()).format(\'ddd Do MMMM YYYY, \' + app.loggedInUser.localization.timeFormat())}}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\x3c!--/ko--\x3e\n\n\t\t\x3c!-- ko if: $data.updatedBy != undefined --\x3e\n\t\t\t\x3c!-- ko if: dateChanged() > dateCreated() --\x3e\n\t\t\t\t<div class="app-sidebar__block">\n\t\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t\t\t{{app.tl(\'Updated By\')}}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\x3c!-- ko if: app.featureFlip.check(\'audittrail\', {unwrap:true}) && !$component.isTemplate() --\x3e\n\t\t\t\t\t\t\t<a href="javascript:;" class="btn btn-clear app-sidebar__block-title-btn" data-bind="click: $component.OnClickViewActivity">\n\t\t\t\t\t\t\t\t<span>{{app.tl(\'View History\')}}</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t\t<p class="mb--small">\n\t\t\t\t\t\t\t<img class="radius--circle vertical-align--bottom" width="16" height="16"\n\t\t\t\t\t\t\tdata-bind="attr: {\'src\': updatedBy.avatarUrl}, event: {error: app.OnImageThumbLoadFail.bind($data,\'person\')}">\n\t\t\t\t\t\t\t{{updatedBy.firstName}} {{updatedBy.lastName}}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>{{moment(dateChanged()).format(\'ddd Do MMMM YYYY, \' + app.loggedInUser.localization.timeFormat())}}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\x3c!-- /ko  --\x3e\n\t\t\x3c!-- /ko --\x3e\n\n\t\t<div class="app-sidebar__block">\n\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t<h3 class="app-sidebar__block-title no-icon">\n\t\t\t\t\t{{app.tl(\'Task Id\')}}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t<p class="mb--none"># {{id}}</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- ko if: $component.shouldShowCRMDeals --\x3e\n\t\t\t<div class="app-sidebar__block">\n\t\t\t\t<div class="app-sidebar__block-header">\n\t\t\t\t\t<h3 class="app-sidebar__block-title">\n\t\t\t\t\t\t<span class="icon-hold">\n\t\t\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\tname: \'crm-logo-mono-tw\',\n\t\t\t\t\t\t\t\t\twidth: \'18px\'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} --\x3e\x3c!-- /ko --\x3e\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tCRM {{app.tl(\'Deals\')}}\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--expanded">\n\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\tname: \'widget-crm-deals-list\',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\ttaskId: id()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\x3c!-- /ko --\x3e\n\n\t</div>\n</div>\n\n\x3c!-- IMPORTANT - Mark this template loaded --\x3e\n\x3c!-- ko if: $data.readyToShow != null && readyToShow --\x3e\n    <div data-bind="template:{afterRender:function(){templateLoaded(true)}}" class="hidden"></div>\n\x3c!-- /ko --\x3e\n'},2975:function(t,e){t.exports='<div id="tasksSidebar">\n\n\t<div id="stlh">\n\n\t\t<div id="currentTaskLists" class="app-sidebar__block">\n\t\t\t<div class="app-sidebar__block-header ml--medium">\n\t\t\t\t<h3 class="app-sidebar__block-title">\n\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tname: \'clipboard-list-regular\'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t{{app.tl(\'Task Lists\')}}\n\t\t\t\t</h3>\n\t\t\t\t\x3c!-- ko if: !isReordering() && app.currentRoute().project && app.currentRoute().project.permissions.canAddTaskLists() --\x3e\n\t\t\t\t<a href="javascript:;" class="btn btn-clear app-sidebar__block-title-btn" data-bind="click: OnClickAddNewTaskList">\n\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tname: \'add-regular\'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t<span>{{app.tl(\'Add New\')}}</span>\n\t\t\t\t</a>\n\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t</div>\n\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--full-width">\n\t\t\t\t<ul class="list-unstyled list-links" data-bind="visible: !isReordering()">\n\t\t\t\t\t<li class="list-links__link-wrapper" data-tasklist-id="0" data-bind="css: {\'is-active\': app.currentRoute().itemId == null }">\n\t\t\t\t\t\t<a class="list-links__link" data-bind="attr: {\'href\': \'#projects/\' + app.currentRoute().projectId + \'/tasks\'}">\n\t\t\t\t\t\t\t<span class="list-links__link-label">{{app.tl(\'All Lists\')}}</span>\n\t\t\t\t\t\t\t\x3c!-- ko ifnot: data.hasMoreRecords --\x3e\n\t\t\t\t\t\t\t\t<span class="badge tipped simpleTipped" data-bind="tipped: app.tl(\'[_s] incomplete tasks\',$component.activeTasksTotal())">\n\t\t\t\t\t\t\t\t\t{{ $component.activeTasksTotal }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<ul class="list-unstyled list-links for-tasks" data-bind="dragulaExtra: { data: activeLists, invalid: DragulaInvalid, afterDrop: OnDrop }">\n\t\t\t\t\t<li class="currentTaskListsItem list-links__link-wrapper" data-tasklist-id="{{id()}}" data-bind="css: {\'is-active\': app.currentRoute().itemId && app.currentRoute().itemId == id() }">\n\t\t\t\t\t\t<a class="list-links__link" data-bind="attr: {\'href\': \'#tasklists/\'+id(), \'title\': name}">\n\t\t\t\t\t\t\t\x3c!-- ko if: app.currentRoute().project && app.currentRoute().project.permissions.canAddTaskLists() --\x3e\n\t\t\t\t\t\t\t\t<span class="drag-handle fa fa-sort fa-drag-handle cursor--move"></span>\n\t\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t\t\x3c!-- ko if: isPrivate() --\x3e\n\t\t\t\t\t\t\t\t<i class="fa fa-lock list-links__link-private light-gray-tw"></i>\n\t\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t\t\t<span class="list-links__link-label">{{$component.truncateName($data)}}</span>\n\t\t\t\t\t\t\t<span class="badge simpleTipped" data-bind="tipped: app.tl(\'[_s] incomplete tasks\', numIncomplete())">\n\t\t\t\t\t\t\t\t{{numIncomplete}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- ko if: !isReordering() && completeLists().length && !isProjectTemplate() --\x3e\n\t\t\t<div class="app-sidebar__block">\n\t\t\t\t<div class="app-sidebar__block-header ml--medium">\n\t\t\t\t\t<h3 class="app-sidebar__block-title">\n\t\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\tname: \'check-circle-regular\'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t{{app.tl(\'Completed Task Lists\')}}\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="app-sidebar__block-content app-sidebar__block-content--full-width">\n\t\t\t\t\t<ul class="list-unstyled list-links list-tasks">\n\t\t\t\t\t\t\x3c!-- ko foreach: completeLists --\x3e\n\t\t\t\t\t\t\t\x3c!-- ko if: $index() < $component.maxListsToShow() --\x3e\n\t\t\t\t\t\t\t\t<li class="is-completed list-links__link-wrapper" data-bind="css: {\'is-active\': app.currentRoute().itemId && app.currentRoute().itemId == id() }" data-tasklist-id="{{id()}}">\n\t\t\t\t\t\t\t\t\t<a class="list-links__link" data-bind="attr: {\'href\':\'#tasklists/\'+id(), \'title\': name}">\n\t\t\t\t\t\t\t\t\t\t<span class="list-links__link-label">{{$component.truncateName($data)}}</span>\n\t\t\t\t\t\t\t\t\t\t<span class="badge">{{ numComplete }}</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\x3c!--/ko--\x3e\n\n\t\t\t\t\t\t\x3c!-- ko if: completeLists().length > 10 --\x3e\n\t\t\t\t\t\t\t<li class="completeTaskListsItem">\n\t\t\t\t\t\t\t\t<a href="javascript:;" class="subtle" data-bind="click: OnClickToggleAllCompleted">\n\t\t\t\t\t\t\t\t\t{{ isShowingAllCompletedTasks() ? app.tl(\'Show Less\') : app.tl(\'Show All\') }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\x3c!--/ko--\x3e\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\x3c!--/ko--\x3e\n\n\t\t\x3c!-- ko ifnot: data.isLoading --\x3e\n\t\t\t\x3c!-- ko component: {\n\t\t\t\t\tname: \'widget-loadMore\',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tdataLoader: data,\n\t\t\t\t\t\tminimalTemplate: true,\n\t\t\t\t\t\tcssClass: \'w-load-more--sidebar\'\n\t\t\t\t\t}\n\t\t\t\t} --\x3e\n\t\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- /ko --\x3e\n\t</div>\n\n\t\x3c!-- ko ifnot: isReordering() --\x3e\n\t\t\x3c!-- ko if: app.loggedInUser.userType() == \'account\' --\x3e\n\t\t\t\x3c!-- ko if: !isProjectTemplate() --\x3e\n\t\t\t\t<div class="app-sidebar__block">\n\t\t\t\t\t<div class="app-sidebar__block-header ml--medium">\n\t\t\t\t\t\t<h3 class="app-sidebar__block-title">\n\t\t\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\tname: \'chart-bar-regular\'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t\t\t{{app.tl(\'Reports\')}}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="app-sidebar__block-content">\n\t\t\t\t\t\t<ul class="app-sidebar__list-links app-sidebar__list-links-tasklist">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:;" class="l1" data-bind="click:OnShowTaskListsReport">\n\t\t\t\t\t\t\t\t\t{{app.tl(\'Task Lists Report\')}}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:;" class="l1" data-bind="click:OnShowGanttReport">\n\t\t\t\t\t\t\t\t\t{{app.tl(\'Gantt Chart Export\')}}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\x3c!-- /ko --\x3e\n\t\t\x3c!-- /ko --\x3e\n\n\t\t<div class="app-sidebar__block">\n\t\t\t<div class="app-sidebar__block-header ml--medium">\n\t\t\t\t<h3 class="app-sidebar__block-title">\n\t\t\t\t\t\x3c!-- ko component: {\n\t\t\t\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tname: \'gantt-tw-regular\'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} --\x3e\n\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t{{app.tl(\'Views\')}}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t\t<div class="app-sidebar__block-content">\n\t\t\t\t<ul class="app-sidebar__list-links app-sidebar__list-links-tasklist">\n\t\t\t\t\t\x3c!-- ko ifnot: isProjectTemplate --\x3e\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\x3c!-- TODO beta gantt --\x3e\n\t\t\t\t\t\t\t<a href="javascript:;" class="l1" data-bind="attr:{href: \'#/\'+tasksBaseUrl()+\n\t\t\t\t\t\t\t\t(app.featureFlip.check(\'newgantt\', {unwrap: true}) ? \'tasks/gantt\' : \'gantt\') }">\n\t\t\t\t\t\t\t\t{{app.tl(\'Gantt Chart\')}}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\x3c!-- /ko --\x3e\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="javascript:;" class="l1" data-bind="attr:{href: \'#/\'+tasksBaseUrl()+\'tasks/board\'}">\n\t\t\t\t\t\t\t{{app.tl(\'Board View\')}}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\x3c!--/ko--\x3e\n\n</div>\n\n\x3c!-- IMPORTANT - Mark this template loaded --\x3e\n\x3c!-- ko if: $data.readyToShow != null && readyToShow --\x3e\n    <div data-bind="template:{afterRender:function(){templateLoaded(true)}}" class="hidden"></div>\n\x3c!-- /ko --\x3e\n'},3196:function(t,e){t.exports="\x3c!-- ko component: {\n    name: 'widget-text-input',\n    params:{\n        value: value,\n        placeholder: placeholder,\n        showIcon: showIcon\n    }\n} --\x3e\x3c!-- /ko --\x3e\n"},3242:function(t,e){t.exports='<div class="w-text-input w-input-with-icons" data-bind="css: customCss">\n\t<div class="w-input-with-icons__icon w-input-with-icons__icon--left">\n\t\t\x3c!-- ko component: {\n\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\tparams: {\n\t\t\t\t\tname: iconClass\n\t\t\t\t}\n\t\t\t} --\x3e\n\t\t\x3c!-- /ko --\x3e\n\t</div>\n\t<input class="w-input-with-icons__input w-text-input__input form-control notracking"\n\t\ttype="text"\n\t\tdata-bind="\n\t\t\tclick: $component.OnClickInput,\n\t\t\ttextInput: value,\n\t\t\tattr: {\n\t\t\t\tplaceholder: placeholder\n\t\t\t},\n\t\t\tevent: {\n\t\t\t\tkeydown: OnKeyDown\n\t\t\t},\n\t\t\thasFocus: hasFocus\n\t\t">\n\t<button type="button"\n\t\tclass="btn btn-link w-input-with-icons__icon w-input-with-icons__icon--right w-text-input__clear"\n\t\ttitle="Clear"\n\t\tdata-bind="\n\t\t\tclick: $component.OnClickClear,\n\t\t\tcss: {\n\t\t\t\t\'is-hidden\': hideClearWhenEmpty && isClearHidden\n\t\t\t}">\n\t\t\t\x3c!-- ko component: {\n\t\t\t\t\tname: \'ui-common-icon\',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tname: \'close-regular\'\n\t\t\t\t\t}\n\t\t\t\t} --\x3e\n\t\t\t\x3c!-- /ko --\x3e\n\t</button>\n</div>'},3631:function(t,e,s){(function(n){var i,a,o=function(t,e){return function(){return t.apply(e,arguments)}};i=[s(2356),s(2357),s(1116),s(1152),s(1125),s(1138),s(14)],void 0!==(a=function(t,e,s,i,a,l,r){var p;return p=function(){function t(t){var n,a,p,d,c,u;null==t&&(t={}),this.dispose=o(this.dispose,this),this.loadTemplates=o(this.loadTemplates,this),this.extendTaskList=o(this.extendTaskList,this),this.taskHasTemplateRole=o(this.taskHasTemplateRole,this),this.getTemplateNameFromSelection=o(this.getTemplateNameFromSelection,this),this.getResponsibleUsers=o(this.getResponsibleUsers,this),this.getTemplateTaskNameNoRole=o(this.getTemplateTaskNameNoRole,this),this.getTemplateTaskRoleName=o(this.getTemplateTaskRoleName,this),this.FormatSelectedMilestone=o(this.FormatSelectedMilestone,this),this.FormatMilestone=o(this.FormatMilestone,this),this.OnSubmit=o(this.OnSubmit,this),this.OnPrivacyChanged=o(this.OnPrivacyChanged,this),this.OnClickEditTaskDefaults=o(this.OnClickEditTaskDefaults,this),this.OnClickAddMilestone=o(this.OnClickAddMilestone,this),this.OnUpdateTemplateStartDate=o(this.OnUpdateTemplateStartDate,this),this.subscriptions=[],this.modalRef=t.modalRef,this.tippedContent=e,this.args=this.modalRef.args,null==(n=this.args).stack&&(n.stack=!1),this.params=t,this.holderId="addOrEditTaskList",this.projectId=null!=(p=this.args.projectId)?p:app.currentRoute().projectId,this.project=app.projectInfo.get(this.projectId),console.assert(null!=("function"==typeof this.project?this.project():void 0)),this.subscriptions.push(this.isProjectTemplate=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.project())?e.isTemplate():void 0}}(this))),this.taskListId=null!=(d=this.args.taskListId)?d:0,this.taskList=new l,this.extendTaskList(),this.createdMilestoneId=ko.observable(null),this.showCompletedMilestones=ko.observable(!1),this.templateRolesExist=ko.observable(!1),this.taskListLoaded=ko.observable(!1),this.isTemplate=null!=(c=this.args.isTemplate)&&c,0===this.taskListId&&this.taskListLoaded(!0),a=["Changes to layout","Bug fixes / typos","New feature research","Production bugs","Competitor analysis","Customer requests"],this.namePlaceholder="e.g. "+a[Math.floor(Math.random()*a.length)],this.subscriptions.push(this.canAddMilestones=ko.pureComputed(function(t){return function(){var e,s,n;return(null!=(e=t.project().permissions)&&"function"==typeof e.canAddMilestones?e.canAddMilestones():void 0)&&1===Number((null!=(s=t.project())&&null!=(n=s.activePages)?n.milestones():void 0)||0)}}(this))),this.subscriptions.push(this.canSetPrivacy=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.project().permissions)&&"function"==typeof e.canSetPrivacy?e.canSetPrivacy():void 0}}(this))),this.subscriptions.push(this.tabs=ko.pureComputed(function(t){return function(){var e;return t.project()?(e=[{name:app.tl("Notes"),code:"notes"},{name:app.tl("Privacy"),code:"privacy",enabled:t.canSetPrivacy()},{name:app.tl("Milestone"),code:"milestone",enabled:t.canAddMilestones()},{name:app.tl("Advanced"),code:"advanced"},{name:app.tl("Defaults"),code:"defaults"}],e.selCode=ko.observable("notes"),e):null}}(this))),this.subscriptions.push(this.milestonesUrl=ko.pureComputed(function(t){return function(){return"projects/"+ko.unwrap(t.projectId)+"/milestones.json?find="+(t.showCompletedMilestones()?"all":"incomplete")+"&sortOrder=asc"}}(this))),this.listName=ko.observable(""),this.listDescription=ko.observable(""),this.isTasklistPinned=ko.observable(!1),this.privacyIds=ko.observableArray([]),this.milestone=ko.observable(null!=(u=this.args.milestone)?u:null),this.selectedMilestoneId=ko.observable(this.args.milestone?ko.unwrap(this.args.milestone.id):null),this.selectedTemplateId=ko.observable("-1"),this.selectedTemplateName=ko.observable(""),this.previousTemplateName=ko.observable(""),this.subscriptions.push(this.selectedTemplateName.subscribe(this.previousTemplateName,null,"beforeChange")),this.isPrivate=ko.pureComputed(function(t){return function(){return t.privacyIds().length>0&&"0"!==t.privacyIds()[0]}}(this)),this.subscriptions.push(this.isPrivate),this.mode=0===this.taskListId?"add":"edit",this.modalTitle=ko.observable(app.tl("Add Task List")),0!==this.taskListId&&(this.modalTitle("Edit Task List"),this.tlDataLoader=new s(app.prefixApi("tasklists/"+ko.unwrap(this.taskListId)+".json?getNewTaskDefaults=true&includeCustomFields=true&showMilestones=true","API_PREFIX_V1","API_PREFIX_V1"),{loadNow:!0,ItemClass:l,onLoad:function(t){return function(){if(null!=t.tlDataLoader)return t.taskList=t.tlDataLoader.first(),t.listName(t.taskList.name()),t.listDescription(t.taskList.description()),t.isTasklistPinned(t.taskList.pinned()),t.selectedMilestoneId(t.taskList.milestoneId()),t.extendTaskList(),t.initialPrivacyVal=1===t.taskList.isPrivate(),t.initialPinnedVal=t.taskList.pinned(),t.taskListLoaded(!0)}}(this)})),this.initialMilestoneValue=ko.pureComputed(function(t){return function(){return null!==t.milestone()||0!==t.taskListId&&null!=t.taskList.milestone?null!=t.milestone()?{id:t.milestone().id(),text:t.milestone().title()+" - ("+t.milestone().dueWhen()+", "+t.milestone().deadlineInWords()+")"}:{id:t.taskList.milestone.id(),text:t.taskList.milestone.title()+" - ("+t.taskList.milestone.dueWhen()+", "+t.taskList.milestone.deadlineInWords()+")"}:null}}(this)),this.subscriptions.push(this.initialMilestoneValue),this.templateTasks=ko.observableArray([]),this.templateDatesExist=ko.observable(!1),this.templatePeopleExist=ko.observable(!1),this.templateStartDate=this.isProjectTemplate()?ko.observable(app.consts.DATES.teamworkEpoch()):ko.observable(r()),this.templateSkipWeekends=app.loggedInUser.preferences.taskTemplateSkipWeekends,this.templateNotifyEveryone=ko.observable(!1),this.templateRoleAssignees=ko.observableArray([]),this.templateRoles=ko.pureComputed(function(t){return function(){var e,s,n,i,a,o,l;if(n=[],s=[],!t.templateTasks().length)return n;for(o=t.templateTasks(),i=0,a=o.length;i<a;i++)l=o[i],""!==(e=t.getTemplateTaskRoleName(l))&&-1===s.indexOf(e)&&(n.push({id:l.id,name:e,assignees:ko.observableArray([])}),s.push(e));return n}}(this)),this.subscriptions.push(this.templateRoles),this.areTemplateRolesAssigned=ko.pureComputed(function(t){return function(){var e,s,n,i;if(!t.templateTasks().length)return!0;for(n=t.templateRoles(),e=0,s=n.length;e<s;e++)if(i=n[e],0===i.assignees.length)return!1;return!0}}(this)),this.subscriptions.push(this.areTemplateRolesAssigned),this.templateItemClass=function(t){return{id:t.id,text:t.name+" ("+t["uncompleted-count"]+" "+app.tl("tasks")+(t.private?" - "+app.tl("Private"):"")+")"}},this.subscriptions.push(this.selectedTemplateId.subscribe(function(t){return function(e){var s,n;return s=t.getTemplateNameFromSelection(t.selectedTemplateName()),null!=e&&e>0?(t.templateDatesExist(!1),t.templatePeopleExist(!1),n=app.prefixApi("tasklists/"+e+"/tasks.json","API_PREFIX_V2","API_PREFIX_V2"),app.api.get(n).then(function(e){var n,i,a,o,l;for(l=e.response.tasks,i=0,a=l.length;i<a&&(n=l[i],null==n.startDate&&null==n.dueDate||(t.templateDatesExist(!0),!t.templatePeopleExist()))&&(!n.hasOwnProperty("assignedTo")&&""===t.getTemplateTaskRoleName(n)||(t.templatePeopleExist(!0),!t.templateDatesExist()));i++);if(t.templateTasks(e.response.tasks),o=t.getTemplateNameFromSelection(t.previousTemplateName()),!t.listName().trim()||t.listName()===o)return t.listName(s)})):(t.listName().trim()===s&&(t.listName(""),t.selectedTemplateName("")),t.templateTasks([]))}}(this))),this.stats=ko.observable({}),app.GetProjectStats(this.projectId,0,this.stats),this.milestoneItemClass=function(t){var e;return e=new i(t),{id:e.id(),text:e.title(),dueWhen:e.dueWhen(),relativeDeadline:app.tl("Day")+": "+(e.dueDateOffset()+1),deadlineInWords:e.deadlineInWords(),completed:e.completed(),isLate:e.isLate(),status:e.status()}},this.subscriptions.push(ko.postbox.subscribe("privacyIdsChanged",this.OnPrivacyChanged)),this.isSubmitting=ko.observable(!1),this.subscriptions.push(this.buttonText=ko.computed(function(t){return function(){return 0!==t.taskListId?t.isSubmitting()?app.tl("Saving Changes"):app.tl("Save Changes"):t.isSubmitting()?app.tl("Adding Task List"):app.tl("Add Task List")}}(this)))}return t.prototype.OnShow=function(){var t;t=function(t){return function(e){t.args.onCloseCallBack&&t.args.onCloseCallBack(e),app.modals.remove(t.modalRef)}}(this),Lightbox.showBoxByID(this.holderId,620,650,!0,{clickOverlayToClose:!1,onCloseCallBack:t,stack:this.args.stack}),app.FocusFirstInput(this.holderId,{select:!0})},t.prototype.OnUpdateTemplateStartDate=function(t){var e,s;e=this.templateStartDate(),s=function(){switch(t){case 0:return r();default:return e.add(t,"days")}}(),this.templateStartDate(s)},t.prototype.OnClickAddMilestone=function(){var t;t=function(t){return function(e){if(!e.wasCancelled)return console.assert("number"==typeof e.milestoneId),app.GetProjectStats(t.projectId,0,t.stats).then(function(){var s;return t.createdMilestoneId(e.milestoneId),s=new Option(e.milestoneTitle,e.milestoneId,!0,!0),n("#addOrEditTaskListSelectedMilestone").append(s),n("#addOrEditTaskListSelectedMilestone").trigger("change"),setTimeout(function(){return t.selectedMilestoneId(e.milestoneId.toString())},50)})}}(this),this.createdMilestoneId(null),app.modal.Show("addOrEditMilestone",{projectId:this.projectId,stack:!0,onCloseCallBack:t},this)},t.prototype.OnClickEditTaskDefaults=function(){var t;ko.postbox.publish("editing-task-defaults"),t=function(t){return function(e){e.wasCancelled||(e["change-follower-ready"]&&(t.taskList.newTaskDefaults.changeFollowerIds(e["change-follower-ids"]),t.taskList.newTaskDefaults.changeFollowerSummary(e["change-follower-summary"])),e["comment-follower-ready"]&&(t.taskList.newTaskDefaults.commentFollowerIds(e["comment-follower-ids"]),t.taskList.newTaskDefaults.commentFollowerSummary(e["comment-follower-summary"])),t.taskList.newTaskDefaults.description(e.description),t.taskList.newTaskDefaults.startDateOffset(e["start-date-offset"]),t.taskList.newTaskDefaults.dueDateOffset(e["due-date-offset"]),t.taskList.newTaskDefaults.estimatedMinutes(e["estimated-minutes"]),t.taskList.newTaskDefaults.grantAccessTo(e["grant-access-to"]),t.taskList.newTaskDefaults.priority(e.priorityText),null!=e.private&&t.taskList.newTaskDefaults.private(e.private),t.taskList.newTaskDefaults.assignedTo(e["assigned-to"]),t.taskList.newTaskDefaults.assignedToCompanies(e["assigned-to-companies"]),t.taskList.newTaskDefaults.assignedToTeams(e["assigned-to-teams"]),t.taskList.newTaskDefaults.responsiblePartyIds(e["responsible-party-id"]),t.taskList.newTaskDefaults.responsiblePartySummary(e["responsible-party-summary"]),t.taskList.newTaskDefaults.tags(e["unparsed-tags"]),t.taskList.newTaskDefaults.boardColumn.id(e["column-id"]),t.taskList.newTaskDefaults.boardColumn.name(e["column-name"]),t.taskList.newTaskDefaults.reminders(e.reminders),t.taskList.newTaskDefaults.customFields(e.customFields))}}(this),this.taskList.projectId||(this.taskList.projectId=ko.observable(this.projectId)),this.taskList.private(this.privacyIds().length>0),app.modal.Show("addOrEditNewTaskDefaults",{taskListName:this.listName,taskList:this.taskList,stack:!0,onCloseCallBack:t},this)},t.prototype.OnPrivacyChanged=function(t){this.privacyIds(t.ids)},t.prototype.OnSubmit=function(t){var e,s,n,i,a,o,l;if(null==t||!t.wasCancelled)return this.areTemplateRolesAssigned()||this.templateRoleAssignees().length?void(this.isSubmitting()||(this.isSubmitting(!0),n=function(t){return function(){var e,s,n,i,a;for(e={},i=t.templateRoleAssignees(),s=0,n=i.length;s<n;s++)a=i[s],!a.dontAssign&&(e[a.name]=a.assignees);return e}}(this),e={"todo-list":{name:this.listName(),description:this.listDescription(),pinned:this.isTasklistPinned(),"milestone-Id":this.selectedMilestoneId()>0?this.selectedMilestoneId():0}},this.canSetPrivacy()&&(s=this.privacyIds().filter(function(t){return"0"!==t.toString()}),e["todo-list"]["grant-access-to"]=s.toString(),e["todo-list"].private=s.length>0&&this.isPrivate()),0!==this.taskListId?(e["todo-list"]["skip-auto-closing"]=!(this.initialPinnedVal&&!this.isTasklistPinned()),l="tasklists/"+ko.unwrap(this.taskListId)+".json",i="put"):(l="projects/"+this.projectId+"/tasklists.json",i="post",e["todo-list"]["new-task-defaults"]={description:this.taskList.newTaskDefaults.description(),"change-follower-ids":this.taskList.newTaskDefaults.changeFollowerIds().toString(),"comment-follower-ids":this.taskList.newTaskDefaults.commentFollowerIds().toString(),"start-date-offset":this.taskList.newTaskDefaults.startDateOffset(),"due-date-offset":this.taskList.newTaskDefaults.dueDateOffset(),"estimated-minutes":this.taskList.newTaskDefaults.estimatedMinutes(),tagIds:app.tags.getTagIds(this.taskList.newTaskDefaults.tags()),priority:this.taskList.newTaskDefaults.priority(),"responsible-party-id":this.taskList.newTaskDefaults.responsiblePartyIds().toString(),"column-id":this.taskList.newTaskDefaults.boardColumn.id(),reminders:this.taskList.newTaskDefaults.reminders()},app.featureFlip.check("customfieldstasks",{unwrap:!0})&&null!=this.taskList.newTaskDefaults.customFields&&(e["todo-list"]["new-task-defaults"].customFields=this.taskList.newTaskDefaults.customFields()),this.canSetPrivacy()&&(e["todo-list"]["new-task-defaults"]["grant-access-to"]=this.taskList.newTaskDefaults.grantAccessTo(),e["todo-list"]["new-task-defaults"].private=this.taskList.newTaskDefaults.private())),this.selectedTemplateId()>0&&(e["todo-list"]["todo-list-template-id"]=this.selectedTemplateId(),e["todo-list"]["todo-list-template-start-date"]=null!=(a=null!=(o=this.templateStartDate())?o.format("YYYYMMDD"):void 0)?a:"",e["todo-list"]["todo-list-template-keep-off-weekends"]=this.templateSkipWeekends(),e["todo-list"]["todo-list-template-assignments"]=n(),e["todo-list"]["todo-list-template-notify"]=this.templateNotifyEveryone()),app.api[i](l,e).then(function(t){return function(s){var n;return 0!==t.taskListId?(n={eventTime:new Date,itemType:t.isTemplate?"taskListTemplate":"taskList",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:ko.unwrap(t.taskListId),taskListId:ko.unwrap(t.taskListId),newMilestoneId:e["todo-list"]["milestone-Id"],oldMilestoneId:t.taskList.milestoneId(),taskListName:ko.unwrap(t.listName),projectId:t.projectId},t.isPrivate()!==t.initialPrivacyVal&&(n.subType="privacy-changed"),app.ko.postbox.publish("allTWEvents",n)):app.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:"taskList",actionType:app.consts.ACTIONTYPE.ADDED,itemId:s.id,taskListId:s.id,projectId:t.projectId}),Lightbox.close({taskListId:s.id,taskListName:t.listName()})}}(this)).finally(function(t){return function(){return t.isSubmitting(!1)}}(this)))):void app.modal.Show("assignTemplateTaskRoles",{roles:this.templateRoles(),templateRoleAssignees:this.templateRoleAssignees,projectId:this.projectId,stack:!0,onCloseCallBack:this.OnSubmit},this)},t.prototype.FormatMilestone=function(t){var e,s;return null==t&&(t={}),void 0===t.deadlineInWords?t.text:(s="upcoming"===t.status||this.isProjectTemplate()?"upcoming":t.completed?"completed":"late",e='<div style="display:block; position: relative; padding-left: 25px;">',e+='<div class="select2-milestone '+s+'"></div>',e+=app.utility.SafeHTML(t.text),!this.isProjectTemplate()&&t.deadlineInWords&&(e+=' <span style="font-size:11px"> ('+ko.unwrap(t.dueWhen)+")</span>"),t.completed&&(e+=' <span style="font-size:11px;">['+app.tl("completed")+"]</span>"),!this.isProjectTemplate()&&t.deadlineInWords&&(e+='<div style="font-size:11px">'+ko.unwrap(t.deadlineInWords)+"</div>"),this.isProjectTemplate()&&(e+='<div style="font-size:11px">'+ko.unwrap(t.relativeDeadline)+"</div>"),e+="</div>")},t.prototype.FormatSelectedMilestone=function(t){var e;return null==t&&(t={}),e=app.utility.SafeHTML(t.text),this.isProjectTemplate()&&t.relativeDeadline?e+=" ("+ko.unwrap(t.relativeDeadline)+")":(t.deadlineInWords&&(e+=" ("+ko.unwrap(t.dueWhen)+", "+ko.unwrap(t.deadlineInWords)+")"),e)},t.prototype.displayTaskDefaults=function(t,e){var s;switch(t){case"changeFollowers":case"commentFollowers":return""!==e.trim()?e:"Nobody";case"estimatedMinutes":return e>=60?Math.floor(e/60)+" "+app.tl("hour")+" "+e%60+" "+app.tl("mins"):e+" "+app.tl("mins");case"days":return null==e?app.tl("No Date"):"string"==typeof e&&""===e.trim()?app.tl("No Date"):"string"==typeof e&&"null"===e.trim()?app.tl("No Date"):-1===parseInt(e,10)?app.tl("No Date"):app.tl("Day [_s]",parseInt(e,10)+1);case"private":return e||1===e?app.tl("Yes"):app.tl("No");case"tags":return null!=e?0===e.length?app.tl("None"):(s=e.map(function(t){return" "+t.name()}),s.join(",")):app.tl("None");case"column":return e=ko.unwrap(e),null!=(null!=e?e.id:void 0)&&0===parseInt(ko.unwrap(e.id),10)?app.tl("None"):null!=e&&null!=(null!=e?e.name:void 0)?e.name():app.tl("None");case"priority":return""===e?app.tl("None"):""+e[0].toUpperCase()+e.substr(1);case"reminders":return null!=e&&e.length>0?app.tl("Yes"):app.tl("None");case"customFields":return null!=e?0===e.length?app.tl("None"):1===e.length?app.tl("[_s] Custom field",e.length):app.tl("[_s] Custom fields",e.length):app.tl("None");default:return e}},t.prototype.getDateInterval=function(t){var e,s,n,i,a,o,l;return l=null!=(a=t.startDate)?a:"",i=null!=(o=t.dueDate)?o:"",""===l&&""===i?app.tl("No Date"):(n=""!==l?Math.abs(r(t.startDate,"YYYYMMDD").diff("2007-10-01","days"))+1:"",s=""!==i?Math.abs(r(t.dueDate,"YYYYMMDD").diff("2007-10-01","days"))+1:"",e=""!==l&&""!==t.dueDate?" - ":"",app.tl("Day")+" "+n+e+s)},t.prototype.getTemplateTaskRoleName=function(t){var e;return this.taskHasTemplateRole(t)?null===(e=t.name.match(/\[([^\]]*)\]/))?"":(this.templateRolesExist(!0),e[0].replace(/\[/,"").replace(/\]/,"")):""},t.prototype.getTemplateTaskNameNoRole=function(t){var e,s;return s=t.name,this.taskHasTemplateRole(t)?(e=s.match(/\[([^\]]*)\]/),null===e?s:s.substr(e[0].length,s.length-e[0].length)):s},t.prototype.getResponsibleUsers=function(t){var e,s,n,i,a;if(null==t.assignedTo)return"";for(a=[],i=t.assignedTo,s=0,n=i.length;s<n;s++)e=i[s],a.push(e.firstName+" "+e.lastName.substr(0,1)+".");return a.join(", ")},t.prototype.getTemplateNameFromSelection=function(t){return null==t?"":t.substr(0,t.lastIndexOf("(")).trim()},t.prototype.taskHasTemplateRole=function(t){return"["===t.name.substr(0,1)&&(void 0===t.assignedTo||0===t.assignedTo.length)},t.prototype.extendTaskList=function(){var t,e,s,n,i,a,o,l,r,p,d,c,u,k,h,m;return m=this.taskList,null==(t=m.newTaskDefaults).changeFollowerIds&&(t.changeFollowerIds=ko.observable("")),null==(e=m.newTaskDefaults).changeFollowerSummary&&(e.changeFollowerSummary=ko.observable(app.tl("Nobody"))),null==(l=m.newTaskDefaults).commentFollowerIds&&(l.commentFollowerIds=ko.observable("")),null==(r=m.newTaskDefaults).commentFollowerSummary&&(r.commentFollowerSummary=ko.observable(app.tl("Nobody"))),null==(p=m.newTaskDefaults).dueDateOffset&&(p.dueDateOffset=ko.observable("")),null==(d=m.newTaskDefaults).estimatedMinutes&&(d.estimatedMinutes=ko.observable(0)),null==(c=m.newTaskDefaults).grantAccessTo&&(c.grantAccessTo=ko.observable("")),null==(u=m.newTaskDefaults).lockdownId&&(u.lockdownId=ko.observable(0)),null==(k=m.newTaskDefaults).priority&&(k.priority=ko.observable("")),null==(h=m.newTaskDefaults).private&&(h.private=ko.observable(!1)),null==(s=m.newTaskDefaults).responsiblePartyIds&&(s.responsiblePartyIds=ko.observable("")),null==(n=m.newTaskDefaults).responsiblePartySummary&&(n.responsiblePartySummary=ko.observable(app.tl("Anyone"))),null==(i=m.newTaskDefaults).startDateOffset&&(i.startDateOffset=ko.observable("")),null==(a=m.newTaskDefaults).tags&&(a.tags=ko.observable([])),null!=(o=m.newTaskDefaults).viewEstimatedTime?o.viewEstimatedTime:o.viewEstimatedTime=ko.observable(!1)},t.prototype.loadTemplates=function(){return app.api.get("tasklists/templates.json").then(function(t){return function(e){var s,n,i,a;for(a=e.response.tasklists.filter(function(t){return parseInt(t.uncompletedCount,10)>0}),n=0,i=a.length;n<i;n++)s=a[n],s.text=s.name+" ("+s.uncompletedCount+" "+app.tl("tasks")+(s.private?" - "+app.tl("Private"):"")+")";return t.tlTemplates(a)}}(this))},t.prototype.dispose=function(){this.subscriptions.forEach(function(t){return t.dispose()}),null!=this.tlDataLoader&&this.tlDataLoader.dispose(),delete this.tlDataLoader},t}(),{viewModel:p,template:t}}.apply(e,i))&&(t.exports=a)}).call(e,s(245))},3887:function(t,e,s){var n,i,a=function(t,e){return function(){return t.apply(e,arguments)}};n=[s(2657),s(1116),s(1125)],void 0!==(i=function(t,e,s){var n;return n=function(){function t(t){var n,i,o;null==t&&(t={}),this.OnClickAddTimeEstimate=a(this.OnClickAddTimeEstimate,this),this.OnRendered=a(this.OnRendered,this),this.OnNotifyTWEvent=a(this.OnNotifyTWEvent,this),this.params=t,null==(n=this.params).mode&&(n.mode="normal"),this.subscriptions=[],this.taskList=t.taskList,this.isQuickView=null!=(i=t.isQuickView)&&i,this.today=moment().set("millisecond",0).set("second",0).set("minute",0).set("hour",0),this.tomorrow=moment().add(1,"days").set("millisecond",0).set("second",0).set("minute",0).set("hour",0),this.yesterday=moment().subtract(1,"days").set("millisecond",0).set("second",0).set("minute",0).set("hour",0),this.pageSize=null!=t.pageSize?t.pageSize:t.pageSize=100,this.projectId=t.projectId,this.reopenedTaskIds=[],this.subscriptions.push(this.numTasksReopenedSinceLoad=ko.pureComputed(function(t){return function(){return t.reopenedTaskIds.length?t.reopenedTaskIds.length:0}}(this))),o=app.prefixApi("tasklists/"+this.taskList.id()+"/tasks.json?filter=completed&includeCompletedSubtasks=1","API_PREFIX_V2","API_PREFIX_V2"),this.taskData=new e(o,{listField:"tasks",ItemClass:s,pageSize:this.pageSize,maxPageSize:250,offsetCount:this.numTasksReopenedSinceLoad,params:{},loadNow:!0}),this.subscriptions.push(app.ko.postbox.subscribe("allTWEvents",this.OnNotifyTWEvent)),app.InitOnShow(this)}return t.prototype.OnNotifyTWEvent=function(t){null!=(null!=t?t.taskListId:void 0)&&t.taskListId===this.taskList.id()&&(null!=t.subType&&"task-reopened"===t.subType?(this.taskData.DeleteItemById(t.itemId),this.reopenedTaskIds.indexOf(-1===t.itemId)&&this.reopenedTaskIds.push(t.itemId)):this.taskData.LoadUpdates()),"task"===t.itemType&&parseInt(t.taskListId,10)===this.taskList.id()&&"moveOrCopy"===t.subType&&"move"===t.moveOrCopyMode&&app.utility.FindIndexByKeyValue(this.taskData.list(),"id",t.itemId)>-1&&this.taskData.DeleteItemById(t.itemId)},t.prototype.OnRendered=function(){},t.prototype.OnShow=function(){},t.prototype.OnClickAddTimeEstimate=function(t){var e;return e=function(e){return function(s){var n,i;if(!s.wasCancelled)return i=e.taskList.estimatedTotalMinutes(),n=t.estimatedMinutes(),t.estimatedMinutes(s.minutes),0===s.minutes?e.taskList.estimatedTotalMinutes(i-n):n<s.minutes?e.taskList.estimatedTotalMinutes(i-(s.minutes-n)):e.taskList.estimatedTotalMinutes(i+(s.minutes-n))}}(this),app.modal.Show("addOrEditTimeEstimate",{item:t,projectId:this.projectId,type:"task",onCloseCallBack:e})},t.prototype.dispose=function(){null!=this.subscriptions&&this.subscriptions.forEach(function(t){return t.dispose()}),this.taskData.dispose(),delete this.taskData},t}(),{viewModel:n,template:t}}.apply(e,n))&&(t.exports=i)},4036:function(t,e,s){(function(n){var i,a,o=function(t,e){return function(){return t.apply(e,arguments)}};i=[s(2838),s(2839),s(2841),s(2840),s(1015),s(1281)],void 0!==(a=function(t,e,s,i,a,l){var r;return r=function(){function t(t){var n,l,r,p;null==t&&(t={}),this.OnHideIcon=o(this.OnHideIcon,this),this.OnShowIcon=o(this.OnShowIcon,this),this.OnAddTaskToTaskList=o(this.OnAddTaskToTaskList,this),this.OnEditTaskList=o(this.OnEditTaskList,this),this.OnClickDeleteTask=o(this.OnClickDeleteTask,this),this.OnClickMoveOrCopyTask=o(this.OnClickMoveOrCopyTask,this),this.OnModifyTaskProperties=o(this.OnModifyTaskProperties,this),this.OnStartTaskTimer=o(this.OnStartTaskTimer,this),this.OnShowTaskReminders=o(this.OnShowTaskReminders,this),this.OnViewTaskActivity=o(this.OnViewTaskActivity,this),this.OnShowPrintableTaskVersion=o(this.OnShowPrintableTaskVersion,this),this.OnEditTask=o(this.OnEditTask,this),this.OnClickSortTaskList=o(this.OnClickSortTaskList,this),this.OnReorderLists=o(this.OnReorderLists,this),this.OnClickImportTasks=o(this.OnClickImportTasks,this),this.OnClickPostByEmail=o(this.OnClickPostByEmail,this),this.OnExpandAll=o(this.OnExpandAll,this),this.OnCollapseAll=o(this.OnCollapseAll,this),this.OnClickAddTaskList=o(this.OnClickAddTaskList,this),this.OnClickBulkEditTasks=o(this.OnClickBulkEditTasks,this),this.OnClickSaveBoard=o(this.OnClickSaveBoard,this),this.OnClickKeyboardShortcuts=o(this.OnClickKeyboardShortcuts,this),this.OnClickCollapseCards=o(this.OnClickCollapseCards,this),this.OnClickManageColumns=o(this.OnClickManageColumns,this),this.OnClickViewArchivedCards=o(this.OnClickViewArchivedCards,this),this.OnClickShareBoardFilter=o(this.OnClickShareBoardFilter,this),this.OnClickAddColumn=o(this.OnClickAddColumn,this),this.OnClickShareFilter=o(this.OnClickShareFilter,this),this.subscriptions=[],this.tippedOptionsContent=e,this.tippedTaskOptionsContent=s,this.tippedProjectTasksOptionsContent=i,this.tab=null!=(n=t.tab)?n:null,this.isQuickView=null!=(l=t.isQuickView)&&l,this.subscriptions.push(this.isTemplate=ko.pureComputed(function(t){return function(){var t;return null!=(t=app.currentRoute().project)?t.isTemplate():void 0}}())),this.subscriptions.push(this.readOnly=ko.pureComputed(function(t){return function(){return t.isTemplate()&&!app.loggedInUser.permissions.canManageProjectTemplates()}}(this))),this.subscriptions.push(this.taskId=ko.pureComputed(function(e){return function(){var s;return s=ko.unwrap(t.taskId),null!=s?s:!e.isQuickView&&"tasks"===app.currentRoute().projectTab&&app.currentRoute().itemId||0}}(this))),this.subscriptions.push(this.isTaskDetailMode=ko.pureComputed(function(t){return function(){return null==t.tab&&t.taskId()>0}}(this))),this.subscriptions.push(this.taskViewModelPureComputed=ko.pureComputed(function(t){return function(){return app.shared.getPureComputed("viewModel/tasks/"+t.taskId())}}(this))),this.subscriptions.push(this.taskViewModel=ko.pureComputed(function(t){return function(){return t.taskViewModelPureComputed()()}}(this))),this.subscriptions.push(this.task=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.taskViewModel())?e.task():void 0}}(this))),this.subscriptions.push(this.isHarvestEnabled=ko.computed(function(t){return function(){var e,s,n,i;return null==t.tab&&!t.isTemplate()&&(e=Boolean((null!=(s=app.account.integrations.harvest)?s.enabled():void 0)&&(null!=(n=t.taskViewModel())&&"function"==typeof n.project&&null!=(i=n.project())&&"function"==typeof i.harvestTimersEnabled?i.harvestTimersEnabled():void 0)),e&&t.ActivateHarvestButton(),e)}}(this))),this.subscriptions.push(this.taskListId=ko.pureComputed(function(e){return function(){var s;return s=ko.unwrap(t.taskListId),null!=s?s:!e.isQuickView&&"tasklists"===app.currentRoute().projectTab&&app.currentRoute().itemId||0}}(this))),this.subscriptions.push(this.isTaskListDetailMode=ko.pureComputed(function(t){return function(){return t.taskListId()>0}}(this))),this.subscriptions.push(this.taskListViewModelPureComputed=ko.pureComputed(function(t){return function(){return app.shared.getPureComputed("viewModel/taskLists/"+t.taskListId())}}(this))),this.subscriptions.push(this.taskListViewModel=ko.pureComputed(function(t){return function(){return t.taskListViewModelPureComputed()()}}(this))),this.subscriptions.push(this.taskList=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.taskListViewModel())?e.taskList():void 0}}(this))),this.subscriptions.push(this.canShowTaskHeaderButtons=ko.pureComputed(function(t){return function(){var e;return t.isTaskDetailMode()&&null!=t.taskViewModel()&&t.taskViewModel().task&&("function"==typeof(e=t.taskViewModel()).task?e.task():void 0)}}(this))),this.subscriptions.push(this.isListingMode=ko.pureComputed(function(t){return function(){return null==t.tab&&!t.isTaskDetailMode()&&!t.isTaskListDetailMode()}}(this))),this.subscriptions.push(this.projectId=ko.pureComputed(function(e){return function(){var e,s;return null!=(e=null!=(s=ko.unwrap(t.projectId))?s:app.currentRoute().projectId)?e:0}}())),this.subscriptions.push(this.projectTasksFilters=a.getFilter("projectTasks",this.projectId,!1)),this.subscriptions.push(this.isReordering=app.shared.get("state/taskLists/isReordering")),null==this.isReordering()&&this.isReordering(!1),this.subscriptions.push(this.sharedBoardData=app.shared.get("tasks/board")),this.subscriptions.push(this.shouldShowBoardOptions=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())?e.shouldShowBoardOptions():void 0}}(this))),this.subscriptions.push(this.canModifyBoard=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.canModifyBoard?e.canModifyBoard():void 0}}(this))),this.subscriptions.push(this.canAddCards=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.canAddCards?e.canAddCards():void 0}}(this))),this.subscriptions.push(this.hasReachedMaxColumns=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.hasReachedMaxColumns?e.hasReachedMaxColumns():void 0}}(this))),this.subscriptions.push(this.boardHasActiveFilter=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())?e.hasActiveFilter():void 0}}(this))),this.subscriptions.push(this.allColumns=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())?e.allColumns():void 0}}(this))),this.subscriptions.push(this.useCollapsedMode=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.useCollapsedMode?e.useCollapsedMode():void 0}}(this))),this.subscriptions.push(this.activeTaskTimer=ko.pureComputed(function(t){return function(){var e;return e=app.timers().filter(function(e){return parseInt(e.taskId(),10)===parseInt(t.taskId(),10)}),e.length>0?e[0]:null}}(this))),this.subscriptions.push(this.shouldShowTimerButton=ko.pureComputed(function(t){return function(){var e;return(null!=(e=t.task())?e.canLogTime():void 0)&&!t.isTemplate()}}(this))),this.subscriptions.push(this.sharedFilteredTasksData=app.shared.get("viewModel/filtered-tasks")),this.parent=null!=(r=t.parentVM)?r:{},this.hasActiveFilter=null!=(p=this.parent.hasActiveFilter)?p:ko.observable(!1),this.subscriptions.push(this.project=ko.pureComputed(function(t){return function(){return 0===t.projectId()?null:ko.unwrap(app.projectInfo.get(t.projectId()))}}(this))),this.subscriptions.push(this.projectIsActive=ko.pureComputed(function(t){return function(){return null==t.project()||t.project().isActive()}}(this))),this.subscriptions.push(this.canEditAllTasks=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.project())?e.permissions.canEditAllTasks():void 0}}(this))),this.subscriptions.push(this.canAddTasks=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.project())?e.permissions.canAddTasks():void 0}}(this))),this.subscriptions.push(this.canAddTaskLists=ko.pureComputed(function(t){return function(){var e;return(null!=(e=t.project())?e.permissions.canAddTaskLists():void 0)&&!t.readOnly()}}(this)))}return t.prototype.OnClickShareFilter=function(){return this.projectTasksFilters().Share()},t.prototype.OnClickAddColumn=function(){var t;if(null!=(null!=(t=this.sharedBoardData())?t.OnClickAddColumn:void 0))return this.hasReachedMaxColumns()?void app.flash.Warn(app.tl("You need to upgrade to a higher plan to add new columns")):this.sharedBoardData().OnClickAddColumn()},t.prototype.OnClickShareBoardFilter=function(){var t;null!=(null!=(t=this.sharedBoardData())?t.OnClickShareFilter:void 0)&&this.sharedBoardData().OnClickShareFilter()},t.prototype.OnClickViewArchivedCards=function(){var t;if(null!=(null!=(t=this.sharedBoardData())?t.OnClickViewArchivedCards:void 0))return this.sharedBoardData().OnClickViewArchivedCards()},t.prototype.OnClickManageColumns=function(){var t;if(null!=(null!=(t=this.sharedBoardData())?t.OnClickManageColumns:void 0))return this.sharedBoardData().OnClickManageColumns()},t.prototype.OnClickCollapseCards=function(){var t;if(null!=(null!=(t=this.sharedBoardData())?t.useCollapsedMode:void 0))return this.sharedBoardData().useCollapsedMode(!this.sharedBoardData().useCollapsedMode())},t.prototype.OnClickKeyboardShortcuts=function(){app.quickView.show("keyboard-shortcuts")},t.prototype.OnClickSaveBoard=function(){var t,e,s,n;t=this.allColumns().slice().filter(function(t){return t.visible()}),s=t.map(function(t){return t.name()}),e={id:0,name:app.currentRoute().project.name(),color:"",description:"",userId:app.loggedInUser.id(),projectIds:[app.projectId()],userIds:[app.loggedInUser.id()],columns:s},n=new l(e,"task"),app.modal.Show("addOrEditBoard",{board:n,boardType:"task",isEditMode:!1})},t.prototype.OnClickBulkEditTasks=function(){var t,e;null!=app.currentRoute().projectId&&(t=(null!=(e=this.projectTasksFilters())?e.active():void 0)&&null!=this.sharedFilteredTasksData()?{type:"project",projectId:app.currentRoute().projectId,dataURL:this.sharedFilteredTasksData().data.endpoint,dataParams:{}}:{type:"project",projectId:app.currentRoute().projectId,projectName:app.currentRoute().project.name()},app.modal.Show("bulkEditTasks",t))},t.prototype.OnClickAddTaskList=function(){app.modal.Show("addOrEditTaskList",{projectId:this.projectId()})},t.prototype.OnCollapseAll=function(){return Tipped.hideAll(),app.ko.postbox.publish("project-"+this.projectId()+"-toggle-all-tasklists",!0)},t.prototype.OnExpandAll=function(){return Tipped.hideAll(),app.ko.postbox.publish("project-"+this.projectId()+"-toggle-all-tasklists",!1)},t.prototype.OnClickPostByEmail=function(){return Tipped.hideAll(),app.modal.Show("postByProjectEmail",{type:"tasks",projectId:this.projectId()})},t.prototype.OnClickImportTasks=function(){var t;return t=function(t){return function(e){return app.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:"projectTasks",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:t.projectId(),subType:"import"})}}(this),app.modal.Show("importTasks",{onCloseCallBack:t})},t.prototype.OnReorderLists=function(){return Tipped.hideAll(),this.isReordering(!this.isReordering())},t.prototype.OnClickSortTaskList=function(t){var e;return e={sortBy:t,sortOrder:"ASC"},app.flash.Info(app.tl("Sorting")+app.localizationPreferences().ellipsis),app.api.put("projects/"+this.projectId()+"/tasklists/sort.json",e).then(function(t){return function(e){return app.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:"taskLists",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:t.projectId()}),app.flash.Success(app.tl("Sorted"),{timer:500})}}(this)),Tipped.hideAll(),!1},t.prototype.OnEditTask=function(){app.ko.postbox.publish("toggle-edit-mode-for-task-"+this.task().id(),!0)},t.prototype.OnShowPrintableTaskVersion=function(){Tipped.hideAll(),app.modal.Show("printableTaskDetails",{taskId:this.task().id(),projectId:this.task().projectId()})},t.prototype.OnViewTaskActivity=function(){Tipped.hideAll(),app.featureFlip.check("audittrail",{unwrap:!0})?app.quickView.show("audit",{itemId:this.task().id(),itemType:"task"}):app.modal.Show("taskActivity",{taskId:this.task().id()})},t.prototype.OnShowTaskReminders=function(){Tipped.hideAll(),app.modal.Show("currentTaskReminders",{item:this.task(),projectId:this.task().projectId()})},t.prototype.OnStartTaskTimer=function(){Tipped.hideAll(),this.task().ToggleTimer()},t.prototype.OnModifyTaskProperties=function(){var t;Tipped.hideAll(),t=function(t){return function(e){var s;if(!e.wasCancelled&&null!=(null!=e&&null!=(s=e.creator)?s.id:void 0))return t.task().createdBy.id(parseInt(e.creator.id,10)),t.task().createdBy.firstName(e.creator.firstName),t.task().createdBy.lastName(e.creator.lastName)}}(this),app.modal.Show("taskProperties",{id:this.task().id(),projectId:this.task().projectId(),task:this.task(),onCloseCallBack:t})},t.prototype.OnClickMoveOrCopyTask=function(){Tipped.hideAll(),app.modal.Show("moveOrCopyItem",{type:"task",item:this.task(),itemId:this.task().id(),projectId:this.task().projectId()})},t.prototype.OnClickDeleteTask=function(){this.task().Delete()},t.prototype.OnEditTaskList=function(){return this.taskList().OnClickShowEditTaskList()},t.prototype.OnAddTaskToTaskList=function(){return this.taskList().OnClickAddTask()},t.prototype.OnShowIcon=function(t,e){n(e.currentTarget).find("i").addClass("fa-circle-o")},t.prototype.OnHideIcon=function(t,e){n(e.currentTarget).find("i").removeClass("fa-circle-o")},t.prototype.ActivateHarvestButton=function(){var t,e;t=0,e=function(){var s;return s=n(".btn.harvest-timer").last(),s.length?harvest.addTimerHandlers(s):t<5?(t++,setTimeout(e,100)):void 0},setTimeout(e,100)},t.prototype.dispose=function(){this.subscriptions.forEach(function(t){return t.dispose()})},t}(),{viewModel:r,template:t}}.apply(e,i))&&(t.exports=a)}).call(e,s(245))},4037:function(t,e,s){var n,i,a=function(t,e){return function(){return t.apply(e,arguments)}};n=[s(2842),s(2843),s(1117),s(1116),s(1285),s(1187),s(1015)],void 0!==(i=function(t,e,s,n,i,o,l){var r;return r=function(){function t(t){var s,n;null==t&&(t={}),this.getDateInterval=a(this.getDateInterval,this),this.getDueDateClass=a(this.getDueDateClass,this),this.OnClickShowAllColumns=a(this.OnClickShowAllColumns,this),this.OnClickShareBoardFilter=a(this.OnClickShareBoardFilter,this),this.OnClickShareFilter=a(this.OnClickShareFilter,this),this.OnClickCollapseCards=a(this.OnClickCollapseCards,this),this.OnClickManageColumns=a(this.OnClickManageColumns,this),this.OnClickViewArchivedCards=a(this.OnClickViewArchivedCards,this),this.OnClickAddColumn=a(this.OnClickAddColumn,this),this.OnClickViewGantt=a(this.OnClickViewGantt,this),this.OnNotifyTWEvent=a(this.OnNotifyTWEvent,this),this.OnRendered=a(this.OnRendered,this),this.tippedOptionsContent=e,this.upcomingCount=ko.observable(0),this.lateCount=ko.observable(0),this.subscriptions=[],this.today=moment().startOf("day"),this.tomorrow=moment().add(1,"days").startOf("day"),this.yesterday=moment().subtract(1,"days").startOf("day"),this.subscriptions.push(this.isProjectTemplate=ko.pureComputed(function(t){return function(){var t;return null!=(t=app.currentRoute().project)?t.isTemplate():void 0}}())),this.subscriptions.push(this.showOldGantt=ko.pureComputed(function(t){return function(){return!t.isProjectTemplate()&&!app.featureFlip.check("newgantt",{unwrap:!0})}}(this))),this.subscriptions.push(this.projectId=ko.pureComputed(function(t){return function(){return app.currentRoute().projectId}}())),this.subscriptions.push(this.filters=l.getFilter("projectTasks",this.projectId,!app.isBoardsView())),s=this.filters().parameters,this.filterText=s.filterText,this.filterBoardColumnIds=s.filterBoardColumnIds,this.hiddenBoardColumnIds=s.hiddenBoardColumnIds,this.priority=s.priority,this.dateCode=s.dateCode,this.startDate=s.startDate,this.endDate=s.endDate,this.dateCreatedCode=s.dateCreatedCode,this.createdAfterDate=s.createdAfterDate,this.createdBeforeDate=s.createdBeforeDate,this.createdDateCustomInterval=s.createdDateCustomInterval,this.includeBlockedTasks=s.includeBlockedTasks,this.includeCompletedTasks=s.includeCompletedTasks,this.getSubTasks=s.getSubTasks,this.responsiblePartyIds=s.responsiblePartyIds,this.assigneeCompanyIds=s.assigneeCompanyIds,this.assigneeTeamIds=s.assigneeTeamIds,this.tagIds=s.tagIds,this.creatorIds=s.creatorIds,this.matchAllTags=s.matchAllTags,this.excludeTagIds=s.excludeTagIds,this.matchAllExcludedTags=s.matchAllExcludedTags,this.onlyUntaggedTasks=s.onlyUntaggedTasks,this.showAllAssignedTasks=s.showAllAssignedTasks,this.includeUnassignedTasks=s.includeUnassignedTasks,this.dateCustomInterval=s.dateCustomInterval,this.includeOverdueTasks=s.includeOverdueTasks,this.includeTasksWithNoDate=s.includeTasksWithNoDate,this.includeAssigneeCompanies=s.includeAssigneeCompanies,this.includeAssigneeTeams=s.includeAssigneeTeams,this.ignoreStartDates=s.ignoreStartDates,this.onlyTasksWithTickets=s.onlyTasksWithTickets,this.onlyTasksWithUnreadComments=s.onlyTasksWithUnreadComments,this.hasActiveFilter=this.filters().active,this.subscriptions.push(this.shouldShowViewModes=ko.pureComputed(function(t){return function(){return null!=app.currentRoute().projectTab&&("tasks"!==app.currentRoute().projectTab||null==app.currentRoute().itemId)}}())),this.numberOfResults=ko.observable(0),this.subscriptions.push(this.isReordering=app.shared.get("state/taskLists/isReordering")),null==this.isReordering()&&this.isReordering(!1),this.showCompletedTasks=ko.observable(!1),this.taskMode=app.loggedInUser.preferences.projectTasksViewMode,this.viewOptions=[{html:'<i class="fa fa-bars fa-fw"></i>',value:"list",alt:app.tl("List View")},{html:'<i class="fa fa-columns fa-fw"></i>',value:"board",alt:app.tl("Board View")}],!this.isProjectTemplate()&&app.featureFlip.check("newgantt",{unwrap:!0})&&this.viewOptions.push({component:{name:"ui-common-icon",params:{name:"gantt-tw-regular",class:"u-common-icon--btn-group"}},value:"gantt",alt:app.tl("Gantt Chart")}),null!=(null!=(n=app.currentRoute().queryParams)?n.sf:void 0)?app.currentRoute().request_.split("/").pop().includes("board")?this.taskMode("board"):this.taskMode("list"):"tasklists"===app.currentRoute().projectTab?this.taskMode("list"):"board"===app.currentRoute().request_.split("/").pop()?this.taskMode("board"):null!=app.currentRoute().itemId||("list"===app.currentRoute().project.tasksStartPage()?this.taskMode("list"):"board"===app.currentRoute().project.tasksStartPage()?(this.taskMode("board"),app.hasher.replaceHash("projects/"+app.currentRoute().project.id()+"/tasks/board")):"board"===this.taskMode()?app.hasher.replaceHash("projects/"+app.currentRoute().project.id()+"/tasks/board"):"gantt"===this.taskMode()&&(this.showOldGantt()?this.taskMode("list"):app.hasher.replaceHash("projects/"+app.currentRoute().project.id()+"/tasks/gantt"))),this.subscriptions.push(this.taskMode.subscribe(function(t){return function(e){if(null!=app.currentRoute().project&&null!=app.currentRoute().projectTab&&("tasklists"!==app.currentRoute().projectTab||"list"!==e))return app.showBacklog(!1),"board"===e?app.GoTo("projects/"+app.currentRoute().project.id()+"/tasks/board"):"gantt"===e?app.GoTo("projects/"+app.currentRoute().project.id()+"/tasks/gantt"):"list"===e?(app.currentFilter(t.filters()),app.GoTo("projects/"+app.currentRoute().project.id()+"/tasks")):void 0}}(this))),this.subscriptions.push(app.currentRoute.subscribe(function(t){return function(e){var s;if(null!=(null!=e?e.projectId:void 0)&&null!=e.projectTab&&("tasks"===(s=e.projectTab)||"tasklists"===s))return"board"===t.taskMode()&&"board"!==e.request_.split("/").pop()&&null==e.itemId?t.taskMode("list"):"list"===t.taskMode()&&"board"===e.request_.split("/").pop()?t.taskMode("board"):!1===t.taskMode()&&"tasklists"===e.projectTab?t.taskMode("list"):void 0}}(this))),this.subscriptions.push(this.sharedBoardData=app.shared.get("tasks/board")),this.subscriptions.push(this.boardFilters=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.filters?e.filters():void 0}}(this))),this.subscriptions.push(this.boardHasActiveFilter=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.hasActiveFilter?e.hasActiveFilter():void 0}}(this))),this.subscriptions.push(this.boardHasHiddenColumns=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.hiddenBoardColumnIds?e.hiddenBoardColumnIds().length:void 0}}(this))),this.subscriptions.push(this.selectedCard=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.selectedCard?e.selectedCard():void 0}}(this))),this.subscriptions.push(this.isDraggingCard=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.isDraggingCard?e.isDraggingCard():void 0}}(this))),this.subscriptions.push(this.isDraggingCompletedCard=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.isDraggingCompletedCard?e.isDraggingCompletedCard():void 0}}(this))),this.subscriptions.push(this.canRemoveCard=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.canRemoveCard?e.canRemoveCard():void 0}}(this))),this.subscriptions.push(this.canModifyBoard=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.canModifyBoard?e.canModifyBoard():void 0}}(this))),this.subscriptions.push(this.canAddCards=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.canAddCards?e.canAddCards():void 0}}(this))),this.subscriptions.push(this.boardRemovalPlaceholderId=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())?e.boardRemovalPlaceholderId():void 0}}(this))),this.subscriptions.push(this.shouldShowBoardOptions=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())?e.shouldShowBoardOptions():void 0}}(this))),this.subscriptions.push(this.shouldShowBacklog=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())?e.shouldShowBacklog():void 0}}(this))),this.subscriptions.push(this.hasReachedMaxColumns=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.hasReachedMaxColumns?e.hasReachedMaxColumns():void 0}}(this))),this.subscriptions.push(this.useCollapsedMode=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.sharedBoardData())&&"function"==typeof e.useCollapsedMode?e.useCollapsedMode():void 0}}(this))),app.InitOnShow(this)}return t.prototype.OnShow=function(){},t.prototype.OnRendered=function(){},t.prototype.OnNotifyTWEvent=function(t){},t.prototype.OnClickViewGantt=function(){return app.GoTo("projects/"+this.projectId()+"/gantt")},t.prototype.OnClickAddColumn=function(){var t;if(null!=(null!=(t=this.sharedBoardData())?t.OnClickAddColumn:void 0))return this.hasReachedMaxColumns()?void app.flash.Warn(app.tl("You need to upgrade to a higher plan to add new columns")):this.sharedBoardData().OnClickAddColumn()},t.prototype.OnClickViewArchivedCards=function(){var t;if(null!=(null!=(t=this.sharedBoardData())?t.OnClickViewArchivedCards:void 0))return this.sharedBoardData().OnClickViewArchivedCards()},t.prototype.OnClickManageColumns=function(){var t;if(null!=(null!=(t=this.sharedBoardData())?t.OnClickManageColumns:void 0))return this.sharedBoardData().OnClickManageColumns()},t.prototype.OnClickCollapseCards=function(){var t;if(null!=(null!=(t=this.sharedBoardData())?t.useCollapsedMode:void 0))return this.sharedBoardData().useCollapsedMode(!this.sharedBoardData().useCollapsedMode())},t.prototype.OnClickShareFilter=function(){this.filters().Share()},t.prototype.OnClickShareBoardFilter=function(){var t;null!=(null!=(t=this.sharedBoardData())?t.OnClickShareFilter:void 0)&&this.sharedBoardData().OnClickShareFilter()},t.prototype.OnClickShowAllColumns=function(){var t;null!=(null!=(t=this.sharedBoardData())?t.hiddenBoardColumnIds:void 0)&&this.sharedBoardData().hiddenBoardColumnIds([])},t.prototype.getDueDateClass=function(t){return null==t.dueDate()||""===t.dueDate()?"":t.dueDate()===this.today.format("YYYYMMDD")?"today":t.dueDate()===this.tomorrow.format("YYYYMMDD")?"tomorrow":moment(t.dueDate(),"YYYYMMDD").isBefore(this.today)?"late":"other"},t.prototype.getDateInterval=function(t,e){return"start"===t?e.startDate()===this.today.format("YYYYMMDD")?app.tl("Today"):e.startDate()===this.tomorrow.format("YYYYMMDD")?app.tl("Tomorrow"):e.startDate()===this.yesterday.format("YYYYMMDD")?app.tl("Yesterday"):moment(e.startDate(),"YYYYMMDD").startOf("day").from(this.today)+", "+moment(e.startDate(),"YYYYMMDD").startOf("day").format("ddd MMM Do"):"due"===t?e.dueDate()===this.today.format("YYYYMMDD")?app.tl("Today"):e.dueDate()===this.tomorrow.format("YYYYMMDD")?app.tl("Tomorrow"):e.dueDate()===this.yesterday.format("YYYYMMDD")?app.tl("Yesterday"):moment(e.dueDate(),"YYYYMMDD").startOf("day").from(this.today)+", "+moment(e.dueDate(),"YYYYMMDD").startOf("day").format("ddd MMM Do"):void 0},t.prototype.dispose=function(){app.showBacklog(!1),this.subscriptions.forEach(function(t){return t.dispose()})},t}(),{viewModel:r,template:t}}.apply(e,n))&&(t.exports=i)},4112:function(t,e,s){(function(n){var i,a,o=function(t,e){return function(){return t.apply(e,arguments)}};i=[s(2933),s(1116),s(1125),s(1117)],void 0!==(a=function(t,e,s,i){var a;return a=function(){function t(t){var n,i,a,l,r,p,d;for(null==t&&(t={}),this.notifyMilestoneUpdated=o(this.notifyMilestoneUpdated,this),this.checkIfItemDeleted=o(this.checkIfItemDeleted,this),this.ensureTaskFormIsAtEnd=o(this.ensureTaskFormIsAtEnd,this),this.loadTaskUpdates=o(this.loadTaskUpdates,this),this.sortByDate=o(this.sortByDate,this),this.shouldDisplay=o(this.shouldDisplay,this),this.OnClickAddTimeEstimate=o(this.OnClickAddTimeEstimate,this),this.OnRendered=o(this.OnRendered,this),this.OnNotifyTWEvent=o(this.OnNotifyTWEvent,this),this.params=t,null==(n=this.params).mode&&(n.mode="normal"),this.subscriptions=[],this.taskId=t.taskId,this.task=t.task,this.taskList=t.taskList,this.level=null!=t.level?t.level:t.level=0,this.pageSize=null!=t.pageSize?t.pageSize:t.pageSize=100,this.showCompletedTasksLink=!0,this.numIncomplete=t.numIncomplete,this.projectId=t.projectId,this.isQuickView=null!=t.isQuickView?t.isQuickView:t.isQuickView=!1,this.showCompletedSubTasks=ko.observable(0===this.task.numCompletedSubTasks()),this.completedTasksCount=this.task.numCompletedSubTasks(),this.mode=this.params.mode,this.uniqueId="subtasks_"+this.task.id()+"-"+Date.now(),this.pendingTaskUpdates=[],this.listOfTasks=ko.observableArray([]),a=Math.min(this.task.numActiveSubTasks(),10),i=0,r=(new s).GetNewJSON(),r.id=-1,r.projectId=ko.unwrap(this.task.projectId),l=new s(r,this.taskList,this.task),d=[];i<a;)d.push(l),i++;this.listOfTasks.push.apply(this.listOfTasks,d),p=app.prefixApi("tasks/"+this.taskId+"/subtasks.json","API_PREFIX_V2","API_PREFIX_V2"),this.taskData=new e(p,{listField:"tasks",ItemClass:s,pageSize:this.pageSize,maxPageSize:250,fullListObservableArray:this.listOfTasks,callbackBeforeRender:function(t){return function(t){for(i=t.length-1;i>-1;)t[i].id()<1&&t.splice(i,1),i--;return t}}(),filter:{generateFilterParams:function(e){return function(){return t={},t.getFiles=!0,t.includeCustomFields=!0,e.showCompletedSubTasks()&&(t.includeCompletedTasks=!0),app.loggedInUser.administrator()&&(t.useAllProjects=1),t}}(this)},sort:function(t){return function(t,e){return t.position()-e.position()}}(),onLoad:function(t){return function(){return t.listOfTasks(t.taskData.list())}}(this),loadNow:!1}),this.subscriptions.push(app.ko.postbox.subscribe("task-move-failed",function(t){return function(e){if(t.taskId===e.newParentTaskId||t.taskId===e.oldParentTaskId)return t.taskData.Sync()}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("allTWEvents",this.OnNotifyTWEvent)),this.subscriptions.push(app.ko.postbox.subscribe("task-dependencies-updated",function(t){return function(e){if(null!=(null!=e?e.affectedTaskListIds:void 0)&&Array.isArray(e.affectedTaskListIds))return e.affectedTaskListIds.includes(t.taskList.id())?t.taskData.LoadUpdates():void 0}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("task-"+this.taskId+"-cancel-adding-subtask",function(t){return function(){var e;if(e=t.taskData.serverFilteredList,e.pop(),t.pendingTaskUpdates.length>0)return t.pendingTaskUpdates=[],t.taskData.LoadUpdates().then(t.ensureTaskFormIsAtEnd)}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("close-all-other-task-forms",function(t){return function(e){var s,n,a,o,l,r;for(o=t.taskData.serverFilteredList,s=app.utility.FindIndexByKeyValue(o(),"id",0),-1!==s&&(null!=t.taskList&&t.taskList.isAddingTask(!1),o.pop()),l=o(),r=[],n=0,a=l.length;n<a;n++)i=l[n],i.id()!==e?r.push(i.isEditMode(!1)):r.push(void 0);return r}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("indent-subtask-on-task-"+this.taskId,function(t){return function(e){var s,n,i,a;if((n=app.utility.FindIndexByKeyValue(t.taskData.list(),"id",e.taskId))>0)return i=t.taskData.list()[n],a=t.taskData.list()[n-1],s={"todo-item":{"notify-followers":!1,logActivity:!1,parentTaskId:a.id(),positionAfterTask:0,taskListId:t.taskList.id()}},a.displayPreferences.isDisplayingSubTasksSection(!0),app.api.put("tasks/"+i.id()+".json",s).then(function(e){var s;return s={eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:i.id(),subType:"task-drop",taskListId:t.taskList.id(),newTaskListId:t.taskList.id(),oldTaskListId:t.taskList.id(),newParentTaskId:a.id(),oldParentTaskId:t.taskId,taskStatus:i.status(),prevTaskId:-1,task:i.Clone()},app.ko.postbox.publish("allTWEvents",s)})}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("outdent-subtask-on-tasklist-"+this.taskList.id(),function(t){return function(e){var s,n,i,a;if((n=app.utility.FindIndexByKeyValue(t.taskData.list(),"id",e.parentTaskId))>-1)return t.taskData.list()[n-1],a=e.parentTaskId/1,i=t.task.id()/1,s={"todo-item":{"notify-followers":!1,logActivity:!1,positionAfterTask:e.parentTaskId,taskListId:t.taskList.id()}},a!==i&&(s["todo-item"].parentTaskId=i),app.api.put("tasks/"+e.taskId+".json",s).then(function(s){var n;return n={eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:e.taskId,subType:"task-drop",taskListId:t.taskList.id(),newTaskListId:t.taskList.id(),oldTaskListId:t.taskList.id(),newParentTaskId:i,oldParentTaskId:a,prevTaskId:e.parentTaskId},app.ko.postbox.publish("allTWEvents",n)})}}(this))),this.canAddSubtasks=ko.pureComputed(function(t){return function(){var e;return e=t.taskData.serverFilteredList,-1===app.utility.FindIndexByKeyValue(e(),"id",0)}}(this)),this.subscriptions.push(this.canAddSubtasks),this.subscriptions.push(this.task.numCompletedSubTasks.subscribe(function(t){return function(e){return 0===t.completedTasksCount&&1===e&&t.showCompletedSubTasks(!0),t.completedTasksCount=e}}(this))),this.subscriptions.push(this.showCompletedSubTasks.subscribe(function(t){return function(e){var s,n,a,o,l;if(null!=e&&!e){for(a=t.taskData.serverFilteredList,o=a(),l=[],s=0,n=o.length;s<n;s++)i=o[s],l.push(i.showWhenComplete(!1));return l}}}(this))),this.subscriptions.push(this.completedTasksLabel=ko.pureComputed(function(t){return function(){var e;return e=t.showCompletedSubTasks()?1===t.task.numCompletedSubTasks()?app.tl("Hide the completed subtask",t.task.numCompletedSubTasks()):app.tl("Hide the [_s] completed subtasks",t.task.numCompletedSubTasks()):1===t.task.numCompletedSubTasks()?app.tl("[_s] completed subtask",t.task.numCompletedSubTasks()):app.tl("[_s] completed subtasks",t.task.numCompletedSubTasks()),ko.unwrap(e)}}(this))),this.subscriptions.push(this.showCloseLink=ko.pureComputed(function(t){return function(){return null==app.currentRoute().itemId||(null==app.currentRoute().projectTab||("tasklists"===app.currentRoute().projectTab||"tasks"===app.currentRoute().projectTab&&app.currentRoute().itemId!==t.task.id()))}}(this))),app.InitOnShow(this)}return t.prototype.OnNotifyTWEvent=function(t){var e,i,a,o,l,r,p,d,c,u,k;if(t.itemId=parseInt(t.itemId,10),null==t.parentTaskId&&(t.parentTaskId=0),"milestone"===t.itemType&&t.itemId===(null!=(a=this.taskList)&&"function"==typeof a.milestoneId?a.milestoneId():void 0)&&null!=(null!=(o=t.extraInfo)?o.shiftTaskDates:void 0)==!0)return void this.taskData.LoadUpdates();if(null!=(l=t.subType)?l.endsWith("bulkEditTasks"):void 0){if(e=app.utility.ConvertToArray(null!=(r=null!=(p=t.extraInfo)&&null!=(d=p.data)?d.affectedTaskListIds:void 0)?r:"").map(Number),e.includes(this.task.taskListId()))return void("modify"===(null!=(c=t.extraInfo)&&null!=(u=c.data)?u.operation:void 0)?this.loadTaskUpdates(t):this.taskData.Reload())}else{if(t.parentTaskId===this.task.id()||t.itemId===this.task.id()&&"task"===t.itemType){if(null!=t.userId&&t.userId!==app.loggedInUser.id()&&n(".editTaskForm").length>0)return void this.pendingTaskUpdates.push(t);switch(t.subType){case"moveOrCopy":if("move"!==t.moveOrCopyMode)return void this.taskData.LoadUpdates();this.taskData.DeleteItemById(t.itemId);break;case"attached-files":case"removed-files":return void this.taskData.LoadUpdates();case"comment":return void(null!=t.editMode&&t.editMode||this.taskData.LoadUpdates());default:if("task-completed"===(k=!t.subType)||"task-reopened"===k)return void this.taskData.LoadUpdates()}return t.actionType===app.consts.ACTIONTYPE.ADDED&&"drag-or-pasted-files"!==t.subType?void this.taskData.LoadUpdates().then(function(e){return function(){var n;if((null==t.userId||t.userId.toString()===app.loggedInUser.id().toString())&&(n=e.taskData.serverFilteredList,-1===app.utility.FindIndexByKeyValue(n(),"id",0)))return n.push(new s(null,e.taskList,e.task))}}(this)).then(this.ensureTaskFormIsAtEnd):void this.taskData.LoadUpdates().then(this.ensureTaskFormIsAtEnd)}if(null!=t.oldParentTaskId&&null!=t.newParentTaskId){if("task-reorder"===t.subType&&t.newParentTaskId===this.task.id())return void this.taskData.LoadUpdates();if("task-drop"===t.subType){if(t.oldParentTaskId===this.task.id()&&t.oldParentTaskId!==t.newParentTaskId)return this.taskData.DeleteItemById(t.itemId),void(0===this.taskData.serverFilteredList().length&&this.task.displayPreferences.isDisplayingSubTasksSection(!1));if(t.newParentTaskId===this.task.id()&&t.oldParentTaskId!==t.newParentTaskId)return void this.taskData.LoadUpdates()}}else"task"===t.itemType&&null!=t.subType&&"task-edited"===t.subType?(i=this.taskData.serverFilteredList,-1!==app.utility.FindIndexByKeyValue(i(),"id",t.itemId)&&parseInt(t.parentTaskId,10)!==this.task.id()&&this.taskData.DeleteItemById(parseInt(t.itemId,10))):"task"===t.itemType&&console.info("[Parent task id: "+this.taskId+"] Subtasks list - ignore:",t)}},t.prototype.OnRendered=function(){},t.prototype.OnShow=function(){},t.prototype.OnClickShowAddSubTask=function(){var t;app.ko.postbox.publish("close-all-other-task-forms",0),t=this.taskData.serverFilteredList,t.push(new s(null,this.taskList,this.task))},t.prototype.OnClickAddTimeEstimate=function(t){var e;return e=function(e){return function(s){var n,i;if(!s.wasCancelled)return i=e.taskList.estimatedTotalMinutes(),n=t.estimatedMinutes(),t.estimatedMinutes(s.minutes),0===s.minutes?e.taskList.estimatedTotalMinutes(i-n):n<s.minutes?e.taskList.estimatedTotalMinutes(i-(s.minutes-n)):e.taskList.estimatedTotalMinutes(i+(s.minutes-n))}}(this),app.modal.Show("addOrEditTimeEstimate",{item:t,projectId:this.projectId,type:"task",onCloseCallBack:e})},t.prototype.shouldDisplay=function(t){return"deleted"!==t.status()&&(!!(this.showCompletedSubTasks()||!this.showCompletedSubTasks()&&t.showWhenComplete())||!(!this.showCompletedSubTasks()&&"completed"===t.status()))},t.prototype.sortByDate=function(t,e){var s;return s="completed"===this.tab?"ascending":"descending","ascending"===s?t.deadlineYYYYMMDD()===e.deadlineYYYYMMDD()?t.name<e.name?-1:1:t.deadlineYYYYMMDD()>e.deadlineYYYYMMDD()?-1:1:t.deadlineYYYYMMDD()===e.deadlineYYYYMMDD()?t.name<e.name?-1:1:t.deadlineYYYYMMDD()<e.deadlineYYYYMMDD()?-1:1},t.prototype.loadTaskUpdates=function(t){var e,s,n,a,o,l,r,p;if(null==(null!=(o=t.extraInfo)&&null!=(l=o.data)?l.affectedTaskIds:void 0)||""===t.extraInfo.data.affectedTaskIds)return t.parentTaskId>0?this.taskData.LoadUpdates():i.resolve();for(r=app.utility.ConvertToArray(t.extraInfo.data.affectedTaskIds,!0),r=ko.utils.arrayMap(r,function(t){return parseInt(t,10)}),e=[],n=0,a=r.length;n<a;n++)s=r[n],(p=app.utility.FindIndexByKeyValue(this.taskData.list(),"id",s))>-1&&e.push(p);return e.length||t.parentTaskId===this.task.id()?this.taskData.LoadUpdates():i.resolve()},t.prototype.ensureTaskFormIsAtEnd=function(){var t,e,s;if(null!=this.taskData)return s=this.taskData.serverFilteredList,t=app.utility.FindIndexByKeyValue(s(),"id",0),-1!==t?(e=s()[t],this.taskData.RepositionItemAtIndex(e,s().length)):void 0},t.prototype.checkIfItemDeleted=function(t){return"deleted"===t.status()},t.prototype.notifyMilestoneUpdated=function(t){app.ko.postbox.publish("milestone-"+app.consts.ACTIONTYPE.UPDATED,{eventTime:new Date,itemType:"milestone",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:t.id()})},t.prototype.getUserAvatar=function(t){return t===app.loggedInUser.id()?app.loggedInUser.avatarUrl():"//cdn.teamwork.com/images/noPhoto2.png"},t.prototype.dispose=function(){null!=this.subscriptions&&this.subscriptions.forEach(function(t){return t.dispose()}),this.taskData.dispose(),delete this.taskData},t}(),{viewModel:a,template:t}}.apply(e,i))&&(t.exports=a)}).call(e,s(245))},4116:function(t,e,s){(function(n){var i,a,o=function(t,e){return function(){return t.apply(e,arguments)}};i=[s(2937),s(1152),s(1118),s(14)],void 0!==(a=function(t,e,s,i){var a;return a=function(){function t(t){var e;null==t&&(t={}),this.updateMilestoneInfo=o(this.updateMilestoneInfo,this),this.reloadTaskListStats=o(this.reloadTaskListStats,this),this.OnRendered=o(this.OnRendered,this),this.OnNotifyTWEvent=o(this.OnNotifyTWEvent,this),this.componentName="SectionTaskList",this.params=t,this.parent=null!=t.parentVM?t.parentVM:t.parentVM=null,this.taskList=t.taskList,this.projectId=t.projectId,this.subscriptions=[],this.pageSize=null!=t.pageSize?t.pageSize:t.pageSize=100,this.mode=null!=t.mode?t.mode:t.mode="normal",this.showCompletedTasksLink=!0,this.isQuickView=null!=(e=t.isQuickView)&&e,this.milestoneShowing=ko.observable(!1),this.isReordering="boolean"==typeof t.isReordering?ko.observable(t.isReordering):ko.isObservable(t.isReordering)?t.isReordering:ko.observable(!1),this.isTaskListPage="tasklists"===app.currentRoute()[1]||"task-templates"===app.currentRoute().page&&null!=app.currentRoute().taskTemplateId,this.project=app.projectInfo.get(this.projectId),this.subscriptions.push(this.tasklistUrl=ko.pureComputed(function(t){return function(){return t.isQuickView?"#projects/"+t.projectId+"/tasklists/"+t.taskList.id():"#tasklists/"+t.taskList.id()}}(this))),this.subscriptions.push(this.companyUrl=ko.pureComputed(function(t){return function(){return null!=t.project()?"#/companies/"+t.project().company.id():""}}(this))),this.subscriptions.push(this.projectName=ko.pureComputed(function(t){return function(){return null!=t.project()?t.project().name():""}}(this))),this.subscriptions.push(this.companyName=ko.pureComputed(function(t){return function(){return null!=t.project()?t.project().company.name():""}}(this))),this.subscriptions.push(this.isProjectTemplate=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.project())?e.isTemplate():void 0}}(this))),this.estimateLoaded=ko.observable(!1),this.subscriptions.push(this.canAddTasks=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.project())?e.permissions.canAddTasks():void 0}}(this))),this.subscriptions.push(this.canAddTaskLists=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.project())?e.permissions.canAddTaskLists():void 0}}(this))),this.subscriptions.push(this.milestoneFeatureEnabled=ko.pureComputed(function(t){return function(){var e;return(null!=(e=t.project())?e.activePages.milestones():void 0)>0}}(this))),this.isQuickView&&this.taskList.collapsed(!1),this.isTaskListPage?(this.tasksPageSize=50,this.tasksLoadAll=!0,this.tasksInitNumPagesToLoad=4):(this.tasksPageSize=50,this.tasksLoadAll=!1,this.tasksInitNumPagesToLoad=1),this.subscriptions.push(this.readyToShowTasks=ko.pureComputed(function(t){return function(){return!(null!=t.params.index&&t.parent&&t.parent.numSectionTaskListLoaded&&t.params.index>t.parent.numSectionTaskListLoaded())&&(!!t.isTaskListPage||!t.taskList.collapsed()&&!t.isReordering())}}(this))),this.subscriptions.push(this.showBlankSlate=ko.pureComputed(function(t){return function(){return!!t.isTaskListPage&&(!t.taskList.isAddingTask()&&0===t.taskList.numIncomplete())}}(this))),this.GetEstimatedTotalMinutes=function(t){return function(){if(!t.estimateLoaded())return 0!==t.taskList.numComplete()||0!==t.taskList.numIncomplete()?t.taskList.GetEstimatedTotalMinutes().then(function(){return t.estimateLoaded(!0)}):void 0}}(this),this.onloadTasks=function(t){return function(e){var s;s=e.xhr.getResponseHeader("cacheTest"),null!=s&&console.info("cacheTest result:",s),0===e.response.tasks.length&&"welcomeMat"===app.cache.get("welcome-mat-hasComeFrom")&&(app.cache.set("welcome-mat-hasComeFrom",""),app.loggedInUser.preferences.showWelcomeMat()&&1===t.parent.data.list().length&&t.taskList.OnClickAddTask()),1===e.loadOpts.page&&setTimeout(function(){return t.parent.numSectionTaskListLoaded&&t.parent.numSectionTaskListLoaded(t.parent.numSectionTaskListLoaded()+1),t.GetEstimatedTotalMinutes()},0)}}(this),this.uniqueId=this.taskList.id()+"-"+(new Date).getTime(),this.tl=ko.observable(null),this.showingDropdown=ko.observable(!1),this.subscriptions.push(app.ko.postbox.subscribe("tasklist-templates-toggle-all-tasklists",function(t){return function(e){if("template"===t.mode)return t.taskList.collapsed(e),app.cache.set("taskList-"+t.taskList.id()+"-collapsed",e)}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("project-"+ko.unwrap(this.projectId)+"-toggle-all-tasklists",function(t){return function(e){return t.taskList.collapsed(e),app.cache.set("taskList-"+t.taskList.id()+"-collapsed",e)}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("allTWEvents",this.OnNotifyTWEvent)),this.subscriptions.push(app.ko.postbox.subscribe("widget-tipped-milestone-info-request-milestone",function(t){return function(e){var s;if(null!=t.taskList.milestone)return s=n.extend({},t.taskList.milestone),s.tasklists=[t.taskList],app.ko.postbox.publish("widget-tipped-milestone-info",{milestone:s,index:t.taskList.milestone.id()})}}(this))),app.InitOnShow(this)}return t.prototype.OnNotifyTWEvent=function(t){var e,s,n,i,a,o,l,r,p,d,c,u,k,h;i=null!=(a=app.currentRoute().projectTab)?a:"",s=null!=(o=t.newTaskListId)?o:0,n=null!=(l=t.oldTaskListId)?l:0,parseInt(this.taskList.id(),10),"task"===t.itemType&&"tasklists"===i&&(s===n||(r=this.taskList.id())!==s&&r!==n?null!=t.taskListId&&t.taskListId===this.taskList.id()&&(this.reloadTaskListStats(),this.taskList.milestoneId()>0&&this.updateMilestoneInfo()):this.reloadTaskListStats()),"milestone"===t.itemType&&this.taskList.milestoneId()===parseInt(t.itemId,10)&&(t.actionType===app.consts.ACTIONTYPE.DELETED?(this.taskList.milestoneId(0),delete this.taskList.milestone):t.actionType===app.consts.ACTIONTYPE.UPDATED&&this.updateMilestoneInfo()),"task"===t.itemType&&this.taskList.isTemplate&&null!=t.taskListId&&t.taskListId===this.taskList.id()&&this.reloadTaskListStats(),(null!=(p=t.subType)?p.endsWith("bulkEditTasks"):void 0)&&"modify"!==(null!=(d=t.extraInfo)&&null!=(c=d.data)?c.operation:void 0)&&(e=app.utility.ConvertToArray(null!=(u=null!=(k=t.extraInfo)&&null!=(h=k.data)?h.affectedTaskListIds:void 0)?u:"").map(Number),e.includes(this.taskList.id())&&this.reloadTaskListStats())},t.prototype.OnRendered=function(){},t.prototype.OnShow=function(){},t.prototype.reloadTaskListStats=function(){return app.api.get(app.prefixApi("tasklists/"+this.taskList.id()+".json?getCompletedCount=1","API_PREFIX_V1","API_PREFIX_V1")).then(function(t){return function(e){var s;return s=e.response.todoList,t.taskList.numIncomplete(null!=(null!=s?s.uncompletedCount:void 0)?parseInt(s.uncompletedCount,10):0),t.taskList.numComplete(null!=(null!=s?s.completedCount:void 0)?parseInt(s.completedCount,10):0)}}(this))},t.prototype.formatMilestoneDate=function(t){return t.startOf("day").format("YYYYMMDD")===i().startOf("day").format("YYYYMMDD")?app.tl("Today"):t.startOf("day").format("YYYYMMDD")===i().startOf("day").add(1,"days").format("YYYYMMDD")?app.tl("Tomorrow"):t.startOf("day").format("YYYYMMDD")===i().startOf("day").subtract(1,"days").format("YYYYMMDD")?app.tl("Yesterday"):t.startOf("day").from(i().startOf("day"))},t.prototype.updateMilestoneInfo=function(){if(null!=this.taskList.milestone)return app.api.get("milestones/"+this.taskList.milestoneId()+".json?getProgress=true").then(function(t){return function(s){var n;return n=new e(s.response.milestone),t.taskList.milestoneId(n.id()),t.taskList.milestone.title(n.title()),t.taskList.milestone.description(n.description()),t.taskList.milestone.completed(n.completed()),t.taskList.milestone.responsiblePartyNames(n.responsiblePartyNames()),t.taskList.milestone.responsiblePartyIds(n.responsiblePartyIds()),t.taskList.milestone.deadline(n.deadline()),t.taskList.milestone.reminder(n.reminder()),null!=t.taskList.milestone.getProgress?(t.taskList.milestone.getProgress(n.getProgress()),t.taskList.milestone.progressText(n.progressText()),t.taskList.milestone.progress(n.progress())):(t.taskList.milestone.getProgress=ko.observable(n.getProgress()),t.taskList.milestone.progressText=ko.observable(n.progressText()),t.taskList.milestone.progress=ko.observable(n.progress())),app.ko.postbox.publish("widget-tipped-milestone-info",{milestone:t.taskList.milestone,index:t.taskList.milestone.id()})}}(this)).catch(function(t){return function(t){return console.error(t)}}())},t.prototype.dispose=function(){null!=this.subscriptions&&this.subscriptions.forEach(function(t){return t.dispose()})},t}(),{viewModel:a,template:t}}.apply(e,i))&&(t.exports=a)}).call(e,s(245))},4119:function(t,e,s){var n,i,a=function(t,e){return function(){return t.apply(e,arguments)}},o=[].indexOf||function(t){for(var e=0,s=this.length;e<s;e++)if(e in this&&this[e]===t)return e;return-1};n=[s(2940),s(1116),s(1138),s(1166),s(246)],void 0!==(i=function(t,e,s,n,i){var l;return l=function(){function t(t){var n,o,l;null==t&&(t={}),this.DragulaMoves=a(this.DragulaMoves,this),this.DragulaInvalid=a(this.DragulaInvalid,this),this.getFullUrl=a(this.getFullUrl,this),this.sortTaskLists=a(this.sortTaskLists,this),this.OnDrop=a(this.OnDrop,this),this.OnClickAddTemplate=a(this.OnClickAddTemplate,this),this.OnClickAddTaskList=a(this.OnClickAddTaskList,this),this.OnNotifyTWEvent=a(this.OnNotifyTWEvent,this),this.projectPermissions=null!=app.currentRoute().project?app.currentRoute().project.permissions:null,this.params=t,this.pageSize=null!=(n=t.pageSize)?n:25,this.projectId=null!=(o=t.projectId)?o:0,this.subscriptions=[],this.parent=t.parentVM,this.taskMode=null!=(l=t.taskMode)?l:"normal",app.cache.remove("project"+this.projectId+"-lastTaskListId"),this.numSectionTaskListLoaded=ko.observable(0),this.currentLoadedIndex=0,this.getNextLoadIndex=function(t){return function(e){return e.collapsed()?null:t.currentLoadedIndex++}}(this),this.subscriptions.push(this.fullUrl=ko.pureComputed(this.getFullUrl)),this.data=new e(this.fullUrl(),{listField:"tasklists",ItemClass:s,pageSize:this.pageSize,updatesAtBottom:ko.observable(!0),params:{},initNumPagesToLoad:4,sort:this.sortTaskLists,loadNow:!0,callbackBeforeRender:function(t){return function(e,s){return s.loadingMode===i.LOADINGMODE.ACTIVE&&(e=t.collapseOlderTasksLists(e,5)),e}}(this)}),this.onboardingHasAddedTasks=ko.observable(!0),this.subscriptions.push(this.canAddTaskLists=ko.pureComputed(function(t){return function(){var e;return"template"===t.taskMode||!!(null!=(e=app.currentRoute().project)?e.permissions.canAddTaskLists():void 0)}}(this))),this.breadcrumbHTML=ko.observable(app.tl("All Lists")),this.subscriptions.push(app.ko.postbox.subscribe("allTWEvents",this.OnNotifyTWEvent)),this.subscriptions.push(this.shared=app.shared.get("viewModel/taskLists")),this.shared(this),this.subscriptions.push(this.isReordering=app.shared.get("state/taskLists/isReordering")),this.isReordering(!1),app.InitOnShow(this)}return t.prototype.OnShow=function(){},t.prototype.OnNotifyTWEvent=function(t){var e,s,n,i,a,l,r;if(r=null!=(e=t.subType)?e:"",null!=(s=t.newTaskListId)?s:0,null!=(n=t.oldTaskListId)?n:0,"projecttasks"!==t.itemType.toLowerCase()||"import"!==(i=t.subType)&&"bulkEditTasks"!==i)if("task"===t.itemType)this.data.LoadUpdates();else if("taskListTemplate"===t.itemType){if("sorted"===t.subType&&this.data.pages()>1)return void this.data.Reload();this.data.LoadUpdates().then(function(e){return function(){if("added"===t.actionType)return setTimeout(function(){var e;return e="#taskList"+t.itemId,app.utility.ScrollIntoViewIfNeeded(e),app.utility.Highlight(e,20)},500)}}())}else"taskLists"===t.itemType&&parseInt(t.itemId,10)===parseInt(ko.unwrap(this.projectId),10)?this.data.LoadUpdates():"tasklist"===t.itemType.toLowerCase()||"milestone"===t.itemType?"tasklist-moved"===t.subType?(null!=(a=t.extraInfo)&&null!=(l=a.data)?l.sourceProjectId:void 0)===ko.unwrap(this.projectId)&&this.data.DeleteItemById(t.itemId):this.data.LoadUpdates().then(function(e){return function(){return"added"===t.actionType?setTimeout(function(){var e;if(!app.modals().filter(function(t){var e;return"quicklyAddTasksToTasklist"===(e=t.name)||"bulkEditTasks"===e}).length)return e="#taskList"+t.itemId,app.utility.ScrollIntoViewIfNeeded(e),app.utility.Highlight(e,20)},500):t.actionType===app.consts.ACTIONTYPE.UPDATED&&o.call("tasklist-completed",r)>=0?e.data.DeleteItemById(t.itemId):void 0}}(this)):"task"===t.itemType&&t.actionType===app.consts.ACTIONTYPE.ADDED&&null!=t.taskListId&&-1===app.utility.FindIndexByKeyValue(this.data.list(),"id",t.taskListId)&&this.data.LoadUpdates();else this.data.Sync()},t.prototype.OnClickAddTaskList=function(){return app.modal.Show("addOrEditTaskList",{projectId:ko.unwrap(this.projectId)})},t.prototype.OnClickAddTemplate=function(){return app.modal.Show("addOrEditTaskListTemplate",{projectId:ko.unwrap(this.projectId)})},t.prototype.OnDrop=function(t){var e,s;e=t.item,s=t.targetIndex,app.api.put("tasklists/"+e.id()+"/reposition.json",{position:s+1}).then(function(t){return function(){app.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:"taskLists",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:e.projectId()})}}())},t.prototype.sortTaskLists=function(t,e){return t.position()-e.position()},t.prototype.getFullUrl=function(){return app.prefixApi("projects/"+this.projectId+"/tasklists.json?showMilestones=1&getCompletedCount=1&getNewTaskDefaults=1&includeCustomFields=true&getDLMs=1","API_PREFIX_V1","API_PREFIX_V1")},t.prototype.collapseOlderTasksLists=function(t,e){var s;return t.length<=e?t:(s=t.slice().filter(function(t){return!t.collapsed()}).map(function(t){return t.id()}).splice(0,e),t.map(function(t){-1===s.indexOf(t.id())&&t.collapsed(!0)}),t)},t.prototype.DragulaInvalid=function(t,e){return!this.canAddTaskLists()},t.prototype.DragulaMoves=function(t,e,s,n){return s.classList.contains("taskListDrag")},t.prototype.dispose=function(){this.isReordering(!1),this.subscriptions.forEach(function(t){return t.dispose()}),this.data.dispose(),delete this.data},t}(),{viewModel:l,template:t}}.apply(e,n))&&(t.exports=i)},4121:function(t,e,s){(function(n,i){var a,o,l=function(t,e){return function(){return t.apply(e,arguments)}};a=[s(2943),s(1116),s(1125),s(1118),s(1119),s(1117)],void 0!==(o=function(t,e,s,a,o,r){var p;return p=function(){function t(t){var n;null==t&&(t={}),this.notifyMilestoneUpdated=l(this.notifyMilestoneUpdated,this),this.checkIfItemDeleted=l(this.checkIfItemDeleted,this),this.removeCompletedItems=l(this.removeCompletedItems,this),this.ensureTaskFormIsAtEnd=l(this.ensureTaskFormIsAtEnd,this),this.loadTaskUpdates=l(this.loadTaskUpdates,this),this.sortByDate=l(this.sortByDate,this),this.OnClickAddTimeEstimate=l(this.OnClickAddTimeEstimate,this),this.OnRendered=l(this.OnRendered,this),this.OnNotifyTWEvent=l(this.OnNotifyTWEvent,this),this.componentName="SectionTasksList",this.params=t,this.mode=null!=t.mode?t.mode:t.mode="normal",this.subscriptions=[],this.taskList=t.taskList,this.taskListId=this.taskList.id(),this.parent=t.parentVM,this.TaskModel=s,this.pageSize=null!=t.pageSize?t.pageSize:t.pageSize=25,this.initNumPagesToLoad=null!=t.initNumPagesToLoad?t.initNumPagesToLoad:t.initNumPagesToLoad=1,this.loadAll=null!=t.loadAll?t.loadAll:t.loadAll=!1,this.showCompletedTasksLink=!0,this.completedCount=ko.observable(0),this.numIncomplete=t.numIncomplete,this.projectId=t.projectId,this.isQuickView=null!=t.isQuickView?t.isQuickView:t.isQuickView=!1,this.project=app.projectInfo.get(this.projectId),this.subscriptions.push(this.canAddTasks=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.project())?e.permissions.canAddTasks():void 0}}(this))),this.subscriptions.push(this.canAddTaskLists=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.project())?e.permissions.canAddTaskLists():void 0}}(this))),this.subscriptions.push(this.viewEstimatedTime=ko.pureComputed(function(t){return function(){var e;return!app.loggedInUser.isCollaborator()&&(null!=(e=t.project())?e.permissions.viewEstimatedTime():void 0)}}(this))),this.pendingTaskUpdates=[],this.subscriptions.push(this.numTasksCompletedSinceLoad=ko.pureComputed(function(t){return function(){var e;return(null!=(e=t.taskData)?e.list:void 0)?t.taskData.list().filter(function(t){return"completed"===t.status()}).length:0}}(this))),n=app.prefixApi("tasklists/"+this.taskListId+"/tasks.json","API_PREFIX_V2","API_PREFIX_V2"),this.taskData=new e(n,{listField:"tasks",ItemClass:s,pageSize:this.pageSize,maxPageSize:250,offsetCount:this.numTasksCompletedSinceLoad,params:{},loadNow:!1,loadAll:this.loadAll,initNumPagesToLoad:this.initNumPagesToLoad,filter:{generateFilterParams:function(e){return function(){return t={},t.getFiles=1,t.getSubTasks=0,t.includeCustomFields=!0,t}}()},updatesExtraURLParams:{includeCompletedTasks:1},sort:function(t,e){return t.position()-e.position()},onLoad:this.params.onloadCallback}),this.notEditing=ko.observable(!0),this.subscriptions.push(this.shared=app.shared.get("viewModel/tasksList/"+this.taskListId)),this.shared(this),this.subscriptions.push(app.ko.postbox.subscribe("task-move-failed",function(t){return function(e){if(t.taskListId===e.newTaskListId||t.taskListId===e.oldTaskListId)return t.taskData.Sync()}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("allTWEvents",this.OnNotifyTWEvent)),this.subscriptions.push(app.ko.postbox.subscribe("task-dependencies-updated",function(t){return function(e){if(null!=(null!=e?e.affectedTaskListIds:void 0)&&Array.isArray(e.affectedTaskListIds))return e.affectedTaskListIds.includes(t.taskListId)?t.taskData.LoadUpdates():void 0}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("tasklist-"+this.taskList.id()+"-begin-adding-task",function(t){return function(){var e;return t.notEditing(!0),e=app.utility.FindIndexByKeyValue(t.taskData.serverFilteredList(),"id",0),-1===e?t.taskData.isLoading()?setTimeout(function(){return t.OnClickShowAddTask()},500):t.OnClickShowAddTask():app.utility.ScrollIntoViewIfNeeded(".editTaskForm",0)}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("tasklist-"+this.taskListId+"-cancel-adding-task",function(t){return function(){if(t.notEditing(!0),t.taskList.isAddingTask(!1),t.taskData.serverFilteredList.pop(),t.pendingTaskUpdates.length>0)return t.pendingTaskUpdates=[],t.taskData.LoadUpdates().then(t.ensureTaskFormIsAtEnd)}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("indent-task-on-tasklist-"+this.taskListId,function(t){return function(e){var s,n,i,a;if((n=app.utility.FindIndexByKeyValue(t.taskData.list(),"id",e.taskId))>0)return i=t.taskData.list()[n],a=t.taskData.list()[n-1],s={"todo-item":{"notify-followers":!1,logActivity:!1,parentTaskId:a.id(),positionAfterTask:0,taskListId:t.taskListId}},a.displayPreferences.isDisplayingSubTasksSection(!0),app.api.put("tasks/"+i.id()+".json",s).then(function(e){var s;return s={eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:i.id(),subType:"task-drop",taskListId:t.taskListId,newTaskListId:t.taskListId,oldTaskListId:t.taskListId,newParentTaskId:a.id(),oldParentTaskId:0,taskStatus:i.status(),prevTaskId:-1,task:i.Clone()},app.ko.postbox.publish("allTWEvents",s)})}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("outdent-subtask-on-tasklist-"+this.taskListId,function(t){return function(e){var s,n;if((n=app.utility.FindIndexByKeyValue(t.taskData.list(),"id",e.parentTaskId))>-1)return t.taskData.list()[n-1],s={"todo-item":{"notify-followers":!1,logActivity:!1,parentTaskId:0,positionAfterTask:e.parentTaskId,taskListId:t.taskListId}},app.api.put("tasks/"+e.taskId+".json",s).then(function(s){var n;return n={eventTime:new Date,itemType:"task",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:e.taskId,subType:"task-drop",taskListId:t.taskListId,newTaskListId:t.taskListId,oldTaskListId:t.taskListId,newParentTaskId:0,oldParentTaskId:e.parentTaskId,prevTaskId:e.parentTaskId},app.ko.postbox.publish("allTWEvents",n)})}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("close-all-other-task-forms",function(t){return function(e){var s,n,i,a,o,l;for(t.notEditing(!1),s=app.utility.FindIndexByKeyValue(t.taskData.serverFilteredList(),"id",0),-1!==s&&(t.taskList.isAddingTask(!1),t.taskData.serverFilteredList.pop()),o=t.taskData.serverFilteredList(),l=[],i=0,a=o.length;i<a;i++)n=o[i],n.id()!==e?l.push(n.isEditMode(!1)):l.push(void 0);return l}}(this))),this.subscriptions.push(app.ko.postbox.subscribe("cancel-editing-task",function(t){return function(e){return t.notEditing(!0)}}(this))),app.InitOnShow(this)}return t.prototype.OnNotifyTWEvent=function(t){var e,a,l,r,p,d,c,u,k,h,m,f,b,x,T,v,I,g,y,w,C,L,D,O,_,M;if(l=null!=(k=t.itemType)?k:"task",null==t.parentTaskId&&(t.parentTaskId=0),null==t.taskListId&&(t.taskListId=0),t.taskListId=parseInt(t.taskListId,10),null==t.oldTaskListId&&(t.oldTaskListId=0),null==t.newTaskListId&&(t.newTaskListId=0),null==t.newParentTaskId&&(t.newParentTaskId=0),parseInt(t.taskListId,10)===this.taskListId&&null!=this.taskList&&null!=(null!=(h=t.extraInfo)?h.data:void 0)&&(a=t.extraInfo.data,null!=a.hasEstimatedTime&&a.hasEstimatedTime&&this.taskList.GetEstimatedTotalMinutes()),"tasklist"===l.toLowerCase()&&parseInt(t.itemId,10)===this.taskListId){if(null==t.oldMilestoneId&&(t.oldMilestoneId=0),null==t.newMilestoneId&&(t.newMilestoneId=0),this.loadTaskUpdates(t),"privacy-changed"===t.subType||parseInt(t.oldMilestoneId,10)!==parseInt(t.newMilestoneId,10))return void this.taskData.Sync()}else{if("tasklists"===l.toLowerCase()&&"updated"===t.actionType&&parseInt(t.itemId,10)===this.taskListId)return void this.taskData.Sync();if(null!=(y=t.subType)?y.endsWith("bulkEditTasks"):void 0){if(e=app.utility.ConvertToArray(null!=(w=null!=(C=t.extraInfo)&&null!=(L=C.data)?L.affectedTaskListIds:void 0)?w:"").map(Number),e.includes(this.taskListId))return void("modify"===(null!=(D=t.extraInfo)&&null!=(O=D.data)?O.operation:void 0)?this.loadTaskUpdates(t):this.taskData.Reload())}else{if("milestone"===l&&t.itemId===(null!=(_=this.taskList)&&"function"==typeof _.milestoneId?_.milestoneId():void 0)&&null!=(null!=(M=t.extraInfo)?M.shiftTaskDates:void 0)==!0)return void this.taskData.Sync();if("task"===l&&t.taskListId===this.taskListId&&"task-reopened"===t.subType&&0!==t.parentTaskId)return void this.loadTaskUpdates(t);if("task"===l&&t.taskListId===this.taskListId&&"task-completed"===t.subType&&0!==t.parentTaskId)return void this.loadTaskUpdates(t);if("task"===l&&t.taskListId===this.taskListId&&"task-reorder"===t.subType&&0===t.newParentTaskId)return void this.loadTaskUpdates(t);if("task"===l&&"task-edited"===t.subType)return void(null!=(null!=(m=t.extraInfo)&&null!=(f=m.data)?f.oldTaskListId:void 0)&&null!=t.extraInfo.data.newTaskListId?(u=t.extraInfo.data.oldTaskListId,d=t.extraInfo.data.newTaskListId,0===u&&0===d?this.loadTaskUpdates(t):u===this.taskListId&&d!==this.taskListId&&-1!==d?this.taskData.DeleteItemById(parseInt(t.itemId,10)):d===this.taskListId&&u!==this.taskListId&&this.taskData.LoadUpdates()):null!=(null!=(b=t.extraInfo)&&null!=(x=b.data)?x.newParentTaskId:void 0)&&null!=(null!=(T=t.extraInfo)&&null!=(v=T.data)?v.newParentTaskId:void 0)?(c=t.extraInfo.data.oldParentTaskId,(p=t.extraInfo.data.newParentTaskId)!==c&&(0===c&&0!==p&&this.taskData.DeleteItemById(parseInt(t.itemId,10)),this.taskData.LoadUpdates())):this.loadTaskUpdates(t));if("task"===l&&t.taskListId===this.taskListId&&"sort"===t.subType)return void(this.taskData.totalRecords()<=this.pageSize?this.taskData.LoadUpdates().then(this.removeCompletedItems):this.taskData.Reload());if("task"===l&&"moveOrCopy"===t.subType&&((I=this.taskListId)===t.oldTaskListId||I===t.newTaskListId)){if("move"===t.moveOrCopyMode&&t.newTaskListId===t.oldTaskListId)return;return void("copy"===t.moveOrCopyMode&&t.taskListId===this.taskListId?(this.loadTaskUpdates(t),this.taskList.GetEstimatedTotalMinutes()):this.taskListId===t.oldTaskListId?this.taskData.DeleteItemById(t.itemId):(this.taskData.LoadUpdates(),this.taskList.GetEstimatedTotalMinutes()))}if("task"===l&&"task-drop"===t.subType)return t.newTaskListId===this.taskListId&&0===t.newParentTaskId?(this.taskList.numIncomplete(this.taskList.numIncomplete()+1),this.loadTaskUpdates(t)):t.oldTaskListId===this.taskListId&&0===t.oldParentTaskId&&(this.taskData.DeleteItemById(t.itemId),this.taskList.numIncomplete(this.taskList.numIncomplete()-1)),void((null!=(g=t.task)&&"function"==typeof g.estimatedMinutes?g.estimatedMinutes():void 0)>0&&this.taskList.GetEstimatedTotalMinutes());if("task"!==l&&"task_comment"!==l||0!==t.parentTaskId||t.taskListId!==this.taskListId)"task"===l&&console.info("[TaskList id: "+this.taskListId+"] Tasks list - ignore:",t);else{if(null!=t.userId&&t.userId!==app.loggedInUser.id()&&n(".editTaskForm").length>0)return void this.pendingTaskUpdates.push(t);if(t.subType){switch(t.subType){case"attached-files":case"removed-files":this.loadTaskUpdates(t);break;case"comment":null!=t.editMode&&t.editMode||this.loadTaskUpdates(t);break;default:this.loadTaskUpdates(t)}return}0===this.pendingTaskUpdates.length&&(t.actionType===app.consts.ACTIONTYPE.ADDED?(r=this.taskData.serverFilteredList().length,this.loadTaskUpdates(t).then(function(e){return function(){var s,n;if(e.taskData.serverFilteredList().length===r&&null!=(null!=(s=t.taskCopy)?s.id:void 0))return n=app.prefixApi("tasks/"+t.taskCopy.id+".json","API_PREFIX_V2","API_PREFIX_V2"),i.getJSON(n)}}(this)).then(function(t){return function(e){if(null!=(null!=e?e.task:void 0))return e=o.camelize(e),t.taskData.serverFilteredList.push(new s(e.task))}}(this)).then(this.ensureTaskFormIsAtEnd)):this.loadTaskUpdates(t).then(this.ensureTaskFormIsAtEnd)),this.pendingTaskUpdates.length>0&&(this.pendingTaskUpdates=[],this.loadTaskUpdates(t).then(this.ensureTaskFormIsAtEnd))}}}},t.prototype.OnRendered=function(){},t.prototype.OnShow=function(){},t.prototype.OnClickShowAddTask=function(){var t;app.ko.postbox.publish("close-all-other-task-forms",0),this.taskList.isAddingTask(!0),t=new s(null,this.taskList),"task-templates"===app.currentRoute().page&&t.reminders([]),this.taskData.serverFilteredList.push(t)},t.prototype.OnClickAddTimeEstimate=function(t){var e;return e=function(e){return function(s){var n,i;if(!s.wasCancelled)return i=e.taskList.estimatedTotalMinutes(),n=t.estimatedMinutes(),t.estimatedMinutes(s.minutes),0===s.minutes?e.taskList.estimatedTotalMinutes(i-n):n<s.minutes?e.taskList.estimatedTotalMinutes(i-(s.minutes-n)):e.taskList.estimatedTotalMinutes(i+(s.minutes-n))}}(this),app.modal.Show("addOrEditTimeEstimate",{item:t,projectId:this.projectId,type:"task",onCloseCallBack:e})},t.prototype.sortByDate=function(t,e){var s;return s="completed"===this.tab?"ascending":"descending","ascending"===s?t.deadlineYYYYMMDD()===e.deadlineYYYYMMDD()?t.name<e.name?-1:1:t.deadlineYYYYMMDD()>e.deadlineYYYYMMDD()?-1:1:t.deadlineYYYYMMDD()===e.deadlineYYYYMMDD()?t.name<e.name?-1:1:t.deadlineYYYYMMDD()<e.deadlineYYYYMMDD()?-1:1},t.prototype.loadTaskUpdates=function(t){var e,s,n,i,a,o,l,p;if(null==(null!=(a=t.extraInfo)&&null!=(o=a.data)?o.affectedTaskIds:void 0)||""===t.extraInfo.data.affectedTaskIds)return 0===t.parentTaskId&&t.taskListId===this.taskListId?this.taskData.LoadUpdates():r.resolve();for(l=app.utility.ConvertToArray(t.extraInfo.data.affectedTaskIds,!0),l=ko.utils.arrayMap(l,function(t){return parseInt(t,10)}),e=[],n=0,i=l.length;n<i;n++)s=l[n],(p=app.utility.FindIndexByKeyValue(this.taskData.list(),"id",s))>-1&&e.push(p);return 0===t.parentTaskId&&t.taskListId===this.taskListId?this.taskData.LoadUpdates():1===e.length?this.taskData.list()[e[0]].LoadUpdate():e.length?this.taskData.LoadUpdates():r.resolve()},t.prototype.ensureTaskFormIsAtEnd=function(){var t,e;if(null!=this.taskData)return t=app.utility.FindIndexByKeyValue(this.taskData.serverFilteredList(),"id",0),-1!==t?(e=this.taskData.serverFilteredList()[t],this.taskData.RepositionItemAtIndex(e,this.taskData.serverFilteredList().length)):void 0},t.prototype.removeCompletedItems=function(){var t,e;return t=function(){var t,s,n,i;for(n=this.taskData.list(),i=[],t=0,s=n.length;t<s;t++)e=n[t],"completed"===e.status()&&i.push(e.id());return i}.call(this),this.taskData.DeleteItemsById(t)},t.prototype.checkIfItemDeleted=function(t){return"deleted"===t.status()},t.prototype.notifyMilestoneUpdated=function(t){app.ko.postbox.publish("milestone-"+app.consts.ACTIONTYPE.UPDATED,{eventTime:new Date,itemType:"milestone",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:t.id()})},t.prototype.dispose=function(){null!=this.subscriptions&&this.subscriptions.forEach(function(t){return t.dispose()}),this.taskData.dispose()},t}(),{viewModel:p,template:t}}.apply(e,a))&&(t.exports=o)}).call(e,s(245),s(245))},4146:function(t,e,s){var n,i,a=function(t,e){return function(){return t.apply(e,arguments)}};n=[s(2974),s(1125),s(1116)],void 0!==(i=function(t,e,s){var n;return n=function(){function t(t){null==t&&(t={}),this.OnClickViewActivity=a(this.OnClickViewActivity,this),this.OnClickModify=a(this.OnClickModify,this),this.OnMoveTask=a(this.OnMoveTask,this),this.OnClickCustomField=a(this.OnClickCustomField,this),this.subscriptions=[],this.taskId=ko.pureComputed(function(){var t;return null!=(t="tasks"===app.currentRoute().projectTab&&app.currentRoute().itemId)?t:0}),this.taskViewModelPureComputed=ko.pureComputed(function(t){return function(){return app.shared.getPureComputed("viewModel/taskRow/"+t.taskId())}}(this)),this.taskViewModel=ko.pureComputed(function(t){return function(){return t.taskViewModelPureComputed()()}}(this)),this.task=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.taskViewModel())?e.task:void 0}}(this)),this.isProjectAdmin=ko.pureComputed(function(t){return function(){var t,e;return null!=(t=app.currentRoute().project)&&null!=(e=t.permissions)?e.projectAdministrator:void 0}}()),this.subscriptions.push(this.shouldShowCRMDeals=ko.pureComputed(function(t){return function(){return app.loggedInUser.canAccessCRM()&&app.account.CRMEnabled()}}())),this.subscriptions.push(this.isTemplate=ko.pureComputed(function(t){return function(){var t;return null!=(t=app.currentRoute().project)?t.isTemplate():void 0}}())),this.subscriptions.push(this.canEditCustomFields=ko.pureComputed(function(t){return function(){var e;return null!=(e=t.task())?e.canEdit():void 0}}(this)))}return t.prototype.OnClickCustomField=function(t){this.taskViewModel().focusInputId(t.customFieldId()),this.taskViewModel().editTabSelCode("customFields"),this.task().isEditMode()||this.task().OnClickEdit()},t.prototype.OnMoveTask=function(){app.modal.Show("moveOrCopyItem",{type:"task",item:this.task(),itemId:this.task().id(),projectId:this.task().projectId()})},t.prototype.OnClickModify=function(){var t;Tipped.hideAll(),t=function(t){return function(e){var s;if(!e.wasCancelled&&null!=(null!=e&&null!=(s=e.completer)?s.id:void 0))return t.task().completedBy.id(parseInt(e.completer.id,10)),t.task().completedBy.firstName(e.completer.firstName),t.task().completedBy.lastName(e.completer.lastName),t.task().completedOn(e.dateCompleted)}}(this),app.modal.Show("taskProperties",{id:this.task().id(),projectId:this.task().projectId(),task:this.task(),mode:"completed",onCloseCallBack:t})},t.prototype.OnClickViewActivity=function(){app.featureFlip.check("audittrail",{unwrap:!0})&&app.quickView.show("audit",{itemId:this.task().id(),itemType:"task"})},t.prototype.GetCustomFieldColor=function(t){var e,s;return e="#999",null==(s=t.options.choices().filter(function(e){return e.value()===t.initialValue()}))?e:s.map(function(t){return t.color()})},t.prototype.dispose=function(){null!=this.subscriptions&&this.subscriptions.forEach(function(t){return t.dispose()})},t}(),{viewModel:n,template:t}}.apply(e,n))&&(t.exports=i)},4147:function(t,e,s){var n,i,a=function(t,e){return function(){return t.apply(e,arguments)}};n=[s(2975),s(1116),s(1138)],void 0!==(i=function(t,e,s){var n;return n=function(){function t(t){var n,i,o;null==t&&(t={}),this.DragulaInvalid=a(this.DragulaInvalid,this),this.OnDrop=a(this.OnDrop,this),this.OnNotifyTWEvent=a(this.OnNotifyTWEvent,this),this.OnShowTaskListsReport=a(this.OnShowTaskListsReport,this),this.OnShowGanttReport=a(this.OnShowGanttReport,this),this.OnClickToggleAllCompleted=a(this.OnClickToggleAllCompleted,this),this.OnClickAddNewTaskList=a(this.OnClickAddNewTaskList,this),this.OnListLoaded=a(this.OnListLoaded,this),this.params=t,this.pageSize=null!=(n=t.pageSize)?n:100,this.projectId=null!=(i=t.projectId)?i:app.currentRoute().project.id(),this.subscriptions=[],this.subscriptions.push(this.isReordering=app.shared.get("state/taskLists/isReordering")),null==this.isReordering()&&this.isReordering(!1),this.maxListsToShow=app.loggedInUser.preferences.tasklistsCompletedCount,this.activeLists=ko.observableArray([]),this.completeLists=ko.observableArray([]),this.subscriptions.push(this.tasksBaseUrl=ko.pureComputed(function(t){return function(){if(null!=app.currentRoute().project)return"projects/"+app.currentRoute().project.id()+"/"}}())),this.fullUrl=ko.computed({read:function(t){return function(){return app.prefixApi("projects/"+app.currentRoute().project.id()+"/tasklists.json?status=all&getCompletedCount=true&sortBy=status","API_PREFIX_V1","API_PREFIX_V1")}}(),disposeWhen:function(t){return function(){return null==app.currentRoute().project}}()}),this.subscriptions.push(this.fullUrl),this.subscriptions.push(this.isProjectTemplate=ko.pureComputed(function(t){return function(){var t;return null!=(t=app.currentRoute().project)?t.isTemplate():void 0}}())),this.currentProjectId=null!=(o=app.currentRoute().projectId)?o:0,this.subscriptions.push(app.currentRoute.subscribe(function(t){return function(e){if(null!=e.project)return e.projectId===t.currentProjectId&&t.data.LoadUpdates(),t.currentProjectId=e.project.id()}}(this))),this.data=new e(this.fullUrl,{listField:"tasklists",ItemClass:s,pageSize:this.pageSize,updatesAtBottom:ko.observable(!0),params:{},loadAll:!0,loadAllMaxPages:10,loadNow:!0,sort:function(t){return function(t,e){return t.position()-e.position()}}(),onLoad:function(t){return function(e){var s,n;if(e.loadOpts.isLoadingInitialPage&&(t.activeLists().length>0&&t.activeLists([]),t.completeLists().length>0&&t.completeLists([])),null!=t.data)return s=ko.utils.arrayFilter(t.data.list(),function(t){return!t.complete()}),s=s.sort(function(t,e){return t.position()-e.position()}),t.activeLists(s),n=ko.utils.arrayFilter(t.data.list(),function(t){return t.complete()}),n=n.sort(function(t,e){return t.name().localeCompare(e.name())}),t.completeLists(n),requestAnimationFrame(function(){app.ko.postbox.publish("recalculate-sidebar")})}}(this)}),this.subscriptions.push(app.ko.postbox.subscribe("allTWEvents",this.OnNotifyTWEvent)),this.subscriptions.push(this.activeTasksTotal=ko.pureComputed(function(t){return function(){var e,s,n,i,a;if("content"!==t.data.state())return 0;for(e=0,a=t.data.list(),s=0,i=a.length;s<i;s++)n=a[s],e+=n.numIncomplete();return e}}(this))),this.subscriptions.push(this.isShowingAllCompletedTasks=ko.pureComputed(function(t){return function(){return t.completeLists().length<=5||t.maxListsToShow()>t.completeLists().length}}(this))),app.InitOnShow(this),this.subscriptions.push(this.canAddTaskLists=ko.pureComputed(function(t){return function(){var t;return!!(null!=(t=app.currentRoute().project)?t.permissions.canAddTaskLists():void 0)}}()))}return t.prototype.OnShow=function(){},t.prototype.OnListLoaded=function(t){return app.NextTick(function(){return app.ko.postbox.publish("recalculate-sidebar")})},t.prototype.OnClickAddNewTaskList=function(){app.modal.Show("addOrEditTaskList",{projectId:app.currentRoute().projectId})},t.prototype.OnClickToggleAllCompleted=function(){return 5===this.maxListsToShow()?this.maxListsToShow(2e3):this.maxListsToShow(5)},t.prototype.OnShowGanttReport=function(){return app.modal.Show("ganttChartReport",{projectId:app.currentRoute().projectId})},t.prototype.OnShowTaskListsReport=function(){return app.modal.Show("taskListReport",{projectId:app.currentRoute().projectId})},t.prototype.OnNotifyTWEvent=function(t){var e,s,n,i,a,o,l,r,p,d,c,u,k,h,m,f;if(s=(o=t.actionType)===app.consts.ACTIONTYPE.DELETED||o===app.consts.ACTIONTYPE.ADDED,null!=t.subType&&"task-drop"===t.subType)t.newTaskListId!==t.oldTaskListId&&this.data.LoadUpdates();else if("tasklist"===t.itemType.toLowerCase()&&"tasklist-moved"===t.subType)(null!=(l=t.extraInfo)&&null!=(p=l.data)?p.sourceProjectId:void 0)===ko.unwrap(this.projectId)&&this.data.Sync();else if("taskLists"===t.itemType)this.data.LoadUpdates();else if("taskList"===t.itemType||"milestone"===t.itemType||"task"===t.itemType){if(t.projectId/1!=app.currentRoute().project.id()/1)return;null!=t.taskListId||null!=t.newTaskListId&&null!=t.oldTaskListId&&t.newTaskListId!==t.oldTaskListId?t.actionType===app.consts.ACTIONTYPE.DELETED&&"taskList"===t.itemType?(e=app.utility.FindIndexByKeyValue(this.activeLists(),"id",parseInt(t.taskListId,10)),-1!==e&&this.activeLists.splice(e,1),a=app.utility.FindIndexByKeyValue(this.completeLists(),"id",parseInt(t.taskListId,10)),-1!==a&&this.completeLists.splice(a,1),this.data.LoadUpdates()):"attached-files"!==t.subType&&this.data.LoadUpdates().then(function(){return app.ko.postbox.publish("recalculate-sidebar",!0)}):"moveOrCopy"===t.subType&&this.data.LoadUpdates()}else"projectTasks"===t.itemType&&"import"===t.subType&&t.itemId===app.currentRoute().projectId?this.data.LoadUpdates():(null!=(d=t.subType)?d.endsWith("bulkEditTasks"):void 0)&&"tasklists"===app.currentRoute().projectTab?(i=app.utility.ConvertToArray(null!=(c=null!=(u=t.extraInfo)&&null!=(k=u.data)?k.affectedTaskListIds:void 0)?c:"").map(Number),i.includes(app.currentRoute().itemId)&&this.data.LoadUpdates()):(null!=(h=t.subType)?h.endsWith("bulkEditTasks"):void 0)?(n=app.utility.ConvertToArray(null!=(m=null!=(f=t.extraInfo)&&null!=(r=f.data)?r.affectedProjectIds:void 0)?m:"").map(Number),n.includes(app.currentRoute().projectId)&&this.data.LoadUpdates()):"tasklist"===t.itemType&&parseInt(t.projectId,10)===this.projectId&&s&&this.data.LoadUpdates()},t.prototype.OnDrop=function(t){var e,s,n,i,a,o,l;(a=this.activeLists().length)<2||(s=t.item,o=t.targetIndex,e=o===a-1,l={},e?(n=this.activeLists()[o-1],l.positionAfterId=n.id()):(i=this.activeLists()[o+1],l.positionBeforeId=i.id()),app.api.put("tasklists/"+s.id()+"/reposition.json",l).then(function(t){return function(){app.ko.postbox.publish("allTWEvents",{eventTime:new Date,itemType:"taskLists",actionType:app.consts.ACTIONTYPE.UPDATED,itemId:s.projectId()})}}()))},t.prototype.truncateName=function(t){return t.name().length<=26?t.name():""+t.name().substr(0,25)+app.localizationPreferences().ellipsis},t.prototype.DragulaInvalid=function(t,e){return!this.canAddTaskLists()},t.prototype.dispose=function(){null!=this.subscriptions&&this.subscriptions.forEach(function(t){return t.dispose()}),this.data.dispose(),delete this.data},t}(),{viewModel:n,template:t}}.apply(e,n))&&(t.exports=i)},4321:function(t,e,s){var n,i,a=function(t,e){return function(){return t.apply(e,arguments)}};n=[s(3196)],void 0!==(i=function(t){var e,s;return e="WidgetSearchInput: ",s=function(){function t(t){var s;null==t&&(t={}),this.OnClear=a(this.OnClear,this),this.OnSubmit=a(this.OnSubmit,this),this.subscriptions=[],this.value=t.value,console.assert(ko.isObservable(this.value),e+": value must be an observable"),this.value.extend({rateLimit:100}),this.mode=t.mode,this.mode&&console.assert("small"===(s=ko.unwrap(this.mode))||"medium"===s||"large"===s),this.placeholder=t.placeholder||"Search",this.showIcon=!0,this.iconClass="fa-search",this.showClear=!0,this.hideClearWhenEmpty=!0,this.OnSubmitHandler=t.OnSubmit||function(t){return function(){return!1}}(),this.OnClearHandler=t.OnClear||function(t){return function(){return!1}}(),this.subscriptions.push(this.isClearHidden=ko.pureComputed(function(t){return function(){return null==t.value()||t.value().length<=0}}(this)))}return t.prototype.OnSubmit=function(){"function"==typeof this.OnSubmitHandler&&this.OnSubmitHandler()},t.prototype.OnClear=function(){this.value(""),"function"==typeof this.OnClearHandler&&this.OnClearHandler()},t.prototype.dispose=function(){this.subscriptions.forEach(function(t){return t.dispose()})},t}(),{viewModel:s,template:t}}.apply(e,n))&&(t.exports=i)},4355:function(t,e,s){var n,i,a=function(t,e){return function(){return t.apply(e,arguments)}};n=[s(3242)],void 0!==(i=function(t){var e,s;return e="WidgetTextInput: ",s=function(){function t(t){var s,n,i,o,l,r;null==t&&(t={}),this.OnKeyDown=a(this.OnKeyDown,this),this.OnClickClear=a(this.OnClickClear,this),this.OnClickInput=a(this.OnClickInput,this),this.subscriptions=[],this.inputWithIconsClass="w-input-with-icons",this.value=t.value,console.assert(ko.isObservable(this.value),e+": value must be an observable"),this.mode=t.mode,this.mode&&console.assert("small"===(s=ko.unwrap(this.mode))||"medium"===s||"large"===s),this.placeholder=t.placeholder,this.showIcon=null==(n=t.showIcon)||n,this.iconClass=null!=(i=t.iconClass)?i:"search-regular",this.showClear=null==(o=t.showClear)||o,this.hideClearWhenEmpty=null==(l=ko.unwrap(t.hideClearWhenEmpty))||l,this.OnClearHandler=t.OnClear,this.OnClickHandler=t.OnClick,this.OnKeyDownHandler=t.OnKeyDown,this.hasFocus=app.utility.EnsureObservable(null==(r=t.hasFocus)||r),this.subscriptions.push(this.customCss=ko.computed(function(t){return function(){var e;return e={},null!=t.mode&&(e[t.inputWithIconsClass+"--"+ko.unwrap(t.mode)]=!0),e[t.inputWithIconsClass+"--left"]=ko.unwrap(t.showIcon),e[t.inputWithIconsClass+"--right"]=ko.unwrap(t.showClear),e}}(this))),this.subscriptions.push(this.iconCss=ko.computed(function(t){return function(){var e;return e={},e[ko.unwrap(t.iconClass)]=!0,e}}(this))),this.subscriptions.push(this.isClearHidden=ko.pureComputed(function(t){return function(){return null==t.value()||t.value().length<=0}}(this)))}return t.prototype.OnClickInput=function(){"function"==typeof this.OnClickHandler&&this.OnClickHandler()},t.prototype.OnClickClear=function(){this.value(""),this.hasFocus(!0),"function"==typeof this.OnClearHandler&&this.OnClearHandler()},t.prototype.OnKeyDown=function(t,e){return null==this.OnKeyDownHandler||("function"==typeof this.OnKeyDownHandler?this.OnKeyDownHandler(t,e):void 0)},t.prototype.dispose=function(){this.subscriptions.forEach(function(t){return t.dispose()})},t}(),{viewModel:s,template:t}}.apply(e,n))&&(t.exports=i)}});
//# sourceMappingURL=projectTasks.5f599f9fcadd47b3a02c.js.map